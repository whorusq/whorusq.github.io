<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Less çš„åŸºæœ¬ä½¿ç”¨å…¥é—¨</title>
    <url>/post/48640546.html</url>
    <content><![CDATA[<blockquote>
<p>ç»™ CSS åŠ ç‚¹æ–™ ~</p>
<p>LESSï¼ˆLeaner Style Sheets çš„ç¼©å†™ï¼‰ ä¸º CSS èµ‹äºˆäº†åŠ¨æ€è¯­è¨€çš„ç‰¹æ€§ï¼Œå¦‚å˜é‡ï¼Œç»§æ‰¿ï¼Œè¿ç®—ï¼Œå‡½æ•°ç­‰ï¼Œå®ƒæ˜¯ä¸€é—¨å‘åå…¼å®¹çš„ CSS æ‰©å±•è¯­è¨€ã€‚</p>
<p>å½“å‰æœ€æ–°ç‰ˆæœ¬ï¼š<a href="https://github.com/less/less.js/blob/master/CHANGELOG.md">Less 3.0</a></p>
</blockquote>
<p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="http://lesscss.org/">http://lesscss.org</a></p>
<p>å¿«é€Ÿå…¥é—¨ï¼š<a href="http://www.bootcss.com/p/lesscss">http://www.bootcss.com/p/lesscss</a></p>
<p>æºç åœ°å€ï¼š<a href="https://github.com/less/less.js">https://github.com/less/less.js</a></p>
<span id="more"></span>

<h3 id="1-æµè§ˆå™¨ä½¿ç”¨"><a href="#1-æµè§ˆå™¨ä½¿ç”¨" class="headerlink" title="1. æµè§ˆå™¨ä½¿ç”¨"></a>1. æµè§ˆå™¨ä½¿ç”¨</h3><h4 id="1-1-ç¼–è¯‘æˆ-css-ğŸ‘"><a href="#1-1-ç¼–è¯‘æˆ-css-ğŸ‘" class="headerlink" title="1.1. ç¼–è¯‘æˆ *.css ğŸ‘"></a>1.1. ç¼–è¯‘æˆ *.css ğŸ‘</h4><ul>
<li><p>node.js</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">âœ  npm install -g less</span><br><span class="line">âœ  lessc styles.less styles.css</span><br></pre></td></tr></table></figure></li>
<li><p>koala</p>
<p>  è¿™æ˜¯ä¸€ä¸ªç®€å•æ˜“ç”¨çš„ GUI å·¥å…·ï¼Œå¯ä»¥å¯¹ less è¿›è¡Œå®æ—¶ç¼–è¯‘ã€å‹ç¼©ç­‰ï¼Œè¯¦è§ï¼š<a href="http://koala-app.com/index-zh.html">http://koala-app.com/index-zh.html</a></p>
<p>  æ›´å¤šå·¥å…·ï¼Œè¯·è®¿é—®å®˜ç½‘ï¼š<a href="http://lesscss.org/tools/#guis-for-less">http://lesscss.org/tools/#guis-for-less</a></p>
</li>
<li><p>webapckï¼ˆåç»­å¾…è¡¥å……â€¦ï¼‰</p>
</li>
</ul>
<h4 id="1-2-å€ŸåŠ©-less-js"><a href="#1-2-å€ŸåŠ©-less-js" class="headerlink" title="1.2. å€ŸåŠ© less.js"></a>1.2. å€ŸåŠ© less.js</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- é¦–å…ˆå¼•å…¥ less æ–‡ä»¶ï¼Œæ³¨æ„è¿™é‡Œçš„ rel ç±»å‹ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet/less&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;styles.less&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ä¹‹åå¼•å…¥ less.js æ–‡ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;//cdn.bootcss.com/less.js/3.0.0/less.min.js&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>æ³¨æ„</strong>ï¼š</p>
<ul>
<li>*.less æ–‡ä»¶ä¸€å®šè¦åœ¨å¼•å…¥ less.js ä¹‹å‰å¼•å…¥ã€‚</li>
<li>è¯·åœ¨ web æœåŠ¡ç¯å¢ƒä¸‹ä½¿ç”¨ï¼Œç›´æ¥åŒå‡»æ‰“å¼€å¯èƒ½æŠ¥é”™ã€‚</li>
</ul>
</blockquote>
<h3 id="2-è¯­æ³•è§„åˆ™"><a href="#2-è¯­æ³•è§„åˆ™" class="headerlink" title="2. è¯­æ³•è§„åˆ™"></a>2. è¯­æ³•è§„åˆ™</h3><h4 id="2-1-å˜é‡ï¼ˆVariablesï¼‰"><a href="#2-1-å˜é‡ï¼ˆVariablesï¼‰" class="headerlink" title="2.1. å˜é‡ï¼ˆVariablesï¼‰"></a>2.1. å˜é‡ï¼ˆVariablesï¼‰</h4><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰å˜é‡</span></span><br><span class="line"><span class="variable">@bg-color:</span> <span class="number">#fffccc</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨å˜é‡</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="variable">@bg-color</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fffccc</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿˜æ”¯æŒè¿™æ ·ï¼š</p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@size:</span> <span class="number">14px</span>;</span><br><span class="line"><span class="variable">@content-font-size:</span> <span class="string">&#x27;size&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h3</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="variable">@@content-font-size</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h3</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-2-æ··åˆï¼ˆMixinsï¼‰"><a href="#2-2-æ··åˆï¼ˆMixinsï¼‰" class="headerlink" title="2.2. æ··åˆï¼ˆMixinsï¼‰"></a>2.2. æ··åˆï¼ˆMixinsï¼‰</h4><p>æˆ‘ä»¬å¯ä»¥é¢„å…ˆå®šä¹‰ä¸€ä¸ªé€šç”¨çš„å±æ€§é›†ï¼ˆmixinï¼Œå¦‚ä¸‹é¢çš„ .borderedï¼‰ï¼Œç„¶ååœ¨å¦ä¸€ä¸ªéœ€è¦ç”¨åˆ°çš„å±æ€§é›†ï¼ˆå¦‚ä¸‹é¢çš„ #menuï¼‰é‡Œé¢å»è°ƒç”¨ï¼ˆæˆ–ç§°ä½œå¼•å…¥ã€åˆå¹¶ï¼‰ï¼Œè¿™ç§æ–¹å¼å«æ··åˆã€‚</p>
<ul>
<li><p>åŸºæœ¬ä½¿ç”¨</p>
  <figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.bordered</span> &#123; <span class="comment">// å¦‚æœä¸æƒ³è¿™ä¸ª mixin è¢«ç¼–è¯‘è¾“å‡ºï¼Œå¯ä»¥å†™æˆ .bordered() &#123; ... &#125;</span></span><br><span class="line">    <span class="attribute">border-top</span>: dotted <span class="number">1px</span> black;</span><br><span class="line">    <span class="attribute">border-bottom</span>: solid <span class="number">2px</span> black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#link</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="selector-class">.bordered</span>; <span class="comment">// .bordered(); å®ŒæˆåŒæ ·çš„åŠŸèƒ½ï¼Œæ‹¬å·ä¸æ˜¯å¿…é¡»çš„ã€‚</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.bordered</span> &#123;</span><br><span class="line">  <span class="attribute">border-top</span>: dotted <span class="number">1px</span> black;</span><br><span class="line">  <span class="attribute">border-bottom</span>: solid <span class="number">2px</span> black;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#link</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">border-top</span>: dotted <span class="number">1px</span> black;</span><br><span class="line">  <span class="attribute">border-bottom</span>: solid <span class="number">2px</span> black;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>å¸¦å‚æ•°çš„æ··åˆ</p>
  <figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.border-radius</span> (<span class="variable">@radius</span>) &#123; <span class="comment">// ä¸è®¾ç½®å‚æ•°é»˜è®¤å€¼ï¼Œè°ƒç”¨æ—¶å¿…é¡»ä¼ å‚ï¼Œå¦åˆ™ç¼–è¯‘æŠ¥é”™</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="variable">@radius</span>;</span><br><span class="line">    -moz-<span class="attribute">border-radius</span>: <span class="variable">@radius</span>;</span><br><span class="line">    -webkit-<span class="attribute">border-radius</span>: <span class="variable">@radius</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.border-radius2</span> (<span class="variable">@radius</span>: <span class="number">5px</span>) &#123; <span class="comment">// è®¾ç½®å‚æ•°é»˜è®¤å€¼</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="variable">@radius</span>;</span><br><span class="line">    -moz-<span class="attribute">border-radius</span>: <span class="variable">@radius</span>;</span><br><span class="line">    -webkit-<span class="attribute">border-radius</span>: <span class="variable">@radius</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#header</span> &#123;</span><br><span class="line">  <span class="selector-class">.border-radius</span>(<span class="number">4px</span>); <span class="comment">// ä¼ å‚ 4px</span></span><br><span class="line">  <span class="comment">//.border-radius; // ç¼–è¯‘æŠ¥é”™</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#footer</span> &#123;</span><br><span class="line">    <span class="selector-class">.border-radius2</span>; <span class="comment">// ç¼–è¯‘æ­£å¸¸ï¼Œä¸ä¼ å‚æ—¶ï¼Œå¯ä»¥çœç•¥ ()</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#header</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">  -moz-<span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">  -webkit-<span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#footer</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  -moz-<span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  -webkit-<span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>@arguments å˜é‡</p>
<p>  <strong>@arguments</strong> åŒ…å«äº†æ‰€æœ‰ä¼ é€’è¿›æ¥çš„å‚æ•°ï¼Œå¦‚ä¸‹ç¤ºä¾‹</p>
  <figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box-shadow</span> (<span class="variable">@x</span>: <span class="number">0</span>, <span class="variable">@y</span>: <span class="number">0</span>, <span class="variable">@blur</span>: <span class="number">1px</span>, <span class="variable">@color</span>: <span class="number">#000</span>) &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="variable">@arguments</span>;</span><br><span class="line">  -moz-<span class="attribute">box-shadow</span>: <span class="variable">@arguments</span>;</span><br><span class="line">  -webkit-<span class="attribute">box-shadow</span>: <span class="variable">@arguments</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.div1</span> &#123;</span><br><span class="line">    <span class="selector-class">.box-shadow</span>(<span class="number">2px</span>, <span class="number">5px</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.div1</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">2px</span> <span class="number">5px</span> <span class="number">1px</span> <span class="number">#000000</span>;</span><br><span class="line">  -moz-<span class="attribute">box-shadow</span>: <span class="number">2px</span> <span class="number">5px</span> <span class="number">1px</span> <span class="number">#000000</span>;</span><br><span class="line">  -webkit-<span class="attribute">box-shadow</span>: <span class="number">2px</span> <span class="number">5px</span> <span class="number">1px</span> <span class="number">#000000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>åŒ¹é…æ¨¡å¼</p>
<p>  åªæœ‰è¢«åŒ¹é…çš„æ··åˆæ‰ä¼šè¢«ä½¿ç”¨ã€‚</p>
<p>  å˜é‡å¯ä»¥åŒ¹é…ä»»æ„çš„ä¼ å…¥å€¼ï¼Œè€Œå˜é‡ä»¥å¤–çš„å›ºå®šå€¼å°±ä»…ä»…åŒ¹é…ä¸å…¶ç›¸ç­‰çš„ä¼ å…¥å€¼ã€‚</p>
  <figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.mixin</span> (dark, <span class="variable">@color</span>) &#123; <span class="comment">// è°ƒç”¨æ—¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»ä¼  dark æ‰ä¼šåŒ¹é…</span></span><br><span class="line">    <span class="attribute">color</span>: darken(<span class="variable">@color</span>, <span class="number">10%</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.mixin</span> (light, <span class="variable">@color</span>) &#123; <span class="comment">// è°ƒç”¨æ—¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»ä¼  light æ‰ä¼šåŒ¹é…</span></span><br><span class="line">    <span class="attribute">color</span>: lighten(<span class="variable">@color</span>, <span class="number">10%</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.mixin</span> (<span class="variable">@_</span>, <span class="variable">@color</span>) &#123; <span class="comment">// ä¸ç®¡ç¬¬ä¸€ä¸ªå‚æ•°ä¼ ä»€ä¹ˆï¼Œéƒ½ä¼šåŒ¹é…</span></span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">@switch:</span> light;</span><br><span class="line"><span class="selector-class">.class</span> &#123;</span><br><span class="line">    <span class="selector-class">.mixin</span>(<span class="variable">@switch</span>, <span class="number">#888</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.class</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#a2a2a2</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  ä¹Ÿå¯ä»¥åŒ¹é…å¤šä¸ªå‚æ•°ï¼Œå³<strong>æ ¹æ®è°ƒç”¨æ—¶ä¼ å‚çš„å¤šå°‘ï¼ŒåŒ¹é…å¯¹åº”çš„æ··åˆè§„åˆ™</strong>ï¼ˆå¦‚ä¸‹ï¼‰ã€‚</p>
  <figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.mixin2</span> (<span class="variable">@a</span>) &#123; <span class="comment">// è°ƒç”¨æ—¶ä¼ 1ä¸ªå‚æ•°</span></span><br><span class="line">  <span class="attribute">color</span>: <span class="variable">@a</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.mixin2</span> (<span class="variable">@a</span>, <span class="variable">@b</span>) &#123; <span class="comment">// è°ƒç”¨æ—¶ä¼ 2ä¸ªå‚æ•°</span></span><br><span class="line">  <span class="attribute">color</span>: <span class="variable">@b</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.class2</span> &#123;</span><br><span class="line">    <span class="selector-class">.mixin2</span>(<span class="number">#888</span>, <span class="number">#eee</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line"><span class="selector-class">.class2</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#eeeeee</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>å¯¼å¼•ï¼ˆGuards ï¼‰</p>
<p>  ä½¿ç”¨å…³é”®å­— when æ ¹æ®è¡¨è¾¾å¼è¿›è¡ŒåŒ¹é…æ··åˆï¼ˆmixinï¼‰ã€‚</p>
<p>  ä¸ºäº†å°½å¯èƒ½åœ°ä¿ç•™ CSS çš„å¯å£°æ˜æ€§ï¼ŒLess é€šè¿‡å¯¼å¼•ï¼ˆGuards ï¼‰è€Œé <strong>if/else</strong> è¯­å¥æ¥å®ç°æ¡ä»¶åˆ¤æ–­ï¼Œå› ä¸ºå‰è€…å·²åœ¨ <strong><a href="https://my.oschina.net/u/1447355">@media</a> query</strong> ç‰¹æ€§ä¸­è¢«å®šä¹‰ã€‚</p>
<p>  å¦‚ä¸‹ç¤ºä¾‹ï¼š</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// when å…³é”®å­—ç”¨ä»¥å®šä¹‰ä¸€ä¸ªå¯¼å¼•ï¼ˆGuardsï¼‰åºåˆ—ï¼ˆæ­¤ä¾‹åªæœ‰ä¸€ä¸ªå¯¼å¼•ï¼‰</span><br><span class="line">.mixin (@a) when (lightness(@a) &gt;= 50%) &#123; // é¢œè‰²çš„äº®åº¦å¤§äºç­‰äº 50% æ—¶åŒ¹é…</span><br><span class="line">  background-color: black;</span><br><span class="line">&#125;</span><br><span class="line">.mixin (@a) when (lightness(@a) &lt; 50%) &#123; // é¢œè‰²çš„äº®åº¦å°äº 50% æ—¶åŒ¹é…</span><br><span class="line">  background-color: white;</span><br><span class="line">&#125;</span><br><span class="line">.mixin (@a) &#123; // ä¸ç®¡ä¼ ä»€ä¹ˆï¼Œå§‹ç»ˆåŒ¹é…</span><br><span class="line">  color: @a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.class3 &#123; .mixin(#ddd) &#125;</span><br><span class="line">.class4 &#123; .mixin(#555) &#125;</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line"></span><br><span class="line">.class3 &#123;</span><br><span class="line">  background-color: black;</span><br><span class="line">  color: #dddddd;</span><br><span class="line">&#125;</span><br><span class="line">.class4 &#123;</span><br><span class="line">  background-color: white;</span><br><span class="line">  color: #555555;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  å¯¼å¼•ä¸­å¯ç”¨çš„æ¯”è¾ƒè¿ç®—ç¬¦ **&gt;<strong>ã€</strong>&gt;=<strong>ã€</strong>=<strong>ã€</strong>=&lt;<strong>ã€</strong>&lt;**ã€‚</p>
  <figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å…³é”®å­— true åªè¡¨ç¤ºå¸ƒå°”çœŸ</span></span><br><span class="line"><span class="comment">// ä¸‹é¢ä¸¤ç§æ–¹å¼æ˜¯ç­‰ä»·çš„</span></span><br><span class="line"><span class="selector-class">.truth</span> (<span class="variable">@a</span>) <span class="keyword">when</span> (<span class="variable">@a</span>) &#123; ... &#125;</span><br><span class="line"><span class="selector-class">.truth</span> (<span class="variable">@a</span>) <span class="keyword">when</span> (<span class="variable">@a</span> = true) &#123; ... &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é™¤å…³é”®å­— true ä»¥å¤–çš„å…¶å®ƒå€¼éƒ½è¢«è§†ä½œå¸ƒå°”å‡</span></span><br><span class="line"><span class="selector-class">.class</span> &#123;</span><br><span class="line">  <span class="selector-class">.truth</span>(<span class="number">40</span>); <span class="comment">// è¿™é‡Œçš„ä¼ å‚ 40 è¢«è§†ä½œå¸ƒå°”å‡ï¼Œä¸ä¼šåŒ¹é…ä¸Šé¢å®šä¹‰çš„æ··åˆï¼ˆmixinï¼‰</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  å¯¼å¼•åºåˆ—å¯ä»¥ä½¿ç”¨åŸºäº <strong>CSS media queries</strong> çš„é€»è¾‘æ“ä½œç¬¦</p>
  <figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç”¨å…³é”®å­— and åˆå¹¶å¯¼å¼•åºåˆ—ï¼Œè¡¨ç¤ºæ¡ä»¶çš„å¹¶ä¸”å…³ç³»</span></span><br><span class="line"><span class="selector-class">.mixin</span> (<span class="variable">@a</span>) <span class="keyword">when</span> (isnumber(<span class="variable">@a</span>)) <span class="keyword">and</span> (<span class="variable">@a</span> &gt; <span class="number">0</span>) &#123; ... &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”¨é€—å· , åˆå¹¶å¯¼å¼•åºåˆ—ï¼Œè¡¨ç¤ºæ¡ä»¶çš„æˆ–è€…ï¼ˆorï¼‰å…³ç³»</span></span><br><span class="line"><span class="selector-class">.mixin</span> (<span class="variable">@a</span>) <span class="keyword">when</span> (<span class="variable">@a</span> &gt; <span class="number">10</span>), (<span class="variable">@a</span> &lt; -<span class="number">10</span>) &#123; ... &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”¨å…³é”®å­— not å–å</span></span><br><span class="line"><span class="selector-class">.mixin</span> (<span class="variable">@b</span>) <span class="keyword">when</span> <span class="keyword">not</span> (<span class="variable">@b</span> &gt; <span class="number">0</span>) &#123; ... &#125;</span><br></pre></td></tr></table></figure>

<p>  æœ€åï¼Œå¦‚æœæƒ³åŸºäºå€¼çš„ç±»å‹è¿›è¡ŒåŒ¹é…ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ <strong>is</strong>* å‡½å¼</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.mixin (@a, @b: 0) when (isnumber(@b)) &#123; ... &#125;</span><br><span class="line">.mixin (@a, @b: black) when (iscolor(@b)) &#123; ... &#125;</span><br></pre></td></tr></table></figure>

<p>  å¯ç”¨çš„ is* å‡½æ•°</p>
<ul>
<li><a href="http://lesscss.org/functions/#type-functions-iscolor">iscolor</a></li>
<li><a href="http://lesscss.org/functions/#type-functions-isnumber">isnumber</a></li>
<li><a href="http://lesscss.org/functions/#type-functions-isstring">isstring</a></li>
<li><a href="http://lesscss.org/functions/#type-functions-iskeyword">iskeyword</a></li>
<li><a href="http://lesscss.org/functions/#type-functions-isurl">isurl</a></li>
<li><a href="http://lesscss.org/functions/#type-functions-ispixel">ispixel</a> åˆ¤æ–­ä¸€ä¸ªå€¼çš„å•ä½æ˜¯å¦æ˜¯ px</li>
<li><a href="http://lesscss.org/functions/#type-functions-ispercentage">ispercentage</a> åˆ¤æ–­ä¸€ä¸ªå€¼çš„å•ä½æ˜¯å¦æ˜¯ ç™¾åˆ†æ¯”</li>
<li><a href="http://lesscss.org/functions/#type-functions-isem">isem</a> åˆ¤æ–­ä¸€ä¸ªå€¼çš„å•ä½æ˜¯å¦æ˜¯ em</li>
<li><a href="http://lesscss.org/functions/#type-functions-isunit">isunit(value, unit)</a> åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦æ˜¯æŒ‡å®šçš„å•ä½ç±»å‹</li>
<li><a href="http://lesscss.org/functions/#type-functions-isruleset">isruleset</a></li>
</ul>
</li>
</ul>
<h4 id="2-3-åµŒå¥—ï¼ˆNestingï¼‰"><a href="#2-3-åµŒå¥—ï¼ˆNestingï¼‰" class="headerlink" title="2.3. åµŒå¥—ï¼ˆNestingï¼‰"></a>2.3. åµŒå¥—ï¼ˆNestingï¼‰</h4><p>LESS å¯ä»¥è®©æˆ‘ä»¬ä»¥åµŒå¥—çš„æ–¹å¼ç¼–å†™å±‚å æ ·å¼</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#header &#123;</span><br><span class="line">  color: black;</span><br><span class="line"></span><br><span class="line">  .navigation &#123;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">  &#125;</span><br><span class="line">  .logo &#123;</span><br><span class="line">    width: 300px;</span><br><span class="line">    // ç¬¦å· &amp; è¡¨ç¤ºå½“å‰é€‰æ‹©å™¨çš„çˆ¶çº§</span><br><span class="line">    // ä¸»è¦ç”¨äºç¼–å†™ä¸²è”é€‰æ‹©å™¨ï¼Œå¯¹ä¼ªç±»ï¼ˆå¦‚:hoverã€:focusï¼‰å°¤å…¶æœ‰ç”¨</span><br><span class="line">    &amp;:hover &#123; text-decoration: none &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line"></span><br><span class="line">#header &#123;</span><br><span class="line">  color: black;</span><br><span class="line">&#125;</span><br><span class="line">#header .navigation &#123;</span><br><span class="line">  font-size: 12px;</span><br><span class="line">&#125;</span><br><span class="line">#header .logo &#123;</span><br><span class="line">  width: 300px;</span><br><span class="line">&#125;</span><br><span class="line">#header .logo:hover &#123;</span><br><span class="line">  text-decoration: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@è§„åˆ™ï¼ˆAt-rulesï¼‰ä¾‹å¦‚ <strong>@media</strong> æˆ– <strong>@supports</strong>ï¼ŒåŒæ ·æ˜¯å¯ä»¥è¢«åµŒå¥—çš„ï¼Œç¼–è¯‘åï¼Œ@è§„åˆ™è¢«æ”¾åœ¨é¡¶çº§ï¼ŒåŒä¸€ä¸ªè§„åˆ™é›†ä¸‹çš„å…¶å®ƒå…ƒç´ ç›¸å¯¹é¡ºåºä¿æŒä¸å˜ï¼Œå¦‚ä¸‹ç¤ºä¾‹ï¼š</p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.component</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="keyword">@media</span> (<span class="attribute">min-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">600px</span>;</span><br><span class="line">    <span class="keyword">@media</span>  (<span class="attribute">min-resolution</span>: <span class="number">192dpi</span>) &#123;</span><br><span class="line">      <span class="attribute">background-image</span>: url(<span class="string">/img/retina2x.png</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">@media</span> (<span class="attribute">min-width</span>: <span class="number">1280px</span>) &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">800px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.component</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">min-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">  <span class="selector-class">.component</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">600px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">min-width</span>: <span class="number">768px</span>) <span class="keyword">and</span> (<span class="attribute">min-resolution</span>: <span class="number">192dpi</span>) &#123;</span><br><span class="line">  <span class="selector-class">.component</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: url(<span class="string">/img/retina2x.png</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">min-width</span>: <span class="number">1280px</span>) &#123;</span><br><span class="line">  <span class="selector-class">.component</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">800px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-4-è¿ç®—ï¼ˆOperationsï¼‰"><a href="#2-4-è¿ç®—ï¼ˆOperationsï¼‰" class="headerlink" title="2.4. è¿ç®—ï¼ˆOperationsï¼‰"></a>2.4. è¿ç®—ï¼ˆOperationsï¼‰</h4><p>ä»»ä½•æ•°å­—ã€é¢œè‰²æˆ–è€…å˜é‡éƒ½å¯ä»¥é‡‡ç”¨è¿ç®—ç¬¦ <strong>åŠ ï¼ˆ + ï¼‰</strong>ã€<strong>å‡ï¼ˆ - ï¼‰</strong>ã€<strong>ä¹˜ï¼ˆ * ï¼‰</strong>ã€ <strong>é™¤ï¼ˆ / ï¼‰</strong> è¿›è¡Œè¿ç®—ã€‚</p>
<p>åœ¨åŠ ã€å‡æˆ–æ¯”è¾ƒæ•°å­—ä¹‹å‰ï¼Œå¦‚æœæ•°å­—åŒ…å«å•ä½ï¼Œåˆ™å…ˆè½¬æ¢æˆç›¸åŒçš„å•ä½ï¼ˆæ¯”å¦‚ 10mm è½¬æˆ 1cmï¼‰ï¼Œå¹¶ä¸”<strong>ä»¥æœ€å·¦ä¾§çš„å•ä½ä¸ºåŸºå‡†</strong>ã€‚å¦‚æœå•ä½æ˜¯ä¸å¯è½¬æ¢çš„ï¼ˆæ¯”å¦‚ px â†’ cmï¼‰æˆ–è½¬æ¢æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œåˆ™ä¼šè¢«å¿½ç•¥ã€‚</p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@conversion-1:</span> <span class="number">5cm</span> + <span class="number">10mm</span>; <span class="comment">// ç»“æœï¼š6cmï¼ˆ10mm å…ˆè½¬æˆ 1cm ç„¶åå†è®¡ç®—ï¼‰</span></span><br><span class="line"><span class="variable">@conversion-2:</span> <span class="number">2</span> - <span class="number">3mm</span> - <span class="number">5cm</span>; <span class="comment">// ç»“æœï¼š-51mmï¼ˆ5cm å…ˆè½¬æˆ 50mm ç„¶åå†è®¡ç®—ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="variable">@incompatible-units:</span> <span class="number">2</span> + <span class="number">5px</span> - <span class="number">3cm</span>; <span class="comment">// ç»“æœï¼š4pxï¼ˆcm ä¸èƒ½è½¬æˆ pxï¼Œæ‰€ä»¥å•ä½è¢«å¿½ç•¥ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="variable">@base:</span> <span class="number">5%</span>;</span><br><span class="line"><span class="variable">@filler:</span> <span class="variable">@base</span> * <span class="number">2</span>; <span class="comment">// ç»“æœï¼š10%</span></span><br><span class="line"><span class="variable">@other:</span> <span class="variable">@base</span> + <span class="variable">@filler</span>; <span class="comment">// ç»“æœï¼š15%</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#888</span> / <span class="number">4</span>; <span class="comment">// ç»“æœï¼š#222222</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span> / <span class="number">2</span> + <span class="variable">@filler</span>; <span class="comment">// ç»“æœï¼š60%</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ä¹˜æ³•</strong> å’Œ <strong>é™¤æ³•</strong> è¿ç®—ä¸ä¼šè½¬æ¢æ•°å­—ï¼Œå› ä¸ºåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼šé•¿åº¦ä¹˜ä»¥é•¿åº¦ä¼šäº§ç”Ÿä¸€ä¸ªåŒºåŸŸï¼Œè€Œcssä¸æ”¯æŒæŒ‡å®šåŒºåŸŸã€‚æ‰€ä»¥ï¼ŒLESS å°†ä¼šå¯¹æ•°å­—è¿›è¡ŒåŸæ ·æ“ä½œï¼ˆå¿½ç•¥å•ä½ï¼‰,å¹¶å°†æœ€å·¦ä¾§æŒ‡å®šçš„å•ä½å¸¦åˆ°ç»“æœé‡Œã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@base: 2cm * 3mm; // ç»“æœï¼š6cm</span><br></pre></td></tr></table></figure>

<h4 id="2-5-å‡½æ•°ï¼ˆFunctionsï¼‰"><a href="#2-5-å‡½æ•°ï¼ˆFunctionsï¼‰" class="headerlink" title="2.5. å‡½æ•°ï¼ˆFunctionsï¼‰"></a>2.5. å‡½æ•°ï¼ˆFunctionsï¼‰</h4><p>LESS æä¾›äº†ä¸€ç³»åˆ—é’ˆå¯¹é¢œè‰²ã€å­—ç¬¦ä¸²å’Œæ•°å­¦è¿ç®—çš„å‡½æ•°ï¼Œè¯¦è§<a href="http://lesscss.org/functions">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€äº›ç¤ºä¾‹ï¼š</p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">hue</span>(<span class="variable">@color</span>);        <span class="comment">// è·å–é¢œè‰²çš„è‰²è°ƒ</span></span><br><span class="line"><span class="selector-tag">saturation</span>(<span class="variable">@color</span>); <span class="comment">// è·å–é¢œè‰²çš„é¥±å’Œåº¦</span></span><br><span class="line"><span class="selector-tag">lightness</span>(<span class="variable">@color</span>);  <span class="comment">// è·å–é¢œè‰²çš„äº®åº¦</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åŸºäºä¸€ç§é¢œè‰²åˆ›å»ºå¦ä¸€ç§é¢œè‰²</span></span><br><span class="line"><span class="comment">// @new å°†ä¼šä¿æŒ @oldçš„ è‰²è°ƒ, ä½†æ˜¯å…·æœ‰ä¸åŒçš„é¥±å’Œåº¦å’Œäº®åº¦</span></span><br><span class="line">@<span class="selector-tag">new</span>: <span class="selector-tag">hsl</span>(hue(<span class="variable">@old</span>), <span class="number">45%</span>, <span class="number">90%</span>);</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">percentage</span>(<span class="number">0.5</span>); <span class="comment">// è½¬æˆç™¾åˆ†æ¯” 50%</span></span><br></pre></td></tr></table></figure>

<h4 id="2-6-å‘½åç©ºé—´"><a href="#2-6-å‘½åç©ºé—´" class="headerlink" title="2.6. å‘½åç©ºé—´"></a>2.6. å‘½åç©ºé—´</h4><p>æœ‰æ—¶å€™ï¼Œä¸ºäº†æ›´å¥½ç»„ç»‡ CSS æˆ–è€…å•çº¯æ˜¯ä¸ºäº†æ›´å¥½çš„å°è£…ï¼Œå°†ä¸€äº›å˜é‡æˆ–è€…æ··åˆï¼ˆmixinsï¼‰æ¨¡å—æ‰“åŒ…èµ·æ¥, ä½ å¯ä»¥åƒä¸‹é¢è¿™æ ·åœ¨ #bundle ä¸­å®šä¹‰ä¸€äº›å±æ€§é›†ï¼š</p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#bundle</span> &#123;</span><br><span class="line">  <span class="selector-class">.button</span> () &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span><br><span class="line">    <span class="attribute">background-color</span>: grey;</span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:hover</span> &#123; <span class="attribute">background-color</span>: white &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.tab</span> &#123; ... &#125;</span><br><span class="line">  <span class="selector-class">.citation</span> &#123; ... &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ &gt; å¼•ç”¨æŸå±æ€§é›†ä¸‹é¢çš„è§„åˆ™ï¼š</p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#header</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: orange;</span><br><span class="line">  <span class="selector-id">#bundle</span> &gt; <span class="selector-class">.button</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-7-ä½œç”¨åŸŸï¼ˆScopeï¼‰"><a href="#2-7-ä½œç”¨åŸŸï¼ˆScopeï¼‰" class="headerlink" title="2.7. ä½œç”¨åŸŸï¼ˆScopeï¼‰"></a>2.7. ä½œç”¨åŸŸï¼ˆScopeï¼‰</h4><p>LESS ä¸­çš„ä½œç”¨åŸŸè·Ÿå…¶ä»–ç¼–ç¨‹è¯­è¨€éå¸¸ç±»ä¼¼ï¼Œé¦–å…ˆä¼šä»æœ¬åœ°æŸ¥æ‰¾å˜é‡æˆ–è€…æ··åˆï¼ˆmixinsï¼‰æ¨¡å—ï¼Œå¦‚æœæ²¡æ‰¾åˆ°çš„è¯ä¼šå»çˆ¶çº§ä½œç”¨åŸŸä¸­æŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ä¸ºæ­¢ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@var: red;</span><br><span class="line"></span><br><span class="line">#page &#123;</span><br><span class="line">  @var: white;</span><br><span class="line">  #header &#123;</span><br><span class="line">    color: @var; // whiteï¼Œé¦–å…ˆåœ¨ #header é‡ŒæŸ¥æ‰¾ï¼Œç„¶å #pageï¼Œç„¶åå†å‘å¤–å±‚</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-8-æ³¨é‡Šï¼ˆCommentsï¼‰"><a href="#2-8-æ³¨é‡Šï¼ˆCommentsï¼‰" class="headerlink" title="2.8. æ³¨é‡Šï¼ˆCommentsï¼‰"></a>2.8. æ³¨é‡Šï¼ˆCommentsï¼‰</h4><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿™ç§æ˜¯ less åŠ å…¥çš„æ³¨é‡Šï¼Œä¸ä¼šè¢«ç¼–è¯‘</span></span><br><span class="line"><span class="comment">/* è¿™ç§æ˜¯ä¿ç•™çš„ css æ³¨é‡Šï¼Œç¼–è¯‘æ—¶ä¿ç•™ */</span></span><br></pre></td></tr></table></figure>

<h4 id="2-9-å¼•å…¥ï¼ˆImportingï¼‰-less-æ–‡ä»¶"><a href="#2-9-å¼•å…¥ï¼ˆImportingï¼‰-less-æ–‡ä»¶" class="headerlink" title="2.9. å¼•å…¥ï¼ˆImportingï¼‰ *.less æ–‡ä»¶"></a>2.9. å¼•å…¥ï¼ˆImportingï¼‰ *.less æ–‡ä»¶</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@import &quot;library&quot;; // library.less åç¼€åå¯å¸¦å¯ä¸å¸¦</span><br><span class="line">@import &quot;typo.css&quot;; // ç›´æ¥å¯¼å…¥ CSS æ–‡ä»¶ï¼Œä¸æƒ³ LESS å¯¹å®ƒè¿›è¡Œå¤„ç†</span><br></pre></td></tr></table></figure>

<h4 id="2-10-å˜é‡åµŒå…¥å­—ç¬¦ä¸²"><a href="#2-10-å˜é‡åµŒå…¥å­—ç¬¦ä¸²" class="headerlink" title="2.10. å˜é‡åµŒå…¥å­—ç¬¦ä¸²"></a>2.10. å˜é‡åµŒå…¥å­—ç¬¦ä¸²</h4><p>å˜é‡å¯ä»¥ç”¨ç±»ä¼¼ ruby å’Œ php çš„æ–¹å¼åµŒå…¥åˆ°å­—ç¬¦ä¸²ä¸­ï¼Œç»“æ„ï¼š@{name}</p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@base-url:</span> <span class="string">&quot;http://assets.fnord.com&quot;</span>;</span><br><span class="line"><span class="attribute">background-image</span>: url(<span class="string">&quot;@&#123;base-url&#125;/images/bg.png&quot;</span>);</span><br></pre></td></tr></table></figure>

<h4 id="2-11-ä½¿ç”¨-ç¦æ­¢ç¼–è¯‘"><a href="#2-11-ä½¿ç”¨-ç¦æ­¢ç¼–è¯‘" class="headerlink" title="2.11. ä½¿ç”¨ ~ ç¦æ­¢ç¼–è¯‘"></a>2.11. ä½¿ç”¨ ~ ç¦æ­¢ç¼–è¯‘</h4><p>æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦è¾“å‡ºä¸€äº›ä¸æ­£ç¡®çš„ CSS è¯­æ³•æˆ–è€…ä½¿ç”¨ä¸€äº›  LESS ä¸è®¤è¯†çš„ä¸“æœ‰è¯­æ³•ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨ç¬¦åˆ **~**ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.class</span> &#123;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="string">~&quot;ms:alwaysHasItsOwnSyntax.For.Stuff()&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.class</span> &#123;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="attribute">ms</span>:alwaysHasItsOwnSyntax.For.Stuff();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-12-ä½¿ç”¨-JavaScript-è¡¨è¾¾å¼"><a href="#2-12-ä½¿ç”¨-JavaScript-è¡¨è¾¾å¼" class="headerlink" title="2.12. ä½¿ç”¨ JavaScript è¡¨è¾¾å¼"></a>2.12. ä½¿ç”¨ JavaScript è¡¨è¾¾å¼</h4><p>é€šè¿‡åå¼•å·çš„æ–¹å¼å¯ä»¥å† LESS ä¸­ä½¿ç”¨ JavaScript è¡¨è¾¾å¼ã€‚</p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@var:</span> <span class="built_in">`&quot;hello&quot;.toUpperCase() + &#x27;!&#x27;`</span>; <span class="comment">// ç»“æœï¼šHELLO!</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>HTML&amp;CSS</category>
      </categories>
      <tags>
        <tag>HTML&amp;CSS</tag>
        <tag>CSS</tag>
        <tag>Less</tag>
      </tags>
  </entry>
  <entry>
    <title>Composer å¾ˆæ…¢æ€ä¹ˆåŠï¼Ÿ</title>
    <url>/post/806379323.html</url>
    <content><![CDATA[<blockquote>
<p>ğŸ”— å…³äº Composer çš„è¯¦ç»†å®‰è£…ä½¿ç”¨ï¼Œè¯¦è§ä¹‹å‰çš„æ–‡ç« ï¼š<a href="462910674.html">åœ¨ PHP ä¸­å®‰è£…ã€ä½¿ç”¨ Composer åŒ…ç®¡ç†å·¥å…·</a></p>
</blockquote>
<p>Composer åœ¨å›½å†…ä¸ç®¡æ˜¯æ›´æ–°è¿˜æ˜¯å®‰è£…éƒ½æœ‰ä¸€ä¸ªã€Œ<strong>æ…¢</strong>ã€çš„é—®é¢˜ï¼Œæœ‰çš„æ—¶å€™çœŸçš„å¾ˆç…ç†¬ã€‚</p>
<p>å› æ­¤æˆ‘ä»¬ä¸€èˆ¬ä¼šæ›¿æ¢ä¸º <a href="https://pkg.phpcomposer.com/">Packagist / Composer ä¸­å›½å…¨é‡é•œåƒ</a>ï¼Œç„¶è€Œåœ¨ä½¿ç”¨è¿‡ç¨‹å‘ç°ï¼Œè¿™ä¸ªé•œåƒå¹¶ä¸ç¨³å®šï¼Œæœ‰æ—¶å€™ä¹Ÿä¼šæŒ‚æ‰ï¼Œæ‰€ä»¥æœ¬æ–‡ä»‹ç»å¦å¤–ä¸¤ç§åŠ é€Ÿ composer çš„æ–¹å¼ã€‚</p>
<span id="more"></span>
<h3 id="æ–¹å¼ä¸€ï¼šä½¿ç”¨å¦ä¸€ä¸ªé•œåƒï¼ˆæ¨èï¼‰"><a href="#æ–¹å¼ä¸€ï¼šä½¿ç”¨å¦ä¸€ä¸ªé•œåƒï¼ˆæ¨èï¼‰" class="headerlink" title="æ–¹å¼ä¸€ï¼šä½¿ç”¨å¦ä¸€ä¸ªé•œåƒï¼ˆæ¨èï¼‰"></a>æ–¹å¼ä¸€ï¼šä½¿ç”¨å¦ä¸€ä¸ªé•œåƒï¼ˆæ¨èï¼‰</h3><p>ç°åœ¨é˜¿é‡Œäº‘å®˜æ–¹å·²ç»æ¨å‡ºäº† Composer å…¨é‡é•œåƒï¼Œè¯¦è§è¿™é‡Œ <a href="https://mirrors.aliyun.com/composer/">https://mirrors.aliyun.com/composer</a></p>
<blockquote>
<p>åŒæ—¶æ¨èä¸€ä¸ª Composer é•œåƒæºåˆ‡æ¢ç®¡ç†å·¥å…· <a href="https://github.com/slince/composer-registry-manager" title="https://github.com/slince/composer-registry-manager">composer-registry-manager</a> ğŸ‘</p>
</blockquote>
<ul>
<li><p>è®¾ç½®é•œåƒï¼š</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -g è¡¨ç¤ºå…¨å±€ï¼Œå»é™¤è¯¥å‚æ•°åˆ™åªå¯¹å½“å‰é¡¹ç›®ç”Ÿæ•ˆ</span></span><br><span class="line">âœ  composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/</span><br></pre></td></tr></table></figure></li>
<li><p>å–æ¶ˆé•œåƒï¼š</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  composer config -g --<span class="built_in">unset</span> repos.packagist</span><br></pre></td></tr></table></figure></li>
<li><p>è°ƒè¯•</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿½åŠ å‚æ•° -vvv å¯è¾“å‡ºè¯¦ç»†çš„ä¿¡æ¯</span></span><br><span class="line">âœ  composer -vvv require alibabacloud/sdk</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="æ–¹å¼äºŒï¼šä½¿ç”¨ä»£ç†"><a href="#æ–¹å¼äºŒï¼šä½¿ç”¨ä»£ç†" class="headerlink" title="æ–¹å¼äºŒï¼šä½¿ç”¨ä»£ç†"></a>æ–¹å¼äºŒï¼šä½¿ç”¨ä»£ç†</h3><p>å¦‚æœä½ çš„æœºå™¨æœ‰æœ¬æœº ssr æˆ–å…¶å®ƒä»£ç†ï¼Œæ¯”å¦‚æˆ‘çš„æœ¬æœºä»£ç†ï¼š<code>http://127.0.0.1:1087</code>ï¼Œé‚£ä¹ˆæˆ‘åœ¨ä½¿ç”¨ Composer æ—¶å¯ä»¥å¦‚ä¸‹æ“ä½œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">export</span> http_proxy=http://127.0.0.1:1087;<span class="built_in">export</span> https_proxy=http://127.0.0.1:1087;</span><br><span class="line">âœ  composer require qiniu/php-sdk</span><br></pre></td></tr></table></figure>

<blockquote>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šä¸Šé¢çš„æ“ä½œåªåœ¨å½“å‰ session ç”Ÿæ•ˆï¼Œæ–°å»ºæˆ–åˆ‡æ¢ä¸€ä¸ª tab åä¼šå¤±æ•ˆã€‚å¦‚æœæƒ³æ°¸ä¹…ç”Ÿæ•ˆï¼Œéœ€ä¿®æ”¹ <code>~/.bashsrc</code>ã€‚<strong>å»ºè®®åªæ˜¯ä¸´æ—¶ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œå¼ºçƒˆæ¨èé‡‡ç”¨æ–¹å¼ä¸€çš„å…¨é‡é•œåƒã€‚</strong></p>
</blockquote>
]]></content>
      <categories>
        <category>PHP</category>
      </categories>
      <tags>
        <tag>PHP</tag>
        <tag>Composer</tag>
        <tag>åŒ…ç®¡ç†å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>PHP ä¹‹ PSR æ ‡å‡†è§„èŒƒ</title>
    <url>/post/2710129075.html</url>
    <content><![CDATA[<p>PSRï¼ˆPHP Standards Recommendationï¼‰ æ˜¯ç”± PHP FIG ç»„ç»‡åˆ¶å®šçš„ PHP è§„èŒƒï¼Œæ˜¯ PHP å¼€å‘çš„å®è·µæ ‡å‡†ã€‚</p>
<p>ç”±äºæ ‡å‡†åœ¨ä¸æ–­åˆ¶å®šï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç» PSR-1ã€PSR-2ã€PSR-3ã€PSR-4çš„ä¸€äº›ä¸»è¦ç»†èŠ‚ï¼Œåé¢é€æ­¥æ›´æ–°æ‰€æœ‰æ ‡å‡†ã€‚</p>
<span id="more"></span>

<h3 id="PSR-1-åŸºæœ¬çš„ä»£ç é£æ ¼"><a href="#PSR-1-åŸºæœ¬çš„ä»£ç é£æ ¼" class="headerlink" title="PSR-1 åŸºæœ¬çš„ä»£ç é£æ ¼"></a>PSR-1 åŸºæœ¬çš„ä»£ç é£æ ¼</h3><h4 id="PHP-æ ‡ç­¾"><a href="#PHP-æ ‡ç­¾" class="headerlink" title="PHP æ ‡ç­¾"></a>PHP æ ‡ç­¾</h4><p>PHP ä»£ç å¿…é¡»æ”¾åœ¨ <code>&lt;?php ... ?&gt;</code> æˆ– <code>&lt;?= ...?&gt;</code> æ ‡ç­¾ä¸­ã€‚</p>
<h4 id="ç¼–ç "><a href="#ç¼–ç " class="headerlink" title="ç¼–ç "></a>ç¼–ç </h4><p>æ—  BOM çš„ UTF-8 å­—ç¬¦é›†ã€‚</p>
<h4 id="è‡ªåŠ¨åŠ è½½"><a href="#è‡ªåŠ¨åŠ è½½" class="headerlink" title="è‡ªåŠ¨åŠ è½½"></a>è‡ªåŠ¨åŠ è½½</h4><p>å‘½åç©ºé—´å’Œç±»å¿…é¡»éµå®ˆ PSR-4 è‡ªåŠ¨åŠ è½½å™¨æ ‡å‡†ã€‚</p>
<h4 id="ç±»å"><a href="#ç±»å" class="headerlink" title="ç±»å"></a>ç±»å</h4><p>é©¼å³°å¼ï¼šæ‰€æœ‰å•è¯é¦–å­—æ¯å¤§å†™ã€‚</p>
<h4 id="å‚é‡å"><a href="#å‚é‡å" class="headerlink" title="å‚é‡å"></a>å‚é‡å</h4><p>å…¨éƒ¨å¤§å†™ï¼Œå¦‚æœéœ€è¦å¯æ·»åŠ ä¸‹åˆ’çº¿åˆ†éš”å•è¯ã€‚</p>
<h4 id="æ–¹æ³•å"><a href="#æ–¹æ³•å" class="headerlink" title="æ–¹æ³•å"></a>æ–¹æ³•å</h4><p>é©¼å³°å¼ï¼šé¦–å­—æ¯å°å†™ï¼Œåç»­å•è¯é¦–å­—æ¯å¤§å†™ã€‚</p>
<h3 id="PSR-2-ä¸¥æ ¼çš„ä»£ç é£æ ¼"><a href="#PSR-2-ä¸¥æ ¼çš„ä»£ç é£æ ¼" class="headerlink" title="PSR-2 ä¸¥æ ¼çš„ä»£ç é£æ ¼"></a>PSR-2 ä¸¥æ ¼çš„ä»£ç é£æ ¼</h3><h4 id="è´¯å½»-PSR-1-â­ï¸"><a href="#è´¯å½»-PSR-1-â­ï¸" class="headerlink" title="è´¯å½» PSR-1 â­ï¸"></a>è´¯å½» PSR-1 â­ï¸</h4><h4 id="ç¼©è¿›"><a href="#ç¼©è¿›" class="headerlink" title="ç¼©è¿›"></a>ç¼©è¿›</h4><p>å››ä¸ªç©ºæ ¼ï¼ˆä¸€èˆ¬ç¼–è¾‘å™¨éƒ½å¯ä»¥è®¾ç½®ï¼šå°†ä¸€ä¸ªåˆ¶è¡¨ç¬¦è½¬æ¢ä¸º4ä¸ªç©ºæ ¼ï¼‰ã€‚</p>
<h4 id="æ–‡ä»¶å’Œä»£ç è¡Œ"><a href="#æ–‡ä»¶å’Œä»£ç è¡Œ" class="headerlink" title="æ–‡ä»¶å’Œä»£ç è¡Œ"></a>æ–‡ä»¶å’Œä»£ç è¡Œ</h4><ol>
<li>PHP æ–‡ä»¶é‡‡ç”¨ UNIX é£æ ¼æ¢è¡Œç¬¦ï¼ˆLFï¼‰ï¼Œæœ«å°¾ä¸€ä¸ªç©ºè¡Œï¼›</li>
<li>æ¯è¡Œä»£ç æ¨èå°äº80ä¸ªå­—ç¬¦ï¼Œæœ€å¤§120ã€‚</li>
</ol>
<h4 id="å…³é”®å­—"><a href="#å…³é”®å­—" class="headerlink" title="å…³é”®å­—"></a>å…³é”®å­—</h4><p>ä½¿ç”¨å°å†™å­—æ¯ï¼Œå¦‚ï¼štrueã€false</p>
<h4 id="å‘½åç©ºé—´"><a href="#å‘½åç©ºé—´" class="headerlink" title="å‘½åç©ºé—´"></a>å‘½åç©ºé—´</h4><ol>
<li>å‘½åç©ºé—´å£°æ˜ï¼ˆnamespaceï¼‰è¯­å¥åç´§è·Ÿä¸€ä¸ªç©ºè¡Œï¼›</li>
<li>å¯¼å…¥å‘½åç©ºé—´ï¼ˆuseï¼‰æ—¶ï¼Œæœ€åè·Ÿä¸€ä¸ªç©ºè¡Œã€‚</li>
</ol>
<h4 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h4><ol>
<li>ç±»å®šä¹‰ä½“çš„èµ·å§‹æ‹¬å·åœ¨ç±»åä¹‹åæ–°èµ·ä¸€è¡Œ</li>
<li>extends ä¸ implements å…³é”®å­—å¿…é¡»ä¸ç±»ååœ¨åŒä¸€è¡Œã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ClassName extends ParentClass implements Interface</span><br><span class="line">&#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h4><ol>
<li>æ–¹æ³•å®šä¹‰ä½“çš„èµ·å§‹æ‹¬å·åœ¨æ–¹æ³•åä¹‹åæ–°èµ·ä¸€è¡Œï¼›</li>
<li>æ–¹æ³•å®šä¹‰ä½“ç»“æŸæ‹¬å·åæ–°èµ·ä¸€è¡Œï¼›</li>
<li>æ–¹æ³•å‚æ•°çš„æ‹¬å·ä¸¤è¾¹æ²¡æœ‰ç©ºæ ¼ï¼›</li>
<li>æ¯ä¸ªå‚æ•°ï¼ˆé™¤æœ€åä¸€ä¸ªï¼‰åé¢è·Ÿä¸€ä¸ªé€—å·å’Œç©ºæ ¼ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">namespace app;</span><br><span class="line"></span><br><span class="line">Class</span><br><span class="line">&#123;</span><br><span class="line">    public function f1($var1, $v2 = null)</span><br><span class="line">    &#123;</span><br><span class="line">        // ...</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public function f2($v3)</span><br><span class="line">    &#123;</span><br><span class="line">        //</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å¯è§æ€§"><a href="#å¯è§æ€§" class="headerlink" title="å¯è§æ€§"></a>å¯è§æ€§</h4><ol>
<li>ç±»ä¸­çš„æ¯ä¸ªå±æ€§å’Œæ–¹æ³•éƒ½è¦å£°æ˜å¯è§æ€§ï¼špublicã€privateã€protectedï¼›</li>
<li>ä¸è¦åœ¨ç§æœ‰æ–¹æ³•å‰åŠ ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ï¼›</li>
<li>abstract æˆ– final æ”¾åœ¨å¯è§æ€§å…³é”®å­—ä¹‹å‰ï¼›</li>
<li>static æ”¾åœ¨å¯è§æ€§å…³é”®å­—ä¹‹åã€‚</li>
</ol>
<h4 id="æ§åˆ¶ç»“æ„"><a href="#æ§åˆ¶ç»“æ„" class="headerlink" title="æ§åˆ¶ç»“æ„"></a>æ§åˆ¶ç»“æ„</h4><ol>
<li>æ¶‰åŠå…³é”®å­—ï¼šifã€elseã€elseifã€switchã€caseã€whileã€do whileã€forã€foreachã€catchã€‚</li>
<li>å¦‚æœæ§åˆ¶å…³é”®å­—åé¢æœ‰ä¸€å¯¹æ‹¬å·ï¼ˆä¸å…³é”®å­—åœ¨åŒä¸€è¡Œï¼‰ï¼Œåˆ™èµ·å§‹æ‹¬å·åé¢ã€ç»“æŸæ‹¬å·å‰é¢ä¸èƒ½æœ‰ç©ºæ ¼ï¼›</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">if ($me-&gt;isAlive() === true) &#123;</span><br><span class="line">    do &#123;</span><br><span class="line">        // ...</span><br><span class="line">    &#125; while ($me-&gt;isWorking());</span><br><span class="line"></span><br><span class="line">    $me-&gt;sayHaha();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="PSR-3-æ—¥å¿—è®°å½•å™¨æ¥å£"><a href="#PSR-3-æ—¥å¿—è®°å½•å™¨æ¥å£" class="headerlink" title="PSR-3 æ—¥å¿—è®°å½•å™¨æ¥å£"></a>PSR-3 æ—¥å¿—è®°å½•å™¨æ¥å£</h3><p>æä¾›ç±»ä¸€ä¸ªæ—¥å¿—æ¥å£ Psr\Log\LoggerInterfaceï¼Œå…¶å¤ç”¨ç±» RFC 5424 ç³»ç»Ÿæ—¥å¿—åè®®ï¼Œè¯¦è§ï¼š<a href="http://tools.ietf.org/html/rfc5424">http://tools.ietf.org/html/rfc5424</a></p>
<p>æ¨è <a href="http://packagist.org/packages/monolog/monolog">monolog/monolog</a>ï¼Œä¸€ä¸ªå®ç°ç±» PSR-3 çš„æ—¥å¿—è®°å½•å™¨ã€‚</p>
<h3 id="PSR-4-è‡ªåŠ¨åŠ è½½"><a href="#PSR-4-è‡ªåŠ¨åŠ è½½" class="headerlink" title="PSR-4 è‡ªåŠ¨åŠ è½½"></a>PSR-4 è‡ªåŠ¨åŠ è½½</h3><p>åŸºäºå‘½åç©ºé—´æŸ¥æ‰¾å’ŒåŠ è½½ç±»ã€æ¥å£ã€æ€§çŠ¶ã€‚</p>
<p>æ¨èä½¿ç”¨ Composer åŒ…ä¾èµ–ç®¡ç†å·¥å…·ï¼Œä½¿ç”¨æ–¹æ³•<a href="462910674.html">å‚ç…§è¿™é‡Œ</a>ã€‚</p>
]]></content>
      <categories>
        <category>PHP</category>
      </categories>
      <tags>
        <tag>PHP</tag>
        <tag>PSR</tag>
        <tag>PSR-1</tag>
        <tag>PSR-2</tag>
        <tag>PSR-3</tag>
        <tag>PSR-4</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨ PHP ä¸­å®‰è£…ã€ä½¿ç”¨ Composer åŒ…ç®¡ç†å·¥å…·</title>
    <url>/post/462910674.html</url>
    <content><![CDATA[<blockquote>
<p>Composer æ˜¯ PHP ç”¨æ¥ç®¡ç†ä¾èµ–ï¼ˆdependencyï¼‰å…³ç³»çš„å·¥å…·ã€‚ä½ å¯ä»¥åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­å£°æ˜æ‰€ä¾èµ–çš„å¤–éƒ¨å·¥å…·åº“ï¼ˆlibrariesï¼‰ï¼ŒComposer ä¼šå¸®ä½ å®‰è£…è¿™äº›ä¾èµ–çš„åº“æ–‡ä»¶ã€‚</p>
</blockquote>
<h3 id="0-ç›¸å…³èµ„æºåŠæ¦‚è¿°"><a href="#0-ç›¸å…³èµ„æºåŠæ¦‚è¿°" class="headerlink" title="0. ç›¸å…³èµ„æºåŠæ¦‚è¿°"></a>0. ç›¸å…³èµ„æºåŠæ¦‚è¿°</h3><ul>
<li><p>Composerå®˜ç½‘ <a href="https://getcomposer.org/">https://getcomposer.org</a></p>
</li>
<li><p>Composer Github åœ°å€ <a href="https://github.com/composer/composer">https://github.com/composer/composer</a></p>
</li>
<li><p>Composerä¸­å›½é•œåƒ <a href="http://www.phpcomposer.com/">http://www.phpcomposer.com</a></p>
</li>
<li><p>é˜¿é‡Œäº‘å…¨é‡é•œåƒï¼ˆğŸ‘ <strong>æ¨è</strong>ï¼‰ï¼š<a href="https://developer.aliyun.com/composer">https://developer.aliyun.com/composer</a></p>
</li>
<li><p><strong>Packagist</strong></p>
<p>  å®˜ç½‘ï¼š<a href="https://packagist.org/">https://packagist.org</a></p>
<p>  å®ƒæ˜¯ Composer ä¸»è¦çš„ä¸€ä¸ªåŒ…ä¿¡æ¯å­˜å‚¨åº“ï¼ŒåŒ…å¼€å‘è€…å°†å…·ä½“ä»£ç æ‰˜ç®¡åˆ° Github ä¸Šï¼Œå°†åŒ…ä¿¡æ¯æäº¤åˆ° Packagist ä¸Šï¼Œè¿™æ ·ä½¿ç”¨è€…å°±å¯ä»¥é€šè¿‡ Composer å»ä½¿ç”¨ã€‚å®ƒçš„æ‰§è¡Œé¡ºåºå¦‚ä¸‹ï¼š</p>
<ul>
<li>é¦–å…ˆï¼ŒComposer æ ¹æ®æœ¬åœ°å®šä¹‰çš„ <code>composer.json</code> ä¿¡æ¯å»æŸ¥è¯¢ Packagistï¼›</li>
<li>å…¶æ¬¡ï¼ŒPackagist æ ¹æ® <code>composer.json/package.json</code> ä¿¡æ¯è§£æï¼Œæœ€ç»ˆå¯¹åº”åˆ°Github ä»“åº“ï¼›</li>
<li>æœ€åï¼ŒComposer åŸºäº Github ä»“åº“ä¸Šçš„ <code>composer.json</code> ä¸‹è½½ä»£ç åˆ°æœ¬åœ°ã€‚</li>
</ul>
</li>
<li><p><strong>composer.json</strong></p>
<p>  è¿™æ˜¯ Composer çš„æ ¸å¿ƒï¼Œä¸»è¦ç”¨æ¥é…ç½® Composer çš„æ‰§è¡Œè§„åˆ™ã€‚</p>
</li>
<li><p><strong>è‡ªåŠ¨åŠ è½½</strong></p>
<p>  Composer åŸºäº PHP å‘½åç©ºé—´å’Œ PSR-4 æ ‡å‡†å¼€å‘ã€é›†æˆäº†ä¸€ä¸ªè‡ªåŠ¨åŠ è½½å™¨ã€‚</p>
</li>
</ul>
<span id="more"></span>

<h3 id="1-å®‰è£…é…ç½®"><a href="#1-å®‰è£…é…ç½®" class="headerlink" title="1. å®‰è£…é…ç½®"></a>1. å®‰è£…é…ç½®</h3><h4 id="1-1-ä¸‹è½½-composer-phar"><a href="#1-1-ä¸‹è½½-composer-phar" class="headerlink" title="1.1. ä¸‹è½½ composer.phar"></a>1.1. ä¸‹è½½ composer.phar</h4><ul>
<li><p>Linux / Unix / OSX</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è½½</span></span><br><span class="line">âœ curlÂ -sSÂ https://getcomposer.org/installerÂ |Â php</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœä¸Šé¢çš„ curl å‘½ä»¤å‡ºé”™æˆ–æ— æ³•ä½¿ç”¨ï¼Œå¯ç”¨ php å‘½ä»¤ä»£æ›¿</span></span><br><span class="line">âœ phpÂ -rÂ <span class="string">&quot;readfile(&#x27;https://getcomposer.org/installer&#x27;);&quot;</span>Â |Â php</span><br><span class="line"></span><br><span class="line"><span class="comment"># ----- ä¸‹é¢æ˜¯å…¶å®ƒçš„ä¸€äº›å‚æ•° -----</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># --install-dir æŒ‡å®šä¸‹è½½ç›®å½•</span></span><br><span class="line">âœ curlÂ -sSÂ https://getcomposer.org/installerÂ |Â phpÂ --Â --install-dir=bin</span><br><span class="line"></span><br><span class="line"><span class="comment"># --filename æŒ‡å®šä¸‹è½½æˆåŠŸå­˜æ”¾çš„ composer æ–‡ä»¶å</span></span><br><span class="line">âœ curlÂ -sSÂ https://getcomposer.org/installerÂ |Â phpÂ --Â --filename=composer</span><br><span class="line"></span><br><span class="line"><span class="comment"># --version ä¸‹è½½æŒ‡å®šç‰ˆæœ¬çš„ composer</span></span><br><span class="line">âœ curlÂ -sSÂ https://getcomposer.org/installerÂ |Â phpÂ --Â --version=1.0.0-alpha8</span><br></pre></td></tr></table></figure></li>
<li><p>Windows</p>
<p>æ–¹å¼ä¸€ï¼šä½¿ç”¨å®‰è£…å™¨ ğŸ‘</p>
<p>ä¸‹è½½ã€è¿è¡Œ <a href="https://getcomposer.org/Composer-Setup.exe">Composer-Setup.exe</a> ï¼Œå°†è‡ªåŠ¨ä¸‹è½½ composer å¹¶é…ç½®å¥½ç›¸å…³ç¯å¢ƒå˜é‡ï¼Œä¹‹åå¯ç›´æ¥ä½¿ç”¨å‘½ä»¤Â composer</p>
<p>æ–¹å¼äºŒï¼š<a href="https://getcomposer.org/composer.phar">ç‚¹å‡»è¿™é‡Œ</a>æ‰‹åŠ¨ä¸‹è½½</p>
</li>
</ul>
<h4 id="1-2-é…ç½®"><a href="#1-2-é…ç½®" class="headerlink" title="1.2. é…ç½®"></a>1.2. é…ç½®</h4><p>ä¸‹è½½å¾—åˆ° composer.phar æ–‡ä»¶åï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ¥ä½¿ç”¨äº†</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹ Composer ç‰ˆæœ¬</span></span><br><span class="line">âœ php composer.phar -V</span><br><span class="line">Composer version 1.4.1 2017-03-10 09:29:45</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ Composer å¸®åŠ©</span></span><br><span class="line">âœ php composer.phar</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†æ›´å¥½çš„ä½¿ç”¨ Composerï¼Œåœ¨ Linux ç³»ç»Ÿä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼ç®€åŒ–å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ sudo mv composer.phar /usr/<span class="built_in">local</span>/bin/composer</span><br><span class="line">âœ sudo chmod+x /usr/<span class="built_in">local</span>/bin/composer</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç°åœ¨å¯ä»¥ç›´æ¥ä½¿ç”¨ composer æ¥æ“ä½œäº†</span></span><br><span class="line">âœ composer -V</span><br><span class="line">Composer version 1.4.1 2017-03-10 09:29:45</span><br></pre></td></tr></table></figure>

<blockquote>
<p> âš ï¸ <strong>æ³¨æ„</strong>ï¼šå¦‚æœæç¤ºæ‰¾ä¸åˆ°å‘½ä»¤ä¹‹ç±»ï¼Œéœ€æ£€æŸ¥ç³»ç»Ÿç¯å¢ƒå˜é‡è®¾ç½®ä¸­æ˜¯å¦åŒ…å«è·¯å¾„ <strong>/usr/local/bin</strong></p>
</blockquote>
<h3 id="2-åŸºæœ¬ä½¿ç”¨"><a href="#2-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="2. åŸºæœ¬ä½¿ç”¨"></a>2. åŸºæœ¬ä½¿ç”¨</h3><p>è¿™é‡Œä»¥å®‰è£…ä¸€ä¸ªäºŒç»´ç ç»„ä»¶ä¸ºä¾‹ï¼ŒåŒ…çš„æ ‡è¯†ä¸º <code>endroid/qrcode</code></p>
<h4 id="2-1-å®‰è£…ä¾èµ–åŒ…"><a href="#2-1-å®‰è£…ä¾èµ–åŒ…" class="headerlink" title="2.1. å®‰è£…ä¾èµ–åŒ…"></a>2.1. å®‰è£…ä¾èµ–åŒ…</h4><ul>
<li><p>æ–¹å¼ä¸€ï¼šä½¿ç”¨ composer require å‘½ä»¤</p>
<p>  æ ¼å¼ï¼š composer require åŒ…çš„æ ‡è¯†ï¼ˆå‚å•†å/åŒ…åï¼‰</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ mkdir -p ~/www/composer_demo</span><br><span class="line">âœ <span class="built_in">cd</span> ~/www/composer_demo</span><br><span class="line">âœ composer require endroid/qrcode</span><br></pre></td></tr></table></figure></li>
<li><p>æ–¹å¼äºŒï¼šä½¿ç”¨ composer install å‘½ä»¤</p>
<p>  åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ç¼–è¾‘ composer.json æ–‡ä»¶ï¼Œé€šè¿‡ require é…ç½®é¡¹ç›®ä¾èµ–çš„åŒ…ï¼Œå¦‚ä¸‹ï¼š</p>
  <figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;require&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;endroid/qrcode&quot;</span>: <span class="string">&quot;^2.2&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  ç„¶åä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ composer install</span><br></pre></td></tr></table></figure></li>
</ul>
<p>åŒ…å®‰è£…å¥½ä¹‹åï¼Œç›®å½•ç»“æ„å¦‚ä¸‹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ tree -L 2</span><br><span class="line">.</span><br><span class="line">â”œâ”€â”€ composer.json  -----&gt; é¡¹ç›®é€šè¿‡ composer è®¾ç½®çš„é…ç½®ä¿¡æ¯</span><br><span class="line">â”œâ”€â”€ composer.lock  -----&gt; é”å®šé¡¹ç›®ï¼Œåªä½¿ç”¨å…¶åˆ—å‡ºçš„å…·ä½“ç‰ˆæœ¬çš„åŒ…</span><br><span class="line">â””â”€â”€ vendor  -----&gt; ç»„ä»¶æœ¬æºç å­˜æ”¾ä½ç½®</span><br><span class="line">    â”œâ”€â”€ autoload.php</span><br><span class="line">    â”œâ”€â”€ bacon</span><br><span class="line">    â”œâ”€â”€ composer</span><br><span class="line">    â”œâ”€â”€ endroid</span><br><span class="line">    â”œâ”€â”€ khanamiryan</span><br><span class="line">    â”œâ”€â”€ myclabs</span><br><span class="line">    â”œâ”€â”€ paragonie</span><br><span class="line">    â””â”€â”€ symfony</span><br></pre></td></tr></table></figure>

<h4 id="2-2-ä½¿ç”¨å®‰è£…çš„åŒ…"><a href="#2-2-ä½¿ç”¨å®‰è£…çš„åŒ…" class="headerlink" title="2.2. ä½¿ç”¨å®‰è£…çš„åŒ…"></a>2.2. ä½¿ç”¨å®‰è£…çš„åŒ…</h4><p>åœ¨éœ€è¦ä½¿ç”¨åŒ…çš„ PHP æ–‡ä»¶å¤´éƒ¨æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">require</span> <span class="string">&#x27;vendor/audoload.php&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨å‚è€ƒç»„ä»¶çš„è¯´æ˜æ–‡æ¡£ï¼Œå¼€å§‹ä½¿ç”¨å§ï¼</p>
<h3 id="3-å¸¸ç”¨å‘½ä»¤"><a href="#3-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="3. å¸¸ç”¨å‘½ä»¤"></a>3. å¸¸ç”¨å‘½ä»¤</h3><p>æ›´å¤šè¯¦ç»†å‘½ä»¤ä»‹ç»è¯·<a href="http://docs.phpcomposer.com/03-cli.html">è®¿é—®è¿™é‡Œ</a>æˆ–ç›´æ¥æ‰§è¡Œ <code>composer commands help</code></p>
<h4 id="3-1-composer-init"><a href="#3-1-composer-init" class="headerlink" title="3.1. composer init"></a>3.1. composer init</h4><p>ä»¥å‘½ä»¤è¡Œäº¤äº’æ–¹å¼åˆ›å»º composer.json å¹¶åˆå§‹åŒ–é¡¹ç›®çš„ä¾èµ–ã€æè¿°ç­‰ä¿¡æ¯ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ composer init</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  Welcome to the Composer config generator</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">This <span class="built_in">command</span> will guide you through creating your composer.json config.</span><br><span class="line"></span><br><span class="line">Package name (&lt;vendor&gt;/&lt;name&gt;) [sunqiang/<span class="built_in">test</span>]: company/package1</span><br><span class="line">Description []:</span><br><span class="line">Author [whorusq &lt;whorusq@gmail.com&gt;, n to skip]:</span><br><span class="line">Minimum Stability []:</span><br><span class="line">Package Type (e.g. library, project, metapackage, composer-plugin) []:</span><br><span class="line">License []:</span><br><span class="line"></span><br><span class="line">Define your dependencies.</span><br><span class="line"></span><br><span class="line">Would you like to define your dev dependencies (require-dev) interactively [yes]? no</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;name&quot;</span>: <span class="string">&quot;company/package1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;authors&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;whorusq&quot;</span>,</span><br><span class="line">            <span class="string">&quot;email&quot;</span>: <span class="string">&quot;whorusq@gmail.com&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;require&quot;</span>: &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Do you confirm generation [yes]? yes</span><br><span class="line">âœ ll</span><br><span class="line">total 8</span><br><span class="line">-rw-r--r--  1 user1  staff   170B  9  4 13:45 composer.json</span><br></pre></td></tr></table></figure>

<h4 id="3-2-composer-install"><a href="#3-2-composer-install" class="headerlink" title="3.2. composer install"></a>3.2. composer install</h4><p>è¿™æ˜¯æœ€å¸¸ç”¨çš„å‘½ä»¤ï¼ŒComposer ä¼šæ ¹æ®æœ¬åœ°çš„ <code>composer.json</code> å®‰è£…éœ€è¦çš„ä¾èµ–åŒ…ã€‚</p>
<p>ä¸‹è½½ä¸‹æ¥çš„åŒ…æ”¾å…¥é¡¹ç›®ä¸‹çš„ <code>vendor</code> ç›®å½•ä¸­ï¼ŒåŒæ—¶å°†å®‰è£…æ—¶å€™çš„åŒ…ç‰ˆæœ¬ä¿¡æ¯æ”¾å…¥åˆ° <code>composer.lock</code> æ–‡ä»¶ï¼Œä»¥ä¾¿é”å®šç‰ˆæœ¬ã€‚</p>
<blockquote>
<p><strong>âš ï¸ æ³¨æ„</strong>ï¼š</p>
<ul>
<li><p>å¦‚æœå½“å‰ç›®å½•ä¸‹å­˜åœ¨ <code>composer.lock</code> æ–‡ä»¶ï¼Œå®ƒä¼šä»æ­¤æ–‡ä»¶è¯»å–ä¾èµ–ç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯æ ¹æ® <code>composer.json</code> æ–‡ä»¶å»è·å–ä¾èµ–ã€‚è¿™ç¡®ä¿äº†è¯¥åº“çš„æ¯ä¸ªä½¿ç”¨è€…éƒ½èƒ½å¾—åˆ°ç›¸åŒçš„ä¾èµ–ç‰ˆæœ¬ã€‚</p>
</li>
<li><p>å¦‚æœæ²¡æœ‰ <code>composer.lock</code> æ–‡ä»¶ï¼Œcomposer å°†åœ¨å¤„ç†å®Œä¾èµ–å…³ç³»ååˆ›å»ºå®ƒã€‚</p>
</li>
</ul>
</blockquote>
<h4 id="3-3-composer-update"><a href="#3-3-composer-update" class="headerlink" title="3.3. composer update"></a>3.3. composer update</h4><p>ä¸ºäº†è·å–ä¾èµ–çš„æœ€æ–°ç‰ˆæœ¬ï¼Œå¹¶ä¸”å‡çº§ <code>composer.lock</code> æ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é¡¹ç›®ç›®å½•ï¼ˆcomposer.json æ‰€åœ¨ä½ç½®ï¼‰ä¸‹æ‰§è¡Œ</span></span><br><span class="line">âœ composer update</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœä½ åªæ˜¯æƒ³æ›´æ–°å‡ ä¸ªåŒ…ï¼Œä½ å¯ä»¥åƒè¿™æ ·åˆ†åˆ«åˆ—å‡ºå®ƒä»¬ï¼š</span></span><br><span class="line">âœ composer update vendor/package vendor/package2</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½ è¿˜å¯ä»¥ä½¿ç”¨é€šé…ç¬¦è¿›è¡Œæ‰¹é‡æ›´æ–°ï¼š</span></span><br><span class="line">âœ composer update vendor/*</span><br></pre></td></tr></table></figure>


<h4 id="3-4-composer-config"><a href="#3-4-composer-config" class="headerlink" title="3.4. composer config"></a>3.4. composer config</h4><p>ç”¨ä»¥ç¼–è¾‘ Composer çš„ä¸€äº›åŸºæœ¬è®¾ç½®</p>
<ul>
<li>å…¨å±€é…ç½®ï¼š<code>COMPOSER_HOME/config.json</code></li>
<li>éå…¨å±€é…ç½®ï¼šå½“å‰é¡¹ç›®çš„ç›®å½•ä¸‹ <code>composer.json</code></li>
</ul>
<h4 id="3-5-composer-create-project"><a href="#3-5-composer-create-project" class="headerlink" title="3.5. composer create-project"></a>3.5. composer create-project</h4><p>ä»ç°æœ‰çš„åŒ…ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®ã€‚è¿™ç›¸å½“äºæ‰§è¡Œäº†ä¸€ä¸ª <code>git clone</code> æˆ– <code>svn checkout</code> å‘½ä»¤åå°†è¿™ä¸ªåŒ…çš„ä¾èµ–å®‰è£…åˆ°å®ƒè‡ªå·±çš„ vendor ç›®å½•ã€‚</p>
<p>æ­¤å‘½ä»¤æœ‰å‡ ä¸ªå¸¸è§çš„ç”¨é€”ï¼š</p>
<ul>
<li>å¿«é€Ÿçš„éƒ¨ç½²ä½ çš„åº”ç”¨ã€‚</li>
<li>æ£€å‡ºä»»ä½•èµ„æºåŒ…ï¼Œå¹¶å¼€å‘å®ƒçš„è¡¥ä¸ã€‚</li>
<li>å¤šäººå¼€å‘é¡¹ç›®ï¼Œå¯ä»¥ç”¨å®ƒæ¥åŠ å¿«åº”ç”¨çš„åˆå§‹åŒ–ã€‚</li>
</ul>
<p><strong>é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå‘½ä»¤ä¼šåœ¨ <a href="packagist.org">packagist.org</a> ä¸ŠæŸ¥æ‰¾ä½ æŒ‡å®šçš„åŒ…ã€‚</strong></p>
<p>ç¤ºä¾‹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é€šè¿‡ Composer ä¸‹è½½ã€åˆå§‹åŒ– ThinkPHP5.x</span></span><br><span class="line">âœ composer create-project topthink/think tp5  --prefer-dist</span><br></pre></td></tr></table></figure>

<h4 id="3-6-composer-require"><a href="#3-6-composer-require" class="headerlink" title="3.6. composer require"></a>3.6. composer require</h4><p>å¢åŠ æ–°çš„ä¾èµ–åŒ…åˆ°å½“å‰ç›®å½•çš„ <code>composer.json</code> æ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”åœ¨æ·»åŠ æˆ–æ”¹å˜ä¾èµ–æ—¶ï¼Œ ä¿®æ”¹åçš„ä¾èµ–å…³ç³»å°†è¢«å®‰è£…æˆ–è€…æ›´æ–°ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é»˜è®¤äº¤äº’æ¨¡å¼</span></span><br><span class="line">âœ composer require</span><br><span class="line">Search <span class="keyword">for</span> a package: gearman</span><br><span class="line"></span><br><span class="line">Found 15 packages matching gearman</span><br><span class="line"></span><br><span class="line">   [0] mhlavac/gearman</span><br><span class="line">   [1] silverstripe-australia/gearman</span><br><span class="line">   [2] dmank/gearman</span><br><span class="line">   [3] pafelin/gearman</span><br><span class="line"></span><br><span class="line">	...</span><br><span class="line"></span><br><span class="line">Enter package <span class="comment"># to add, or the complete package name if it is not listed: 0</span></span><br><span class="line">Enter the version constraint to require (or leave blank to use the latest version):</span><br><span class="line">Using version ^0.1.0 <span class="keyword">for</span> mhlavac/gearman</span><br><span class="line">Search <span class="keyword">for</span> a package: ^C</span><br><span class="line"></span><br><span class="line"><span class="comment"># éäº¤äº’æ¨¡å¼ï¼Œç›´æ¥æŒ‡å®šéœ€è¦çš„åŒ…å</span></span><br><span class="line">âœ composer require mhlavac/gearman</span><br></pre></td></tr></table></figure>

<h4 id="3-7-self-update"><a href="#3-7-self-update" class="headerlink" title="3.7. self-update"></a>3.7. self-update</h4><p>å°† Composer è‡ªèº«å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ composer self-update</span><br><span class="line">You are already using composer version 1.5.1 (stable channel).</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>PHP</category>
      </categories>
      <tags>
        <tag>PHP</tag>
        <tag>Composer</tag>
        <tag>åŒ…ç®¡ç†å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>PHP ä¹‹å‘½ä»¤è¡Œæ¨¡å¼</title>
    <url>/post/954645501.html</url>
    <content><![CDATA[<h3 id="1-æ‰€æœ‰å¯ç”¨å‘½ä»¤"><a href="#1-æ‰€æœ‰å¯ç”¨å‘½ä»¤" class="headerlink" title="1. æ‰€æœ‰å¯ç”¨å‘½ä»¤"></a>1. æ‰€æœ‰å¯ç”¨å‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ <span class="built_in">which</span> php</span><br><span class="line">/usr/bin/php</span><br><span class="line">âœ php -h</span><br><span class="line">Usage: php [options] [-f] &lt;file&gt; [--] [args...]</span><br><span class="line">   php [options] -r &lt;code&gt; [--] [args...]</span><br><span class="line">   php [options] [-B &lt;begin_code&gt;] -R &lt;code&gt; [-E &lt;end_code&gt;] [--] [args...]</span><br><span class="line">   php [options] [-B &lt;begin_code&gt;] -F &lt;file&gt; [-E &lt;end_code&gt;] [--] [args...]</span><br><span class="line">   php [options] -S &lt;addr&gt;:&lt;port&gt; [-t docroot]</span><br><span class="line">   php [options] -- [args...]</span><br><span class="line">   php [options] -a</span><br><span class="line"></span><br><span class="line">  -a               ä»¥äº¤äº’å¼shellæ¨¡å¼è¿è¡Œ</span><br><span class="line">  -c &lt;path&gt;|&lt;file&gt; åœ¨æ­¤ç›®å½•ä¸­æŸ¥æ‰¾php.iniæ–‡ä»¶</span><br><span class="line">  -n               æŒ‡å®šä¸ä½¿ç”¨php.iniæ–‡ä»¶</span><br><span class="line">  -d foo[=bar]     å®šä¹‰ä¸€ä¸ªINIå®ä½“ï¼Œkeyä¸ºfooï¼Œvalueä¸º<span class="string">&#x27;bar&#x27;</span></span><br><span class="line">  -e               ä¸ºè°ƒè¯•å’Œåˆ†æç”Ÿæˆæ‰©å±•ä¿¡æ¯</span><br><span class="line">  -f &lt;file&gt;        è§£é‡Šå’Œæ‰§è¡Œæ–‡ä»¶</span><br><span class="line">  -h               æ‰“å°å½“å‰å¸®åŠ©ä¿¡æ¯</span><br><span class="line">  -i               æ˜¾ç¤ºPHPçš„åŸºæœ¬ä¿¡æ¯</span><br><span class="line">  -l               è¿›è¡Œè¯­æ³•æ£€æŸ¥ (lint)</span><br><span class="line">  -m               æ˜¾ç¤ºç¼–è¯‘åˆ°å†…æ ¸çš„æ¨¡å—</span><br><span class="line">  -r &lt;code&gt;        è¿è¡ŒPHPä»£ç ï¼Œä¸éœ€è¦ä½¿ç”¨æ ‡ç­¾ &lt;?..?&gt;</span><br><span class="line">  -B &lt;begin_code&gt;  åœ¨å¤„ç†è¾“å…¥ä¹‹å‰å…ˆæ‰§è¡ŒPHPä»£ç </span><br><span class="line">  -R &lt;code&gt;        å¯¹è¾“å…¥çš„æ¯ä¸€è¡Œä½œä¸ºPHPä»£ç è¿è¡Œ</span><br><span class="line">  -F &lt;file&gt;        è§£é‡Šæ‰§è¡Œæ–‡ä»¶ &lt;file&gt; ä¸­çš„ä»£ç </span><br><span class="line">  -E &lt;end_code&gt;    åœ¨å¤„ç†è¾“å…¥ä¹‹åæ‰§è¡ŒPHPä»£ç </span><br><span class="line">  -H               ä»å¤–éƒ¨å·¥å…·éšè—ä¼ é€’è¿‡çš„å‚æ•°</span><br><span class="line">  -S &lt;addr&gt;:&lt;port&gt; è¿è¡Œå†…å»ºçš„webæœåŠ¡å™¨</span><br><span class="line">  -t &lt;docroot&gt;     æŒ‡å®šç”¨äºå†…å»ºwebæœåŠ¡å™¨çš„æ–‡æ¡£æ ¹ç›®å½•</span><br><span class="line">  -s               è¾“å‡ºHTMLè¯­æ³•é«˜äº®çš„æºç </span><br><span class="line">  -v               è¾“å‡ºPHPçš„ç‰ˆæœ¬å·</span><br><span class="line">  -w               è¾“å‡ºå»æ‰æ³¨é‡Šå’Œç©ºæ ¼çš„æºç </span><br><span class="line">  -z &lt;file&gt;        è½½å…¥Zendæ‰©å±•æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">  args...          ä¼ é€’ç»™è¦è¿è¡Œçš„è„šæœ¬çš„å‚æ•°ã€‚å½“ç¬¬ä¸€ä¸ªå‚æ•°ä»¥-å¼€å§‹æˆ–è€…æ˜¯è„šæœ¬æ˜¯ä»æ ‡å‡†è¾“å…¥è¯»å–çš„æ—¶å€™ï¼Œä½¿ç”¨--å‚æ•°</span><br><span class="line"></span><br><span class="line">  --ini            æ˜¾ç¤ºPHPçš„é…ç½®æ–‡ä»¶å</span><br><span class="line"></span><br><span class="line">  --rf &lt;name&gt;      æ˜¾ç¤ºå…³äºå‡½æ•° &lt;name&gt; çš„ä¿¡æ¯</span><br><span class="line">  --rc &lt;name&gt;      æ˜¾ç¤ºå…³äºç±» &lt;name&gt; çš„ä¿¡æ¯</span><br><span class="line">  --re &lt;name&gt;      æ˜¾ç¤ºå…³äºæ‰©å±• &lt;name&gt; çš„ä¿¡æ¯</span><br><span class="line">  --rz &lt;name&gt;      æ˜¾ç¤ºå…³äºZendæ‰©å±• &lt;name&gt; çš„ä¿¡æ¯</span><br><span class="line">  --ri &lt;name&gt;      æ˜¾ç¤ºæ‰©å±• &lt;name&gt; çš„é…ç½®ä¿¡æ¯</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h3 id="2-å¸¸ç”¨æ“ä½œ"><a href="#2-å¸¸ç”¨æ“ä½œ" class="headerlink" title="2. å¸¸ç”¨æ“ä½œ"></a>2. å¸¸ç”¨æ“ä½œ</h3><h4 id="2-1-ä»¥äº¤äº’æ¨¡å¼è¿è¡Œ-PHP"><a href="#2-1-ä»¥äº¤äº’æ¨¡å¼è¿è¡Œ-PHP" class="headerlink" title="2.1. ä»¥äº¤äº’æ¨¡å¼è¿è¡Œ PHP"></a>2.1. ä»¥äº¤äº’æ¨¡å¼è¿è¡Œ PHP</h4><p>ç±»ä¼¼ Pythonï¼Œè¿›å…¥äº¤äº’æ¨¡å¼åï¼Œå¯ç”¨ç›´æ¥æ‰§è¡Œ PHP ä»£ç ï¼Œè€Œä¸éœ€è¦å…ˆåˆ›å»º .php æ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ php -a</span><br><span class="line">Interactive shell</span><br><span class="line"></span><br><span class="line">php &gt; <span class="built_in">echo</span> <span class="string">&#x27;hello world&#x27;</span>;</span><br><span class="line">hello world</span><br><span class="line">php &gt; <span class="built_in">exit</span></span><br></pre></td></tr></table></figure>

<h4 id="2-2-è¿è¡Œå†…å»ºçš„-Web-æœåŠ¡å™¨"><a href="#2-2-è¿è¡Œå†…å»ºçš„-Web-æœåŠ¡å™¨" class="headerlink" title="2.2. è¿è¡Œå†…å»ºçš„ Web æœåŠ¡å™¨"></a>2.2. è¿è¡Œå†…å»ºçš„ Web æœåŠ¡å™¨</h4><p>ä» <code>PHP 5.4.0</code> å¼€å§‹ï¼ŒPHP çš„å‘½ä»¤è¡Œæ¨¡å¼æä¾›äº†ä¸€ä¸ªå†…å»ºçš„ Web æœåŠ¡å™¨ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ <span class="built_in">pwd</span></span><br><span class="line">/Users/user1/<span class="built_in">test</span></span><br><span class="line">âœ touch index.php</span><br><span class="line">âœ <span class="built_in">echo</span> <span class="string">&quot;&lt;?php phpinfo();&quot;</span> &gt; index.php</span><br><span class="line">âœ php -S localhost:8000</span><br><span class="line">PHP 5.6.30 Development Server started at Tue Sep  5 10:53:51 2017</span><br><span class="line">Listening on http://localhost:8000</span><br><span class="line">Document root is /Users/user1/<span class="built_in">test</span></span><br><span class="line">Press Ctrl-C to quit.</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ï¼Œæˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­è¾“å…¥åœ°å€ <a href="localhost:8000">localhost:8000</a> å³å¯æ‰“å¼€ <code>index.php</code> ï¼Œå¹¶è¾“å‡º <code>phpinfo()</code> çš„å†…å®¹ï¼Œè¯·æ±‚è®¿é—®æ—¥å¿—å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[Tue Sep  5 10:53:53 2017] PHP Warning:  phpinfo(): It is not safe to rely on the system&#x27;s timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected the timezone &#x27;UTC&#x27; for now, but please set date.timezone to select your timezone. in /Users/user1/test/index.php on line 1</span><br><span class="line">[Tue Sep  5 10:53:53 2017] ::1:53689 [200]: /</span><br><span class="line">[Tue Sep  5 10:53:53 2017] ::1:53690 [404]: /favicon.ico - No such file or directory</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>ctrl + c</code> å…³é—­æœåŠ¡</p>
<h4 id="2-3-æŸ¥æ‰¾-php-ini-æ–‡ä»¶"><a href="#2-3-æŸ¥æ‰¾-php-ini-æ–‡ä»¶" class="headerlink" title="2.3. æŸ¥æ‰¾ php.ini æ–‡ä»¶"></a>2.3. æŸ¥æ‰¾ php.ini æ–‡ä»¶</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ php --ini</span><br><span class="line">Configuration File (php.ini) Path: /etc</span><br><span class="line">Loaded Configuration File:         /etc/php.ini</span><br><span class="line">Scan <span class="keyword">for</span> additional .ini files <span class="keyword">in</span>: (none)</span><br><span class="line">Additional .ini files parsed:      (none)</span><br><span class="line">âœ <span class="built_in">which</span> php</span><br><span class="line">/usr/bin/php</span><br><span class="line">âœ /usr/bin/php --ini</span><br><span class="line">Configuration File (php.ini) Path: /etc</span><br><span class="line">Loaded Configuration File:         /etc/php.ini</span><br><span class="line">Scan <span class="keyword">for</span> additional .ini files <span class="keyword">in</span>: (none)</span><br><span class="line">Additional .ini files parsed:      (none)</span><br></pre></td></tr></table></figure>

<h4 id="2-4-è¯­æ³•æ£€æŸ¥"><a href="#2-4-è¯­æ³•æ£€æŸ¥" class="headerlink" title="2.4. è¯­æ³•æ£€æŸ¥"></a>2.4. è¯­æ³•æ£€æŸ¥</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ <span class="built_in">echo</span> <span class="string">&quot;&lt;?php echo &#x27;hello world&#x27; &quot;</span> &gt; index.php</span><br><span class="line">âœ php -l index.php</span><br><span class="line">PHP Parse error:  parse error, expecting `<span class="string">&#x27;,&#x27;</span><span class="string">&#x27; or `&#x27;</span>;<span class="string">&#x27;&#x27;</span> <span class="keyword">in</span> index.php on line 2</span><br><span class="line">Errors parsing index.php</span><br><span class="line">âœ <span class="built_in">echo</span> <span class="string">&quot;&lt;?php echo &#x27;hello world&#x27;; &quot;</span> &gt; index.php</span><br><span class="line">âœ php -l index.php</span><br><span class="line">No syntax errors detected <span class="keyword">in</span> index.php</span><br></pre></td></tr></table></figure>

<h4 id="2-5-å‘½ä»¤è¡Œè„šæœ¬å¼€å‘"><a href="#2-5-å‘½ä»¤è¡Œè„šæœ¬å¼€å‘" class="headerlink" title="2.5. å‘½ä»¤è¡Œè„šæœ¬å¼€å‘"></a>2.5. å‘½ä»¤è¡Œè„šæœ¬å¼€å‘</h4><p>åœ¨ä½¿ç”¨ C è¯­è¨€å¼€å‘ç¨‹åºæ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šåœ¨ main å‡½æ•°ä¸­æä¾›ä¸¤ä¸ªå¯é€‰çš„å‚æ•° <code>int main(int argc, char *argv[])</code>ï¼Œè¿™ä¸¤ä¸ªå‚æ•°å°±æ˜¯ä»å‘½ä»¤è¡Œæä¾›çš„è¾“å…¥å‚æ•°ã€‚</p>
<p>åœ¨PHPä¸­ï¼Œæä¾›äº†ä¸¤ä¸ªå…¨å±€å˜é‡ <strong>$argc</strong> å’Œ <strong>$argv</strong> ç”¨äºè·å–å‘½ä»¤è¡Œè¾“å…¥ã€‚</p>
<ul>
<li>$argc åŒ…å«äº† $argv æ•°ç»„åŒ…å«å…ƒç´ çš„æ•°ç›®</li>
<li>$argv æ˜¯ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«äº†æä¾›çš„å‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ€»æ˜¯è„šæœ¬æ–‡ä»¶åç§°</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ vim console.php</span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;å‘½ä»¤è¡Œå‚æ•°ä¸ªæ•°ï¼š&#x27;</span> . <span class="variable">$argc</span> . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;å‘½ä»¤è¡Œå‚æ•°ï¼š\n&quot;</span>;</span><br><span class="line">foreach (<span class="variable">$argv</span> as <span class="variable">$key</span> =&gt; <span class="variable">$arg</span>) &#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;\t&quot;</span> . <span class="variable">$key</span> . <span class="string">&#x27; : &#x27;</span> . <span class="variable">$arg</span> . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">âœ php console.php hello world</span><br><span class="line">å‘½ä»¤è¡Œå‚æ•°ä¸ªæ•°ï¼š3</span><br><span class="line">å‘½ä»¤è¡Œå‚æ•°ï¼š</span><br><span class="line">	0 : console.php</span><br><span class="line">	1 : hello</span><br><span class="line">	2 : world</span><br></pre></td></tr></table></figure>

<p>åœ¨è„šæœ¬ä¸­ï¼Œå¯ä»¥é€šè¿‡ <code>php_sapi_name()</code> å‡½æ•°åˆ¤æ–­æ˜¯å¦æ˜¯åœ¨å‘½ä»¤è¡Œä¸‹è¿è¡Œçš„</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ php -r <span class="string">&#x27;echo php_sapi_name(), PHP_EOL;&#x27;</span></span><br><span class="line">cli</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>PHP</category>
      </categories>
      <tags>
        <tag>PHP</tag>
        <tag>PHP-CLI</tag>
      </tags>
  </entry>
  <entry>
    <title>Vagrant å…¥é—¨æŒ‡å¼•</title>
    <url>/post/3519953407.html</url>
    <content><![CDATA[<h3 id="1-Vagrant-ä»‹ç»"><a href="#1-Vagrant-ä»‹ç»" class="headerlink" title="1. Vagrant ä»‹ç»"></a>1. Vagrant ä»‹ç»</h3><p>ç›¸å…³èµ„æº</p>
<ul>
<li>å®˜ç½‘ï¼š<a href="https://www.vagrantup.com/" title="Vagrant homepage">https://www.vagrantup.com</a></li>
<li>æ–‡æ¡£ï¼ˆè‹±æ–‡ï¼‰ï¼š<a href="https://www.vagrantup.com/docs" title="Vagrant docs">https://www.vagrantup.com/docs</a></li>
<li>æ–‡æ¡£ï¼ˆä¸­æ–‡ï¼‰ï¼š<a href="https://tangbaoping.github.io/vagrant_doc_zh/v2">https://tangbaoping.github.io/vagrant_doc_zh/v2</a></li>
<li>å®˜æ–¹ box ä»“åº“ï¼š<a href="https://app.vagrantup.com/boxes/search" title="Vagrant box">https://app.vagrantup.com/boxes/search</a></li>
<li>ç¬¬ä¸‰æ–¹ box ä»“åº“ï¼š<a href="http://www.vagrantbox.es/" title="Vagrant box">http://www.vagrantbox.es</a>ï¼ˆè¿˜æœ‰<a href="https://mirrors.tuna.tsinghua.edu.cn/ubuntu-cloud-images" title="Vagrant box">æ¸…å</a>ã€<a href="https://mirrors.ustc.edu.cn/ubuntu-cloud-images/" title="Vagrant box">ä¸­ç§‘å¤§ ğŸ‘</a>ï¼‰</li>
<li>CentOS å®˜æ–¹ box åœ°å€ï¼š<a href="http://cloud.centos.org/centos/7/vagrant/x86_64/images/">http://cloud.centos.org/centos/7/vagrant/x86_64/images/</a></li>
<li>Ubuntu å®˜æ–¹ box åœ°å€ï¼š<a href="http://cloud-images.ubuntu.com/">http://cloud-images.ubuntu.com</a></li>
</ul>
<p>ä¸‹é¢æ˜¯èŠ‚é€‰è‡ªå®˜æ–¹å¯¹ Vagrant çš„è¯´æ˜ï¼š</p>
<blockquote>
<p><strong>WHY VAGRANT?</strong></p>
<p>Vagrant provides easy to configure, reproducible, and portable work environments built on top of industry-standard technology and controlled by a single consistent workflow to help maximize the productivity and flexibility of you and your team.</p>
<p>To achieve its magic, Vagrant stands on the<br>oulders of giants. Machines are provisioned on top of <strong>VirtualBox</strong>, <strong>VMware</strong>, <strong>AWS</strong>, or any other provider. Then, industry-standard provisioning tools such as shell scripts, Chef, or Puppet, can be used to automatically install and configure software on the machine.</p>
</blockquote>
<p>å…¶å®ï¼Œè¯´ç™½äº† Vagrant å°±æ˜¯ä¸€ä¸ªæ™®æ™®é€šé€šçš„è£…äº† Linux çš„ VirtualBox è™šæ‹Ÿæœºï¼Œé…ä»¥ Vagrant  å›¢é˜Ÿä¸ºä¹‹å¼€å‘çš„ä¸€ç³»åˆ—å¥—ä»¶ï¼Œè¾…åŠ©å®Œæˆè¯¸å¦‚å®‰è£…åˆå§‹åŒ–ã€æ–‡ä»¶åŒæ­¥ã€sshã€éƒ¨ç½²ç¯å¢ƒå‡çº§ã€åŠŸèƒ½æ’ä»¶å®‰è£…ç­‰ç­‰ä¸€äº›åˆ—é—®é¢˜çš„å¼€å‘ç¯å¢ƒéƒ¨ç½²å¥—ä»¶ã€‚</p>
<p>å‚è§çŸ¥ä¹è¯é¢˜ï¼š<a href="https://www.zhihu.com/question/32324376" title="Vagrant Docker">Vagrant å’Œ Dockerçš„ä½¿ç”¨åœºæ™¯å’ŒåŒºåˆ«?</a></p>
<p><strong>è§£å†³çš„ç—›ç‚¹</strong>ï¼š</p>
<ul>
<li>å¼€å‘ç¯å¢ƒå¿«é€Ÿéƒ¨ç½²</li>
<li>å¼€å‘ç¯å¢ƒæ›´è¿­</li>
</ul>
<span id="more"></span>

<h3 id="2-å®‰è£…-Vagrant-å’Œ-VirtualBox"><a href="#2-å®‰è£…-Vagrant-å’Œ-VirtualBox" class="headerlink" title="2. å®‰è£… Vagrant å’Œ VirtualBox"></a>2. å®‰è£… Vagrant å’Œ VirtualBox</h3><blockquote>
<p>å®˜æ–¹è¯´æ˜ä¸­ï¼ŒVagrant æ˜¯æ”¯æŒ VirtualBox/VMware/AWS ç­‰è™šæ‹Ÿè½¯ä»¶çš„ï¼Œé€‰æ‹© VirtualBox ä¸»è¦æ˜¯å› ä¸ºå¼€æºã€å…è´¹ã€è½»ä¾¿ã€‚</p>
</blockquote>
<h4 id="2-1-å®‰è£…-VirtualBox"><a href="#2-1-å®‰è£…-VirtualBox" class="headerlink" title="2.1. å®‰è£… VirtualBox"></a>2.1. å®‰è£… VirtualBox</h4><p>VirtualBox æ”¯æŒ Windowsã€macOSã€Linux ç­‰ç³»ç»Ÿã€‚</p>
<p>ä¸‹è½½åœ°å€ï¼š<a href="https://www.virtualbox.org/wiki/Downloads" title="Virtualbox Download">https://www.virtualbox.org/wiki/Downloads</a></p>
<p>å»ºè®®åŒæ—¶å®‰è£…æ‰©å±• <strong>VirtualBox xxxx Oracle VM VirtualBox Extension Pack</strong></p>
<h4 id="2-2-å®‰è£…-Vagrant"><a href="#2-2-å®‰è£…-Vagrant" class="headerlink" title="2.2. å®‰è£… Vagrant"></a>2.2. å®‰è£… Vagrant</h4><p>Vagrant æ”¯æŒ Windowsã€CentOSã€Linux x64ã€macOS ç­‰ç³»ç»Ÿã€‚</p>
<p>ä¸‹è½½åœ°å€ï¼š<a href="https://www.vagrantup.com/downloads.html" title="Vagrant Download">https://www.vagrantup.com/downloads.html</a></p>
<p>å®‰è£…åŒ…æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ ¹æ®æç¤ºä¸€æ­¥ä¸€æ­¥å®‰è£…å³å¯ã€‚å®‰è£…ç¨‹åºä¼šå°† <code>vagrant</code> å‘½ä»¤æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒï¼ˆpathï¼‰å˜é‡ï¼Œå®‰è£…ç»“æŸåå¯é€šè¿‡ä¸‹é¢åˆ°å‘½ä»¤æ£€æŸ¥ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åœ¨ç»ˆç«¯ä¸‹éªŒè¯ Vagrant æ˜¯å¦å®‰è£…æˆåŠŸ</span></span><br><span class="line">$ vagrant --version</span><br><span class="line">Vagrant 2.2.4</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–è€…æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</span></span><br><span class="line"><span class="comment"># è¯¥å‘½ä»¤åœ¨æŸ¥çœ‹è½¯ä»¶ç‰ˆæœ¬çš„åŒæ—¶ï¼Œä¼šæ£€æµ‹æ˜¯å¦æœ‰æ–°ç‰ˆæœ¬å¯æ›´æ–°</span></span><br><span class="line">$ vagrant version</span><br><span class="line">Installed Version: 2.2.4</span><br><span class="line">Latest Version: 2.2.6</span><br><span class="line"></span><br><span class="line">You<span class="string">&#x27;re running an up-to-date version of Vagrant!</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>âš ï¸ å…³äºè½¯ä»¶å‡çº§ï¼š</p>
<ol>
<li>ä¸è¦å•ç‹¬å‡çº§ VirtualBox æˆ– Vagrant ï¼ŒäºŒè€…éœ€è¦ç‰ˆæœ¬åŒ¹é…ï¼Œå¦‚æœä½ çš„ VirtualBox å‡çº§äº†æœ€æ–°ç‰ˆæœ¬ï¼Œé‚£ä¹ˆä¸€å®šè¦æ£€æŸ¥ Vagrant æ˜¯å¦ä¹Ÿåšäº†æ›´æ–°ã€‚</li>
<li>å‡çº§ VirtualBox æ—¶ï¼Œéœ€åŒæ—¶å‡çº§æ‰©å±•ã€‚</li>
<li>å‡çº§ Vagrant æ—¶å€™ï¼Œæ¨èå…ˆå¸è½½ï¼Œå†å®‰è£…æœ€æ–°ç‰ˆæœ¬ã€‚</li>
</ol>
</blockquote>
<h3 id="3-é…ç½®ã€å¯åŠ¨-Vagrant"><a href="#3-é…ç½®ã€å¯åŠ¨-Vagrant" class="headerlink" title="3. é…ç½®ã€å¯åŠ¨ Vagrant"></a>3. é…ç½®ã€å¯åŠ¨ Vagrant</h3><h4 id="3-1-æ·»åŠ ä¸€ä¸ª-box"><a href="#3-1-æ·»åŠ ä¸€ä¸ª-box" class="headerlink" title="3.1. æ·»åŠ ä¸€ä¸ª box"></a>3.1. æ·»åŠ ä¸€ä¸ª box</h4><p>ä»å¤´å¼€å§‹åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæœºï¼Œæ˜¯ä¸€ä¸ªæ¼«é•¿è€Œä¹å‘³çš„è¿‡ç¨‹ï¼Œå› æ­¤ Vagrant æ˜¯é€šè¿‡åŸºç¡€é•œåƒåŒ…æ¥å®ç°å¿«é€Ÿå…‹éš†åˆ›å»ºè™šæ‹Ÿæœºçš„ã€‚è¿™äº›åŸºç¡€é•œåƒåŒ…åœ¨ Vagrant ä¸­è¢«ç§°ä¸º <code>boxes</code> ï¼Œ è€Œåœ¨åˆ›å»º <code>Vagrantfile</code> æ–‡ä»¶åçš„ç¬¬ä¸€ä»¶äº‹æƒ…å°±æ˜¯æŒ‡å®š Vagrant ç¯å¢ƒä½¿ç”¨å“ªä¸€ä¸ª Boxã€‚</p>
<p>åŸå§‹çš„ box æ˜¯ä¸€ä¸ªåŒ…å«äº†åŸºæœ¬ç³»ç»Ÿå’Œè®¾ç½®çš„é•œåƒåŒ…ï¼Œä½ å¯ä»¥é€šè¿‡åŸºç¡€åŒ…å®‰è£…è½¯ä»¶æˆ–åšä¸€äº›è‡ªå®šä¹‰é…ç½®ï¼Œç„¶åå¯¼å‡ºæ¥æˆä¸ºæ–°çš„åŸºç¡€åŒ…ï¼Œå†æ¬¡ä½¿ç”¨çš„æ—¶å€™ï¼Œç›´æ¥å¯¼å…¥ä½ ä¹‹å‰å¯¼å‡ºçš„è¿™ä¸ª box å³å¯ã€‚</p>
<p>å¦‚ä½•æ·»åŠ ï¼Ÿ</p>
<ul>
<li><p>æ–¹å¼ä¸€ï¼šä½¿ç”¨ <a href="https://app.vagrantup.com/boxes/search" title="Vagrant box">Vagrant å®˜æ–¹ä»“åº“</a> ä¸­å¯¹åº”çš„ box åç§°</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ­¤ç§æ–¹å¼æ— æ³•ä¿®æ”¹æ·»åŠ çš„ box åç§°</span></span><br><span class="line"><span class="comment"># å¹¶ä¸”åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¸‹è½½é€Ÿåº¦å¯èƒ½æ¯”è¾ƒç¼“æ…¢ï¼Œæ‰€ä»¥æ¨èä½¿ç”¨æ–¹å¼äºŒ</span></span><br><span class="line">$ vagrant box add ubuntu/xenial64</span><br><span class="line">==&gt; box: Loading metadata <span class="keyword">for</span> box <span class="string">&#x27;ubuntu/xenial64&#x27;</span></span><br><span class="line">		box: URL: https://vagrantcloud.com/ubuntu/xenial64</span><br><span class="line">==&gt; box: Adding box <span class="string">&#x27;ubuntu/xenial64&#x27;</span> (v20190807.0.0) <span class="keyword">for</span> provider: virtualbox</span><br><span class="line">		box: Downloading: https://vagrantcloud.com/ubuntu/boxes/xenial64/versions/20190807.0.0/providers/virtualbox.box</span><br><span class="line">		box: Download redirected to host: cloud-images.ubuntu.com</span><br><span class="line">==&gt; box: Successfully added box <span class="string">&#x27;ubuntu/xenial64&#x27;</span> (v20190807.0.0) <span class="keyword">for</span> <span class="string">&#x27;virtualbox&#x27;</span>!</span><br></pre></td></tr></table></figure></li>
<li><p>æ–¹å¼äºŒï¼šä½¿ç”¨ <a href="http://www.vagrantbox.es/" title="Vagrant box">ç¬¬ä¸‰æ–¹ä»“åº“</a>ï¼ˆè¿˜æœ‰<a href="https://mirrors.tuna.tsinghua.edu.cn/ubuntu-cloud-images" title="Vagrant box">æ¸…å</a>ã€<a href="https://mirrors.ustc.edu.cn/ubuntu-cloud-images/" title="Vagrant box">ä¸­ç§‘å¤§ ğŸ‘</a>ï¼‰ï¼Œé€Ÿåº¦ç›¸å¯¹å¿«ä¸€äº›ï¼Œä¹Ÿæ›´çµæ´»</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ box çš„ç»å¯¹è·¯å¾„</span></span><br><span class="line">$ vagrant box add ubuntu1804 https://mirrors.ustc.edu.cn/ubuntu-cloud-images/xenial/current/xenial-server-cloudimg-amd64-vagrant.box</span><br><span class="line">==&gt; box: Box file was not detected as metadata. Adding it directly...</span><br><span class="line">==&gt; box: Adding box <span class="string">&#x27;ubuntu1804&#x27;</span> (v0) <span class="keyword">for</span> provider:</span><br><span class="line">		box: Downloading: https://mirrors.ustc.edu.cn/ubuntu-cloud-images/xenial/current/xenial-server-cloudimg-amd64-vagrant.box</span><br><span class="line">		box:</span><br><span class="line">==&gt; box: Successfully added box <span class="string">&#x27;ubuntu1804&#x27;</span> (v0) <span class="keyword">for</span> <span class="string">&#x27;virtualbox&#x27;</span>!</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ä¹‹å‰å¯¼å‡ºçš„ box æˆ–ç¦»çº¿ä¸‹è½½å¥½çš„ box</span></span><br><span class="line"><span class="comment"># å¯¼å‡ºæ–¹å¼è¯¦è§ä¸‹æ–‡çš„å¸¸ç”¨å‘½ä»¤</span></span><br><span class="line">$ vagrant box add ubuntu1604 ./boxs/xenial-server-cloudimg-amd64-vagrant.box</span><br><span class="line">==&gt; box: Box file was not detected as metadata. Adding it directly...</span><br><span class="line">==&gt; box: Adding box <span class="string">&#x27;ubuntu1604&#x27;</span> (v0) <span class="keyword">for</span> provider:</span><br><span class="line">    box: Unpacking necessary files from: file:///Users/sunqiang/myvagrant/boxs/xenial-server-cloudimg-amd64-vagrant.box</span><br><span class="line">==&gt; box: Successfully added box <span class="string">&#x27;ubuntu1604&#x27;</span> (v0) <span class="keyword">for</span> <span class="string">&#x27;virtualbox&#x27;</span>!</span><br></pre></td></tr></table></figure></li>
</ul>
<p>æ£€æŸ¥ box æ˜¯å¦æ·»åŠ æˆåŠŸ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ vagrant box list</span><br><span class="line">centos7         (virtualbox, 0)</span><br><span class="line">ubuntu/xenial64 (virtualbox, 20190807.0.0)</span><br><span class="line">ubuntu1604      (virtualbox, 0)</span><br></pre></td></tr></table></figure>

<h4 id="3-2-åˆå§‹åŒ–ã€å¯åŠ¨"><a href="#3-2-åˆå§‹åŒ–ã€å¯åŠ¨" class="headerlink" title="3.2. åˆå§‹åŒ–ã€å¯åŠ¨"></a>3.2. åˆå§‹åŒ–ã€å¯åŠ¨</h4><ol>
<li><p>åˆ›å»ºä¸€ä¸ªå·¥ä½œç›®å½•</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ mkdir -p ~/vagrant/lamp</span><br><span class="line">$ <span class="built_in">cd</span> ~/vagrant/lamp</span><br></pre></td></tr></table></figure></li>
<li><p>ä»¥åå­—ä¸º <em>ubuntu/xeninal64</em> çš„ box åˆå§‹åŒ– Vagrant</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ vagrant init ubuntu/xeninal64</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">A `Vagrantfile` has been placed <span class="keyword">in</span> this directory. You are now</span><br><span class="line">ready to `vagrant up` your first virtual environment! Please <span class="built_in">read</span></span><br><span class="line">the comments <span class="keyword">in</span> the Vagrantfile as well as documentation on</span><br><span class="line">`vagrantup.com` <span class="keyword">for</span> more information on using Vagrant.</span><br><span class="line"></span><br><span class="line">$ ls -la</span><br><span class="line">total 8</span><br><span class="line">drwxr-xr-x  3 ç”¨æˆ·å  staff   102  3  2 21:13 .</span><br><span class="line">drwxr-xr-x  5 ç”¨æˆ·å  staff   170  3  2 18:47 ..</span><br><span class="line">-rw-r--r--  1 ç”¨æˆ·å  staff  3011  3  2 21:13 Vagrantfile</span><br></pre></td></tr></table></figure></li>
<li><p>å¯åŠ¨ Vagrant</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ vagrant up</span><br><span class="line">Bringing machine <span class="string">&#x27;default&#x27;</span> up with <span class="string">&#x27;virtualbox&#x27;</span> provider...</span><br><span class="line">==&gt; default: Importing base box <span class="string">&#x27;ubuntu/xenial64&#x27;</span>...</span><br><span class="line">==&gt; default: Matching MAC address <span class="keyword">for</span> NAT networking...</span><br><span class="line">==&gt; default: Setting the name of the VM: lamp_default_1488461535325_84495</span><br><span class="line">==&gt; default: Fixed port collision <span class="keyword">for</span> 22 =&gt; 2222. Now on port 2201.</span><br><span class="line">==&gt; default: Clearing any previously <span class="built_in">set</span> network interfaces...</span><br><span class="line">==&gt; default: Preparing network interfaces based on configuration...</span><br><span class="line">    default: Adapter 1: nat</span><br><span class="line">==&gt; default: Forwarding ports...</span><br><span class="line">    default: 22 (guest) =&gt; 2201 (host) (adapter 1)</span><br><span class="line">==&gt; default: Booting VM...</span><br><span class="line">==&gt; default: Waiting <span class="keyword">for</span> machine to boot. This may take a few minutes...</span><br><span class="line">    default: SSH address: 127.0.0.1:2201</span><br><span class="line">    default: SSH username: vagrant</span><br><span class="line">    default: SSH auth method: private key</span><br><span class="line">    default: Warning: Remote connection disconnect. Retrying...</span><br><span class="line">    default:</span><br><span class="line">    default: Vagrant insecure key detected. Vagrant will automatically replace</span><br><span class="line">    default: this with a newly generated keypair <span class="keyword">for</span> better security.</span><br><span class="line">    default:</span><br><span class="line">    default: Inserting generated public key within guest...</span><br><span class="line">    default: Removing insecure key from the guest <span class="keyword">if</span> it<span class="string">&#x27;s present...</span></span><br><span class="line"><span class="string">    default: Key inserted! Disconnecting and reconnecting using new SSH key...</span></span><br><span class="line"><span class="string">==&gt; default: Machine booted and ready!</span></span><br><span class="line"><span class="string">==&gt; default: Checking for guest additions in VM...</span></span><br><span class="line"><span class="string">    default: No guest additions were detected on the base box for this VM! Guest</span></span><br><span class="line"><span class="string">    default: additions are required for forwarded ports, shared folders, host only</span></span><br><span class="line"><span class="string">    default: networking, and more. If SSH fails on this machine, please install</span></span><br><span class="line"><span class="string">    default: the guest additions and repackage the box to continue.</span></span><br><span class="line"><span class="string">    default:</span></span><br><span class="line"><span class="string">    default: This is not an error message; everything may continue to work properly,</span></span><br><span class="line"><span class="string">    default: in which case you may ignore this message.</span></span><br><span class="line"><span class="string">==&gt; default: Mounting shared folders...</span></span><br><span class="line"><span class="string">    default: /vagrant =&gt; /Users/ç”¨æˆ·å/myvagrant/lamp</span></span><br><span class="line"><span class="string">Vagrant was unable to mount VirtualBox shared folders. This is usually</span></span><br><span class="line"><span class="string">because the filesystem &quot;vboxsf&quot; is not available. This filesystem is</span></span><br><span class="line"><span class="string">made available via the VirtualBox Guest Additions and kernel module.</span></span><br><span class="line"><span class="string">Please verify that these guest additions are properly installed in the</span></span><br><span class="line"><span class="string">guest. This is not a bug in Vagrant and is usually caused by a faulty</span></span><br><span class="line"><span class="string">Vagrant box. For context, the command attempted was:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">mount -t vboxsf -o uid=1000,gid=1000 vagrant /vagrant</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">The error output from the command was:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">mount: unknown filesystem type &#x27;</span>vboxsf<span class="string">&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li><p>æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹ï¼ˆVagranté…ç½®æ–‡ä»¶ï¼‰å¯¹åº”çš„è™šæ‹Ÿæœºçš„è¿è¡ŒçŠ¶æ€</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ vagrant status</span><br><span class="line">Current machine states:</span><br><span class="line"></span><br><span class="line">default                   running (virtualbox)</span><br><span class="line"></span><br><span class="line">The VM is running. To stop this VM, you can run `vagrant halt` to</span><br><span class="line">shut it down forcefully, or you can run `vagrant <span class="built_in">suspend</span>` to simply</span><br><span class="line"><span class="built_in">suspend</span> the virtual machine. In either <span class="keyword">case</span>, to restart it again,</span><br><span class="line">simply run `vagrant up`.</span><br></pre></td></tr></table></figure></li>
</ol>
<p>å®Œæˆä¸Šé¢çš„æ­¥éª¤ï¼Œå…¶å®ä¸€ä¸ªç”± Vagrant ç®¡ç†çš„è™šæ‹Ÿæœºå·²ç»å¯åŠ¨èµ·æ¥äº†ã€‚</p>
<p>æ­¤æ—¶ï¼Œå¦‚æœæˆ‘ä»¬æ‰“å¼€ VirtualBox è½¯ä»¶ï¼Œåœ¨å·¦ä¾§çš„åˆ—è¡¨æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€ä¸ªè¢«æ–°æ·»åŠ ã€å¹¶ä¸”<strong>æ­£åœ¨è¿è¡Œ</strong>çŠ¶æ€çš„è™šæ‹Ÿæœºã€‚æ‰€ä»¥ï¼Œå¹¶ä¸éœ€è¦æ‰“å¼€ VirtualBox è½¯ä»¶ï¼Œå…¨éƒ¨ç”± Vagrant åœ¨å‘½ä»¤è¡Œè¿›è¡Œç®¡ç†ä¼šæ›´æ–¹ä¾¿ï¼Œå‚è§é™„å½•éƒ¨åˆ†ï¼š<a href="#4-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4">4. å¸¸ç”¨å‘½ä»¤</a></p>
<blockquote>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼š</p>
<p>è™½ç„¶ Vagrant å·²ç»å¯åŠ¨è¿è¡Œäº†ï¼Œä½†æ˜¯åœ¨å¯åŠ¨è¿‡ç¨‹å¯èƒ½ä¼šæŠ¥é”™ï¼ˆä¸€èˆ¬å­˜åœ¨äºä½¿ç”¨ç¬¬ä¸‰æ–¹ä¸‹è½½çš„ box æ—¶ï¼‰ï¼š</p>
<p><code>mount: unknown filesystem type &#39;vboxsf&#39;</code></p>
<p>è¿™ä¸»è¦æ˜¯ä¸‹è½½çš„ box é‡Œé¢ VirtualBox æ‰©å±•æœ‰é—®é¢˜ï¼Œéœ€è¦é‡æ–°å¤„ç†ä¸€ä¸‹ï¼Œå‚è§å¸¸è§é—®é¢˜éƒ¨åˆ†ï¼š<a href="#6-1-mount-unknown-filesystem-type-39-vboxsf-39">6.1. mount: unknown filesystem type â€˜vboxsfâ€™</a></p>
</blockquote>
<h4 id="3-3-ssh-åˆ°è™šæ‹Ÿæœº"><a href="#3-3-ssh-åˆ°è™šæ‹Ÿæœº" class="headerlink" title="3.3. ssh åˆ°è™šæ‹Ÿæœº"></a>3.3. ssh åˆ°è™šæ‹Ÿæœº</h4><p>åœ¨å·¥ä½œç›®å½•ä¸‹ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ ssh ç™»å½•åˆ°æ­£åœ¨è¿è¡Œçš„è™šæ‹Ÿæœº</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ vagrant ssh</span><br><span class="line">Welcome to Ubuntu 16.04.3 LTS (GNU/Linux 4.4.0-97-generic x86_64)</span><br><span class="line"></span><br><span class="line"> * Documentation:  https://help.ubuntu.com</span><br><span class="line"> * Management:     https://landscape.canonical.com</span><br><span class="line"> * Support:        https://ubuntu.com/advantage</span><br><span class="line"></span><br><span class="line">  Get cloud support with Ubuntu Advantage Cloud Guest:</span><br><span class="line">    http://www.ubuntu.com/business/services/cloud</span><br><span class="line"></span><br><span class="line">0 packages can be updated.</span><br><span class="line">0 updates are security updates.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">_____________________________________________________________________</span><br><span class="line">WARNING! Your environment specifies an invalid locale.</span><br><span class="line"> The unknown environment variables are:</span><br><span class="line">   LC_CTYPE=zh_CN.UTF-8 LC_ALL=</span><br><span class="line"> This can affect your user experience significantly, including the</span><br><span class="line"> ability to manage packages. You may install the locales by running:</span><br><span class="line"></span><br><span class="line">   sudo apt-get install language-pack-zh</span><br><span class="line">     or</span><br><span class="line">   sudo locale-gen zh_CN.UTF-8</span><br><span class="line"></span><br><span class="line">To see all available language packs, run:</span><br><span class="line">   apt-cache search <span class="string">&quot;^language-pack-[a-z][a-z]$&quot;</span></span><br><span class="line">To <span class="built_in">disable</span> this message <span class="keyword">for</span> all users, run:</span><br><span class="line">   sudo touch /var/lib/cloud/instance/locale-check.skip</span><br><span class="line">_____________________________________________________________________</span><br><span class="line">ubuntu@ubuntu-xenial:~$ sudo locale-gen zh_CN.UTF-8</span><br><span class="line">Generating locales (this might take a <span class="keyword">while</span>)...</span><br><span class="line">  zh_CN.UTF-8... <span class="keyword">done</span></span><br><span class="line">Generation complete.</span><br><span class="line">ubuntu@ubuntu-xenial:~$ cat /etc/os-release</span><br><span class="line">NAME=<span class="string">&quot;Ubuntu&quot;</span></span><br><span class="line">VERSION=<span class="string">&quot;16.04.3 LTS (Xenial Xerus)&quot;</span></span><br><span class="line">ID=ubuntu</span><br><span class="line">ID_LIKE=debian</span><br><span class="line">PRETTY_NAME=<span class="string">&quot;Ubuntu 16.04.3 LTS&quot;</span></span><br><span class="line">VERSION_ID=<span class="string">&quot;16.04&quot;</span></span><br><span class="line">HOME_URL=<span class="string">&quot;http://www.ubuntu.com/&quot;</span></span><br><span class="line">SUPPORT_URL=<span class="string">&quot;http://help.ubuntu.com/&quot;</span></span><br><span class="line">BUG_REPORT_URL=<span class="string">&quot;http://bugs.launchpad.net/ubuntu/&quot;</span></span><br><span class="line">VERSION_CODENAME=xenial</span><br><span class="line">UBUNTU_CODENAME=xenial</span><br><span class="line">ubuntu@ubuntu-xenial:~$ <span class="built_in">exit</span></span><br><span class="line"><span class="built_in">logout</span></span><br><span class="line">Connection to 127.0.0.1 closed.</span><br></pre></td></tr></table></figure>

<blockquote>
<p>root é»˜è®¤å¯†ç ï¼Œé€šå¸¸ä¸º vagrant</p>
</blockquote>
<h3 id="4-å¸¸ç”¨å‘½ä»¤"><a href="#4-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="4. å¸¸ç”¨å‘½ä»¤"></a>4. å¸¸ç”¨å‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ  box</span></span><br><span class="line">$ vagrant box add new-box-name boxæ–‡ä»¶åœ°å€ï¼ˆæœ¬åœ°ã€è¿œç¨‹ï¼‰</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤ box</span></span><br><span class="line">$ vagrant box remove box-name</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»¥æŒ‡å®šçš„ box åˆå§‹åŒ–</span></span><br><span class="line">$ vagrant init new-box-name</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨</span></span><br><span class="line">$ vagrant up</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…³é—­</span></span><br><span class="line">$ vagrant halt</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å¯ï¼Œé‡æ–°åŠ è½½é…ç½®æ–‡ä»¶</span></span><br><span class="line">$ vagrant reload</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‚èµ·</span></span><br><span class="line">$ vagrant <span class="built_in">suspend</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºå¿«ç…§ï¼ˆvm åç§°ä½¿ç”¨ vagrant status æŸ¥çœ‹ï¼‰</span></span><br><span class="line">$ vagrant snapshot save [vmåç§°] [å¿«ç…§åç§°]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å¿«ç…§åˆ—è¡¨</span></span><br><span class="line">$ vagrant snapshot list</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿˜åŸåˆ°æŒ‡å®šå¿«ç…§</span></span><br><span class="line">$ vagrant snapshot restore [vmåç§°] [å¿«ç…§åç§°]</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤å¿«ç…§</span></span><br><span class="line">$ vagrant snapshot delete [å¿«ç…§åç§°]</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…³é—­ã€åˆ é™¤ Vagrant åˆ›å»ºçš„è™šæ‹Ÿæœºèµ„æº</span></span><br><span class="line">$ vagrant destroy</span><br><span class="line">    default: Are you sure you want to destroy the <span class="string">&#x27;default&#x27;</span> VM? [y/N] y</span><br><span class="line">==&gt; default: Forcing shutdown of VM...</span><br><span class="line">==&gt; default: Destroying VM and associated drives...</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“åŒ…</span></span><br><span class="line">$ vagrant package --output è‡ªå®šä¹‰çš„åŒ…å.box</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´å¤šè¯¦ç»†è¯´æ˜</span></span><br><span class="line">$ vagrant -h</span><br><span class="line">$ vagrant å‘½ä»¤å -h</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="5-é™„å½•"><a href="#5-é™„å½•" class="headerlink" title="5. é™„å½•"></a>5. é™„å½•</h3><h4 id="5-1-Vagrantfile-å¸¸ç”¨é…ç½®"><a href="#5-1-Vagrantfile-å¸¸ç”¨é…ç½®" class="headerlink" title="5.1. Vagrantfile å¸¸ç”¨é…ç½®"></a>5.1. Vagrantfile å¸¸ç”¨é…ç½®</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è™šæ‹Ÿæœºä¸­ linux çš„ hostname</span></span><br><span class="line">config.vm.hostname = <span class="string">&quot;vm-ubuntu1604-localhost&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è™šæ‹Ÿæœºåç§°ï¼Œåœ¨ç±»ä¼¼åˆ›å»ºå¤‡ä»½ç­‰æ“ä½œä¸­ä¼šç”¨åˆ°</span></span><br><span class="line">config.vm.define <span class="string">&quot;vm-ubuntu1604&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç½‘ç»œè®¾ç½®1 - å…¬æœ‰ï¼ˆpublic_networkï¼‰ç½‘ç»œï¼ˆå…è®¸å±€åŸŸç½‘ä¸­å…¶ä»–æœºå™¨è®¿é—®ï¼‰</span></span><br><span class="line">config.vm.network <span class="string">&quot;public_network&quot;</span>, ip: <span class="string">&quot;192.168.1.223&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç½‘ç»œè®¾ç½®2 - ç§æœ‰ï¼ˆprivate_networkï¼‰ç½‘ç»œï¼ˆåªå…è®¸ä¸»æœºè®¿é—®è™šæ‹Ÿæœºï¼‰</span></span><br><span class="line"><span class="comment"># æ­¤æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æŒ‡å®šçš„ IP åŠ  ç«¯å£å·è¿›è¡Œè®¿é—®ï¼Œæ¯”å¦‚ä½¿ç”¨ 192.168.127.11:81 å³å¯è®¿é—®è™šæ‹Ÿæœºé‡Œçš„ 81 ç«¯å£</span></span><br><span class="line">config.vm.network <span class="string">&quot;private_network&quot;</span>, ip: <span class="string">&quot;192.168.127.11&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç½‘ç»œè®¾ç½®3 - å°†ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœº</span></span><br><span class="line"><span class="comment"># åœ¨å®¿ä¸»æœºä½¿ç”¨ 127.0.0.1:8080 å³å¯è®¿é—®è™šæ‹Ÿæœºé‡Œçš„ 80 ç«¯å£</span></span><br><span class="line">config.vm.network <span class="string">&quot;forwarded_port&quot;</span>, guest: 80, host: 8080</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…±äº«ç›®å½•</span></span><br><span class="line"><span class="comment"># æ³¨æ„ï¼šè¿™é‡Œçš„ owner å’Œ groupï¼Œä¸ä½ æ­å»ºçš„ LAMP ç¯å¢ƒè¿è¡Œç”¨æˆ·ä¸€è‡´ï¼ˆåœ¨ phpinfo() é¡µé¢ä¸­æœç´¢ â€œuserâ€ï¼‰</span></span><br><span class="line">config.vm.synced_folder <span class="string">&quot;/Users/ç”¨æˆ·å/www&quot;</span>, <span class="string">&quot;/var/www/html&quot;</span>, create:<span class="literal">true</span>, owner:<span class="string">&quot;www-data&quot;</span>, group:<span class="string">&quot;www-data&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># VirtualBox è™šæ‹Ÿæœºé…ç½®ï¼ˆå†…å­˜ã€CPUã€æ˜¾ç¤ºåç§°ç­‰ï¼‰</span></span><br><span class="line">config.vm.provider <span class="string">&quot;virtualbox&quot;</span> <span class="keyword">do</span> |vb|</span><br><span class="line"><span class="comment">#   # Display the VirtualBox GUI when booting the machine</span></span><br><span class="line"><span class="comment">#   vb.gui = true</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#   # Customize the amount of memory on the VM:</span></span><br><span class="line">    vb.memory = <span class="string">&quot;512&quot;</span></span><br><span class="line">    vb.name = <span class="string">&quot;ubuntu1604&quot;</span></span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<h4 id="5-2-å…³é—­é™æ€æ–‡ä»¶ç¼“å­˜"><a href="#5-2-å…³é—­é™æ€æ–‡ä»¶ç¼“å­˜" class="headerlink" title="5.2. å…³é—­é™æ€æ–‡ä»¶ç¼“å­˜"></a>5.2. å…³é—­é™æ€æ–‡ä»¶ç¼“å­˜</h4><p>ä½¿ç”¨ Apache/Nginx æ—¶ä¼šå‡ºç°è¯¸å¦‚å›¾ç‰‡ä¿®æ”¹åä½†é¡µé¢åˆ·æ–°ä»ç„¶æ˜¯æ—§æ–‡ä»¶çš„æƒ…å†µï¼Œæ˜¯ç”±äºé™æ€æ–‡ä»¶ç¼“å­˜é€ æˆçš„ã€‚éœ€è¦å¯¹è™šæ‹Ÿæœºé‡Œçš„ Apache/Nginx é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Apache é…ç½®ï¼ˆhttpd.conf æˆ–è€… apache.confï¼‰æ·»åŠ ï¼š</span></span><br><span class="line">EnableSendfile off</span><br><span class="line"></span><br><span class="line"><span class="comment"># Nginx é…ç½®ï¼ˆnginx.confï¼‰æ·»åŠ ï¼š</span></span><br><span class="line">sendfile off;</span><br></pre></td></tr></table></figure>

<h4 id="5-3-è™šæ‹Ÿæœºä¸å®¿ä¸»æœºæ—¶é—´åŒæ­¥è®¾ç½®"><a href="#5-3-è™šæ‹Ÿæœºä¸å®¿ä¸»æœºæ—¶é—´åŒæ­¥è®¾ç½®" class="headerlink" title="5.3. è™šæ‹Ÿæœºä¸å®¿ä¸»æœºæ—¶é—´åŒæ­¥è®¾ç½®"></a>5.3. è™šæ‹Ÿæœºä¸å®¿ä¸»æœºæ—¶é—´åŒæ­¥è®¾ç½®</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#</span></span><br><span class="line">$ VBoxManage list vms</span><br><span class="line"><span class="string">&quot;win7&quot;</span> &#123;87fd57f0-ef1f-4e6d-8529-0fee472ba76a&#125;</span><br><span class="line"><span class="string">&quot;win10&quot;</span> &#123;a7edfd3b-0706-43f6-bd3d-b79dc796eb28&#125;</span><br><span class="line"><span class="string">&quot;ubuntu1604&quot;</span> &#123;72329a00-87e3-40be-b5fc-a4417ce2aecb&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">$ VBoxManage getextradata <span class="string">&quot;ubuntu1604&quot;</span> <span class="string">&quot;VBoxInternal/Devices/VMMDev/0/Config/GetHostTimeDisabled&quot;</span></span><br><span class="line">No value <span class="built_in">set</span>!</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">$ VBoxManage setextradata <span class="string">&quot;ubuntu1604&quot;</span> <span class="string">&quot;VBoxInternal/Devices/VMMDev/0/Config/GetHostTimeDisabled&quot;</span> 0</span><br><span class="line"></span><br><span class="line"><span class="comment"># å·²ç»è®¾ç½®æˆåŠŸ</span></span><br><span class="line">$ VBoxManage getextradata <span class="string">&quot;ubuntu1604&quot;</span> <span class="string">&quot;VBoxInternal/Devices/VMMDev/0/Config/GetHostTimeDisabled&quot;</span></span><br><span class="line">Value: 0</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡æ–°å¯åŠ¨è™šæ‹Ÿæœºä»¥åŠ è½½ä¿®æ”¹çš„é…ç½®</span></span><br><span class="line">$ vagrant reload</span><br></pre></td></tr></table></figure>


<h4 id="5-4-å®‰è£…-VirtualBox-æ‰©å±•å·¥å…·"><a href="#5-4-å®‰è£…-VirtualBox-æ‰©å±•å·¥å…·" class="headerlink" title="5.4. å®‰è£… VirtualBox æ‰©å±•å·¥å…·"></a>5.4. å®‰è£… VirtualBox æ‰©å±•å·¥å…·</h4><p>å¦‚æœä½¿ç”¨å®˜æ–¹ box åˆå§‹åŒ–è™šæ‹Ÿæœºï¼Œå…¶å®å¾—åˆ°çš„æ˜¯ä¸€ä¸ªçº¯å‡€çš„é•œåƒï¼Œä¸€äº›åŸºç¡€å·¥å…·å’Œè®¾ç½®éœ€è¦ä½ è‡ªå·±æ¥é…ç½®ï¼ˆæ‰€ä»¥ï¼Œè¿˜æ˜¯æ¨èä½¿ç”¨æ–¹å¼äºŒï¼‰ã€‚</p>
<p>æ¯”å¦‚æƒ³è¦å®ç°æ–‡ä»¶å¤¹å…±äº«ã€ç½‘ç»œã€ç«¯å£æ˜ å°„ç­‰ï¼Œå¿…é¡»è¦å®‰è£… VirtualBox æ‰©å±•å·¥å…·ï¼Œå…·ä½“å®‰è£…æ–¹å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥è™šæ‹Ÿæœº</span></span><br><span class="line">$ vagrant ssh</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…æ‰€éœ€å¼€å‘å·¥å…·</span></span><br><span class="line">ubuntu@ubuntu1604:~$ sudo apt-get install linux-headers-$(uname -r) build-essential dkms</span><br><span class="line"></span><br><span class="line"><span class="comment"># VBoxGuestAdditions æ‰©å±•çš„ç‰ˆæœ¬ï¼Œå–å‰ä¸‰ä½ï¼Œå¦‚ï¼š5.2.20</span></span><br><span class="line"><span class="comment"># æ‰€æœ‰å¯ç”¨ç‰ˆæœ¬ï¼šhttp://download.virtualbox.org/virtualbox</span></span><br><span class="line">ubuntu@ubuntu1604:~$  <span class="built_in">cd</span> /tmp</span><br><span class="line">ubuntu@ubuntu1604:~$  wget http://download.virtualbox.org/virtualbox/5.2.20/VBoxGuestAdditions_5.2.20.iso</span><br><span class="line">ubuntu@ubuntu1604:~$  sudo mkdir /media/VBoxGuestAdditions</span><br><span class="line">ubuntu@ubuntu1604:~$  sudo mount -o loop,ro VBoxGuestAdditions_5.2.20.iso /media/VBoxGuestAdditions</span><br><span class="line">ubuntu@ubuntu1604:~$  sudo sh /media/VBoxGuestAdditions/VBoxLinuxAdditions.run</span><br><span class="line">ubuntu@ubuntu1604:~$  rm VBoxGuestAdditions_5.2.20.iso</span><br><span class="line">ubuntu@ubuntu1604:~$  sudo umount /media/VBoxGuestAdditions</span><br><span class="line">ubuntu@ubuntu1604:~$  sudo rmdir /media/VBoxGuestAdditions</span><br><span class="line">ubuntu@ubuntu1604:~$ <span class="built_in">exit</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å¯è™šæ‹Ÿæœº</span></span><br><span class="line">$ vagrant reload</span><br></pre></td></tr></table></figure>

<p>å‚ç…§ï¼š<a href="https://www.vagrantup.com/docs/virtualbox/boxes.html">https://www.vagrantup.com/docs/virtualbox/boxes.html</a></p>
<p><strong>è‡ªåŠ¨æ£€æŸ¥åŒæ­¥æ–°ç‰ˆæœ¬</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ vagrant plugin install vagrant-vbguest</span><br><span class="line"><span class="comment"># æŒ‡å®šä¸€ä¸ªç‰ˆæœ¬å®‰è£…</span></span><br><span class="line">$ vagrant plugin install vagrant-vbguest --plugin-version 0.21</span><br></pre></td></tr></table></figure>

<p>ä¹‹åï¼Œæ¯æ¬¡ <code>vagrant up</code> è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå‘ç°è™šæ‹Ÿæœºçš„ VBoxGuestAdditions ä¸å®¿ä¸»æœºä¸ä¸€è‡´ï¼Œåˆ™è¿›è¡Œæ›´æ–°ã€‚</p>
<h3 id="6-å¸¸è§é—®é¢˜å¤„ç†"><a href="#6-å¸¸è§é—®é¢˜å¤„ç†" class="headerlink" title="6. å¸¸è§é—®é¢˜å¤„ç†"></a>6. å¸¸è§é—®é¢˜å¤„ç†</h3><h4 id="6-1-mount-unknown-filesystem-type-39-vboxsf-39"><a href="#6-1-mount-unknown-filesystem-type-39-vboxsf-39" class="headerlink" title="6.1. mount: unknown filesystem type &#39;vboxsf&#39;"></a>6.1. <code>mount: unknown filesystem type &#39;vboxsf&#39;</code></h4><ul>
<li><p>å…³é—­è™šæ‹Ÿæœº <code>$ vagrant halt</code></p>
</li>
<li><p>ä½¿ç”¨ VirtualBox å¯åŠ¨è™šæ‹Ÿæœº</p>
</li>
<li><p>æ·»åŠ è™šæ‹Ÿæœºå¢å¼ºå·¥å…·ï¼šä¾æ¬¡å•å‡»èœå•ã€è®¾å¤‡ã€‘â†’ã€å®‰è£…å¢å¼ºåŠŸèƒ½ã€‘</p>
</li>
<li><p>åœ¨ VirtualBox ä¸­ç™»å½•è™šæ‹Ÿæœºï¼Œå¹¶æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æŒ‚è½½ã€å®‰è£…</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo mount /dev/cdrom /media/cdrom</span><br><span class="line">$ <span class="built_in">cd</span> /media/cdrom/</span><br><span class="line">$ sudo ./VBoxLinuxAddtions.run</span><br></pre></td></tr></table></figure></li>
<li><p>å®‰è£…æˆåŠŸåï¼Œé‡æ–°å¯åŠ¨ <code>$ vagrant up</code></p>
</li>
</ul>
<h4 id="6-2-vagrant-192-168-127-11-Permission-denied-publickey-gssapi-keyex-gssapi-with-mic"><a href="#6-2-vagrant-192-168-127-11-Permission-denied-publickey-gssapi-keyex-gssapi-with-mic" class="headerlink" title="6.2. vagrant@192.168.127.11: Permission denied (publickey,gssapi-keyex,gssapi-with-mic)."></a>6.2. <code>vagrant@192.168.127.11: Permission denied (publickey,gssapi-keyex,gssapi-with-mic).</code></h4><p>SSHé»˜è®¤ç¦ç”¨å¯†ç è¿æ¥ï¼Œåªå…è®¸ä½¿ç”¨å¯†é’¥ç™»å½•ï¼Œéœ€ä¿®æ”¹æ–‡ä»¶ <code>/etc/ssh/sshd_config</code> ä¸­å¦‚ä¸‹éƒ¨åˆ†ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PasswordAuthentication yes</span><br></pre></td></tr></table></figure>

<h4 id="6-3-sbin-mount-vboxsf-mounting-failed-with-the-error-No-such-device"><a href="#6-3-sbin-mount-vboxsf-mounting-failed-with-the-error-No-such-device" class="headerlink" title="6.3. /sbin/mount.vboxsf: mounting failed with the error: No such device"></a>6.3. <code>/sbin/mount.vboxsf: mounting failed with the error: No such device</code></h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yum clean all</span><br><span class="line">yum update</span><br><span class="line">yum install -y kernel kernel-devel kernel-headers gcc make</span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd /opt/VBoxGuestAdditions-*/init</span><br><span class="line">./vboxadd setup</span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vagrant reload</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Vagrant</tag>
      </tags>
  </entry>
  <entry>
    <title>ThinkPHP æ¡†æ¶æ‰§è¡Œæµç¨‹æµ…æ</title>
    <url>/post/2410148889.html</url>
    <content><![CDATA[<blockquote>
<p>ç‰ˆæœ¬ï¼šv5.1.x LTS</p>
<p>v6.0 ç¨³å®šç‰ˆå·²ç»å‘å¸ƒï¼Œè¯¦è§å®˜ç½‘ï¼š<a href="https://blog.thinkphp.cn/1347379" title="ThinkPHP 6.0">ThinkPHP 6.0</a></p>
</blockquote>
<p>è¿™é‡Œä»¥å•å…¥å£ä¸ºä¾‹è§£æ ThinkPHP ä»æ¥æ”¶å‰ç«¯è¯·æ±‚åˆ°è¿”å›æ•°æ®çš„æ•´ä¸ªæ‰§è¡Œæµç¨‹ï¼Œåˆ†ä¸ºå¦‚ä¸‹å›¾çš„å‡ ä¸ªæ­¥éª¤ï¼š</p>
<p><img data-src="https://static.sqiang.net/image/post/ThinkPHP5.1+%E6%A1%86%E6%9E%B6%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B.png" alt="ThinkPHP æ¡†æ¶æ‰§è¡Œæµç¨‹æµ…æ" title="ThinkPHP æ¡†æ¶æ‰§è¡Œæµç¨‹æµ…æ"></p>
<p>å…¶ä¸­å…¥å£æ–‡ä»¶ä½ç½®ï¼š<strong>public/index.php</strong></p>
<span id="more"></span>

<h3 id="1-åŠ è½½-base-php"><a href="#1-åŠ è½½-base-php" class="headerlink" title="1. åŠ è½½ base.php"></a>1. åŠ è½½ base.php</h3><p><img data-src="https://static.sqiang.net/image/post/ThinkPHP5.1+%E6%A1%86%E6%9E%B6%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B1.png" alt="ThinkPHP5.1+æ¡†æ¶æ‰§è¡Œæµç¨‹1" title="ThinkPHP5.1+æ¡†æ¶æ‰§è¡Œæµç¨‹1"></p>
<h3 id="2-æ‰§è¡Œ-App-çš„-run-æ–¹æ³•"><a href="#2-æ‰§è¡Œ-App-çš„-run-æ–¹æ³•" class="headerlink" title="2. æ‰§è¡Œ App çš„ run() æ–¹æ³•"></a>2. æ‰§è¡Œ App çš„ run() æ–¹æ³•</h3><p><img data-src="https://static.sqiang.net/image/post/ThinkPHP5.1+%E6%A1%86%E6%9E%B6%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B2.png" alt="ThinkPHP5.1+æ¡†æ¶æ‰§è¡Œæµç¨‹2" title="ThinkPHP5.1+æ¡†æ¶æ‰§è¡Œæµç¨‹2"></p>
<h3 id="3-æ‰§è¡Œ-Response-çš„-send-æ–¹æ³•"><a href="#3-æ‰§è¡Œ-Response-çš„-send-æ–¹æ³•" class="headerlink" title="3. æ‰§è¡Œ Response çš„ send() æ–¹æ³•"></a>3. æ‰§è¡Œ Response çš„ send() æ–¹æ³•</h3><p><img data-src="https://static.sqiang.net/image/post/ThinkPHP5.1+%E6%A1%86%E6%9E%B6%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B3.png" alt="ThinkPHP5.1+æ¡†æ¶æ‰§è¡Œæµç¨‹3" title="ThinkPHP5.1+æ¡†æ¶æ‰§è¡Œæµç¨‹3"></p>
<h3 id="4-è°ƒç”¨-Error-ç±»"><a href="#4-è°ƒç”¨-Error-ç±»" class="headerlink" title="4. è°ƒç”¨ Error ç±»"></a>4. è°ƒç”¨ Error ç±»</h3><p><img data-src="https://static.sqiang.net/image/post/ThinkPHP5.1+%E6%A1%86%E6%9E%B6%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B4.png" alt="ThinkPHP5.1+æ¡†æ¶æ‰§è¡Œæµç¨‹4" title="ThinkPHP5.1+æ¡†æ¶æ‰§è¡Œæµç¨‹4"></p>
<blockquote>
<p>è¯´æ˜ï¼šåœ¨åŠ è½½ base.php æ—¶ï¼Œé€šè¿‡ <code>Error::register()</code> æ³¨å†Œäº†å¼‚å¸¸å¤„ç†ï¼Œæ‰€ä»¥åœ¨åº”ç”¨æ‰§è¡Œæœ€åä¼šè°ƒç”¨ Error ç±»ä¸­ç›¸åº”çš„å¤„ç†æ–¹æ³•ã€‚</p>
</blockquote>
<blockquote>
<p>è¯¦è§å¦‚ä¸‹ä¸‰ä¸ªå‡½æ•°çš„æ–‡æ¡£ï¼š</p>
<ul>
<li><a href="https://www.php.net/manual/zh/function.set-error-handler.php" title="set_error_handler()">set_error_handler()</a></li>
<li><a href="https://www.php.net/manual/zh/function.set-exception-handler.php" title="set_exception_handler()">set_exception_handler()</a></li>
<li><a href="https://www.php.net/manual/zh/function.register-shutdown-function.php" title="register_shutdown_function()">register_shutdown_function()</a></li>
</ul>
</blockquote>
]]></content>
      <categories>
        <category>PHP</category>
      </categories>
      <tags>
        <tag>PHP</tag>
        <tag>ThinkPHP</tag>
      </tags>
  </entry>
  <entry>
    <title>curl å‘½ä»¤é€ŸæŸ¥</title>
    <url>/post/2208464112.html</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡æ•´ç†è‡ª<a href="http://www.ruanyifeng.com/blog/2019/09/curl-reference.html" title="ã€Šcurl çš„ç”¨æ³•æŒ‡å—ã€‹">é˜®ä¸€å³° è€å¸ˆçš„ã€Šcurl çš„ç”¨æ³•æŒ‡å—ã€‹</a>ï¼Œæ€ç»´å¯¼å›¾ç‰ˆä¸‹è½½ï¼š</p>
<p>é“¾æ¥:<a href="https://pan.baidu.com/s/1JUu6axfBKwQF3YH_9GdBfA">https://pan.baidu.com/s/1JUu6axfBKwQF3YH_9GdBfA</a>  å¯†ç :cp21</p>
<p>æ–‡å­—ç‰ˆè¯·é˜…è¯»å…¨æ–‡ã€‚</p>
</blockquote>
<span id="more"></span>

<h3 id="é»˜è®¤ï¼Œæ— å‚æ•°ï¼ˆGET-è¯·æ±‚ï¼‰"><a href="#é»˜è®¤ï¼Œæ— å‚æ•°ï¼ˆGET-è¯·æ±‚ï¼‰" class="headerlink" title="é»˜è®¤ï¼Œæ— å‚æ•°ï¼ˆGET è¯·æ±‚ï¼‰"></a>é»˜è®¤ï¼Œæ— å‚æ•°ï¼ˆGET è¯·æ±‚ï¼‰</h3><h3 id="A"><a href="#A" class="headerlink" title="-A"></a>-A</h3><p>æŒ‡å®š User-Agentï¼Œé»˜è®¤ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²æ˜¯ curl/[version]</p>
<p>ç¤ºä¾‹</p>
<ul>
<li><p><code>curl -A &#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36&#39; https://google.com</code></p>
</li>
<li><p><code>curl -A &#39;&#39; https://google.com</code></p>
<ul>
<li>ç§»é™¤ User-Agent æ ‡å¤´</li>
</ul>
</li>
<li><p>curl -H â€˜User-Agent: php/1.0â€™ <a href="https://google.com/">https://google.com</a></p>
<ul>
<li>è¿™é‡Œæ˜¯ç”¨ -H å‚æ•°ç›´æ¥ä¿®æ”¹æ ‡å¤´</li>
</ul>
</li>
</ul>
<h3 id="b"><a href="#b" class="headerlink" title="-b"></a>-b</h3><p>å‘æœåŠ¡å™¨å‘é€ Cookie</p>
<p>ç¤ºä¾‹</p>
<ul>
<li><code>curl -b &#39;foo=bar&#39; https://google.com</code></li>
<li><code>curl -b &#39;foo1=bar&#39; -b &#39;foo2=baz&#39; https://google.com</code></li>
<li><code>curl -b cookies.txt https://www.google.com</code></li>
</ul>
<h3 id="c"><a href="#c" class="headerlink" title="-c"></a>-c</h3><p>å°†æœåŠ¡å™¨è®¾ç½®çš„ Cookie å†™å…¥ä¸€ä¸ªæ–‡ä»¶</p>
<p>ç¤ºä¾‹ <code>curl -c cookies.txt https://www.google.com</code></p>
<h3 id="d"><a href="#d" class="headerlink" title="-d"></a>-d</h3><p>å‘é€ POST è¯·æ±‚çš„æ•°æ®ä½“</p>
<p>ä½œç”¨</p>
<ul>
<li>HTTP è¯·æ±‚ä¼šè‡ªåŠ¨åŠ ä¸Šæ ‡å¤´Content-Type : application/x-www-form-urlencodedã€‚</li>
<li>è‡ªåŠ¨å°†è¯·æ±‚è½¬ä¸º POST æ–¹æ³•ï¼Œå› æ­¤å¯ä»¥çœç•¥ -X POSTã€‚</li>
</ul>
<p>ç¤ºä¾‹</p>
<ul>
<li><code>curl -d&#39;login=emmaï¼†password=123&#39;-X POST https://google.com/login</code></li>
<li><code>curl -d &#39;login=emma&#39; -d &#39;password=123&#39; -X POST  https://google.com/login</code></li>
<li><code>curl -d &#39;@data.txt&#39; https://google.com/login</code></li>
</ul>
<h3 id="â€“data-urlencode"><a href="#â€“data-urlencode" class="headerlink" title="â€“data-urlencode"></a>â€“data-urlencode</h3><p>å‘é€ POST è¯·æ±‚çš„æ•°æ®ä½“ï¼ŒåŒæ—¶è‡ªåŠ¨å°†å‘é€çš„æ•°æ®è¿›è¡Œ URL ç¼–ç ã€‚</p>
<p>ç¤ºä¾‹ <code>curl --data-urlencode &#39;comment=hello world&#39; https://google.com/login</code></p>
<h3 id="e"><a href="#e" class="headerlink" title="-e"></a>-e</h3><p>è®¾ç½® HTTP çš„æ ‡å¤´ Refererï¼Œè¡¨ç¤ºè¯·æ±‚çš„æ¥æºã€‚</p>
<p>ç¤ºä¾‹</p>
<ul>
<li><p><code>curl -e &#39;https://google.com?q=example&#39; https://www.example.com</code></p>
</li>
<li><p><code>curl -H &#39;Referer: https://google.com?q=example&#39; https://www.example.com</code></p>
<ul>
<li>è¿™é‡Œæ˜¯ç”¨ <strong>-H</strong> å‚æ•°ç›´æ¥ä¿®æ”¹æ ‡å¤´</li>
</ul>
</li>
</ul>
<h3 id="F"><a href="#F" class="headerlink" title="-F"></a>-F</h3><p>å‘æœåŠ¡å™¨ä¸Šä¼ äºŒè¿›åˆ¶æ–‡ä»¶</p>
<p>ä½œç”¨</p>
<ul>
<li>ç»™ HTTP è¯·æ±‚åŠ ä¸Šæ ‡å¤´Content-Type: multipart/form-data</li>
<li>å°†æ–‡ä»¶ä½œä¸º file å­—æ®µä¸Šä¼ </li>
</ul>
<p>ç¤ºä¾‹</p>
<ul>
<li><p><code>curl -F &#39;file=@photo.png&#39; https://google.com/profile</code></p>
</li>
<li><p>æŒ‡å®š MIME ç±»å‹</p>
<ul>
<li><code>curl -F &#39;file=@photo.png;type=image/png&#39; https://google.com/profile</code></li>
<li>ä¸æŒ‡å®šçš„è¯ï¼Œé»˜è®¤ä¸º <code>application/octet-stream</code></li>
</ul>
</li>
<li><p>æŒ‡å®šæ–‡ä»¶å</p>
<ul>
<li><code>curl -F &#39;file=@photo.png;filename=me.png&#39; https://google.com/profile</code></li>
</ul>
</li>
</ul>
<h3 id="G"><a href="#G" class="headerlink" title="-G"></a>-G</h3><p>æ„é€  URL çš„æŸ¥è¯¢å­—ç¬¦ä¸²</p>
<p>ç¤ºä¾‹</p>
<ul>
<li><p><code>curl -G -d &#39;q=kitties&#39; -d &#39;count=20&#39; https://google.com/search</code></p>
<ul>
<li>è¿™é‡Œä¼šå‘å‡ºä¸€ä¸ª GET è¯·æ±‚ï¼Œå®é™…è¯·æ±‚çš„ URL ä¸º <code>https://google.com/search?q=kitties&amp;count=20</code></li>
<li>å¦‚æœçœç•¥ <strong>-G</strong>ï¼Œä¼šå‘å‡ºä¸€ä¸ª <strong>POST</strong> è¯·æ±‚ã€‚</li>
</ul>
</li>
<li><p><code>curl -G --data-urlencode &#39;comment=hello world&#39; https://www.example.com</code></p>
<ul>
<li>å¯¹ URL è¿›è¡Œç¼–ç </li>
</ul>
</li>
</ul>
<h3 id="H"><a href="#H" class="headerlink" title="-H"></a>-H</h3><p>æ·»åŠ  HTTP è¯·æ±‚çš„æ ‡å¤´</p>
<p>ç¤ºä¾‹</p>
<ul>
<li><p><code>curl -H &#39;Accept-Language: en-US&#39; https://google.com</code></p>
</li>
<li><p><code>curl -H &#39;Accept-Language: en-US&#39; -H &#39;Secret-Message: xyzzy&#39; https://google.com</code></p>
</li>
<li><p><code>curl -d &#39;&#123;&quot;login&quot;: &quot;emma&quot;, &quot;pass&quot;: &quot;123&quot;&#125;&#39; -H &#39;Content-Type: application/json&#39; https://google.com/login</code></p>
<ul>
<li><strong>-H</strong> æŒ‡å®šæ ‡å¤´ <code>Content-Type: application/json</code></li>
<li><strong>-d</strong> å‘é€ <strong>JSON</strong> æ•°æ®</li>
</ul>
</li>
</ul>
<h3 id="i"><a href="#i" class="headerlink" title="-i"></a>-i</h3><p>æ‰“å°å‡ºæœåŠ¡å™¨å›åº”çš„ HTTP æ ‡å¤´åŠç½‘é¡µæºç </p>
<p>ç¤ºä¾‹ <code>curl -i https://www.example.com</code></p>
<h3 id="I"><a href="#I" class="headerlink" title="-I"></a>-I</h3><p>å‘æœåŠ¡å™¨å‘å‡º HEAD è¯·æ±‚ï¼Œç„¶ä¼šå°†æœåŠ¡å™¨è¿”å›çš„ HTTP æ ‡å¤´æ‰“å°å‡ºæ¥</p>
<p>ç¤ºä¾‹ <code>curl -I https://www.example.com</code>ï¼Œç­‰åŒäº â€“head å‚æ•°</p>
<h3 id="k"><a href="#k" class="headerlink" title="-k"></a>-k</h3><p>æŒ‡å®šè·³è¿‡ SSL è¯ä¹¦æ£€æµ‹</p>
<p>ç¤ºä¾‹ <code>curl -k https://www.example.com</code></p>
<h3 id="L"><a href="#L" class="headerlink" title="-L"></a>-L</h3><p>è®© HTTP è¯·æ±‚è·ŸéšæœåŠ¡å™¨çš„é‡å®šå‘ï¼ˆé»˜è®¤ä¸è·Ÿéšï¼‰</p>
<p>ç¤ºä¾‹ <code>curl -L -d &#39;tweet=hi&#39; https://api.twitter.com/tweet</code></p>
<h3 id="â€“limit-rate"><a href="#â€“limit-rate" class="headerlink" title="â€“limit-rate"></a>â€“limit-rate</h3><p>é™åˆ¶ HTTP è¯·æ±‚å’Œå›åº”çš„å¸¦å®½ï¼Œæ¨¡æ‹Ÿæ…¢ç½‘é€Ÿçš„ç¯å¢ƒ</p>
<p>ç¤ºä¾‹ <code>curl --limit-rate 200k https://google.com</code></p>
<h3 id="o"><a href="#o" class="headerlink" title="-o"></a>-o</h3><p>å°†æœåŠ¡å™¨çš„å›åº”ä¿å­˜æˆæ–‡ä»¶ï¼Œç­‰åŒäº wget å‘½ä»¤</p>
<p>ç¤ºä¾‹ <code>curl -o example.html https://www.example.com</code></p>
<h3 id="O"><a href="#O" class="headerlink" title="-O"></a>-O</h3><p>å°†æœåŠ¡å™¨å›åº”ä¿å­˜æˆæ–‡ä»¶ï¼Œå¹¶å°† URL çš„æœ€åéƒ¨åˆ†å½“ä½œæ–‡ä»¶å</p>
<p>ç¤ºä¾‹ <code>curl -O https://www.example.com/foo/bar.html</code></p>
<h3 id="s"><a href="#s" class="headerlink" title="-s"></a>-s</h3><p>ä¸è¾“å‡ºé”™è¯¯å’Œè¿›åº¦ä¿¡æ¯</p>
<p>ç¤ºä¾‹</p>
<ul>
<li><p><code>curl -s https://www.example.com</code></p>
</li>
<li><p>ä¸äº§ç”Ÿä»»ä½•è¾“å‡º</p>
<ul>
<li><code>curl -s -o /dev/null https://google.com</code></li>
</ul>
</li>
</ul>
<h3 id="S"><a href="#S" class="headerlink" title="-S"></a>-S</h3><p>æŒ‡å®šåªè¾“å‡ºé”™è¯¯ä¿¡æ¯ï¼Œé€šå¸¸ä¸ <strong>-o</strong> ä¸€èµ·ä½¿ç”¨</p>
<p>ç¤ºä¾‹ <code>curl -S -o /dev/null https://google.com</code></p>
<h3 id="u"><a href="#u" class="headerlink" title="-u"></a>-u</h3><p>è®¾ç½®æœåŠ¡å™¨è®¤è¯çš„ç”¨æˆ·åå’Œå¯†ç </p>
<p>ç¤ºä¾‹</p>
<ul>
<li><p><code>curl -u &#39;bob:12345&#39; https://google.com/login</code></p>
<ul>
<li>è®¾ç½®ç”¨æˆ·åä¸º bobï¼Œå¯†ç ä¸º 12345</li>
<li>å¹¶å°†å…¶è½¬ä¸º <strong>HTTP</strong> æ ‡å¤´ <code>Authorization: Basic Ym9iOjEyMzQ1</code></li>
</ul>
</li>
<li><p><code>curl https://bob:12345@google.com/login</code></p>
<ul>
<li>è¯†åˆ« URL ä¸­çš„ç”¨æˆ·åå’Œå¯†ç </li>
</ul>
</li>
<li><p><code>curl -u &#39;bob&#39; https://google.com/login</code></p>
<ul>
<li>åªè®¾ç½®äº†ç”¨æˆ·åï¼Œæ‰§è¡Œåï¼Œcurl ä¼šæç¤ºç”¨æˆ·è¾“å…¥å¯†ç </li>
</ul>
</li>
</ul>
<h3 id="v"><a href="#v" class="headerlink" title="-v"></a>-v</h3><p>è¾“å‡ºé€šä¿¡çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œç”¨äºè°ƒè¯•</p>
<p>ç¤ºä¾‹</p>
<ul>
<li><p><code>curl -v https://www.example.com</code></p>
</li>
<li><p><code>curl --trace - https://www.example.com</code></p>
<ul>
<li><strong>â€“trace</strong> å‚æ•°ä¹Ÿå¯ä»¥ç”¨äºè°ƒè¯•ï¼Œè¿˜ä¼šè¾“å‡ºåŸå§‹çš„äºŒè¿›åˆ¶æ•°æ®ã€‚</li>
</ul>
</li>
</ul>
<h3 id="x"><a href="#x" class="headerlink" title="-x"></a>-x</h3><p>æŒ‡å®š HTTP è¯·æ±‚çš„ä»£ç†</p>
<p>ç¤ºä¾‹</p>
<ul>
<li><p><code>curl -x socks5://james:cats@myproxy.com:8080 https://www.example.com</code></p>
<ul>
<li>æŒ‡å®š HTTP è¯·æ±‚é€šè¿‡ <code>myproxy.com:8080</code> çš„ socks5 ä»£ç†å‘å‡º</li>
</ul>
</li>
<li><p><code>curl -x james:cats@myproxy.com:8080 https://www.example.com</code></p>
<ul>
<li>æ²¡æœ‰æŒ‡å®šä»£ç†åè®®ï¼Œé»˜è®¤ä¸º <strong>HTTP</strong></li>
</ul>
</li>
</ul>
<h3 id="X"><a href="#X" class="headerlink" title="-X"></a>-X</h3><p>æŒ‡å®š HTTP è¯·æ±‚çš„æ–¹æ³•</p>
<p>ç¤ºä¾‹ <code>curl -X POST https://www.example.com</code></p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>curl</tag>
      </tags>
  </entry>
  <entry>
    <title>rsync çš„åŸºæœ¬ä½¿ç”¨å…¥é—¨</title>
    <url>/post/1236124429.html</url>
    <content><![CDATA[<p><strong>rsync</strong> æ˜¯ Unix / Linux ç³»ç»Ÿä¸‹ä¸€ä¸ªå¿«é€Ÿã€çµæ´»çš„çš„æ–‡ä»¶åŒæ­¥å’Œå¤åˆ¶å·¥å…·ï¼Œï¼Œæ”¯æŒæœ¬åœ°å¤åˆ¶å’Œè¿œç¨‹å¤åˆ¶ä¸åŒæ­¥ï¼ŒåŸºäºåè®®  <a href="https://rsync.samba.org/GPL.html">GNU General Public License</a> å¼€æº ã€‚rsync å·¥å…·å¹¿æ³›ç”¨äºå¤‡ä»½å’Œé•œåƒï¼Œä¸”ä½œä¸ºä¸€ç§æ”¹è¿›çš„å¤åˆ¶å‘½ä»¤ã€‚</p>
<p>å®˜ç½‘ï¼š<a href="https://rsync.samba.org/">https://rsync.samba.org</a></p>
<p>æœ€æ–°ç¨³å®šç‰ˆæœ¬ï¼š<a href="https://download.samba.org/pub/rsync/src/rsync-3.1.2-NEWS">v3.1.2</a> (æ›´æ–°äº 2015å¹´12æœˆ21æ—¥)</p>
<span id="more"></span>

<h3 id="1-æ¦‚è¿°"><a href="#1-æ¦‚è¿°" class="headerlink" title="1. æ¦‚è¿°"></a>1. æ¦‚è¿°</h3><p>ç‰¹æ€§ï¼š</p>
<ul>
<li>å¯ä»¥é•œåƒä¿å­˜æ•´ä¸ªç›®å½•æ ‘å’Œæ–‡ä»¶ç³»ç»Ÿã€‚</li>
<li>å¯ä»¥å¾ˆå®¹æ˜“åšåˆ°ä¿æŒåŸæ¥æ–‡ä»¶çš„æƒé™ã€æ—¶é—´ã€è½¯ç¡¬é“¾æ¥ç­‰ã€‚</li>
<li>æ— é¡»ç‰¹æ®Šæƒé™å³å¯è¿è¡Œã€‚</li>
<li>å¿«é€Ÿï¼š<ul>
<li>ç¬¬ä¸€æ¬¡åŒæ­¥æ—¶ rsync ä¼šå¤åˆ¶å…¨éƒ¨å†…å®¹ï¼Œä½†åœ¨ä¸‹ä¸€æ¬¡åªä¼ è¾“ä¿®æ”¹è¿‡çš„æ–‡ä»¶ã€‚</li>
<li>rsync åœ¨ä¼ è¾“æ•°æ®çš„è¿‡ç¨‹ä¸­å¯ä»¥å®è¡Œå‹ç¼©åŠè§£å‹ç¼©æ“ä½œï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨æ›´å°‘çš„å¸¦å®½ã€‚</li>
</ul>
</li>
<li>å®‰å…¨ï¼šå¯ä»¥ä½¿ç”¨ scpã€ssh ç­‰æ–¹å¼æ¥ä¼ è¾“æ–‡ä»¶ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡ç›´æ¥çš„ socket è¿æ¥ã€‚</li>
<li>æ”¯æŒåŒ¿åä¼ è¾“ï¼Œä»¥æ–¹ä¾¿è¿›è¡Œç½‘ç«™é•œè±¡ã€‚</li>
</ul>
<h3 id="2-å®‰è£…é…ç½®"><a href="#2-å®‰è£…é…ç½®" class="headerlink" title="2. å®‰è£…é…ç½®"></a>2. å®‰è£…é…ç½®</h3><blockquote>
<p>åœ¨ç±» Unix ç¯å¢ƒä¸‹ï¼Œrsync éƒ½æ˜¯é»˜è®¤å®‰è£…çš„ã€‚</p>
</blockquote>
<p>æ£€æŸ¥æ˜¯å¦å®‰è£…</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ rsync --version</span><br><span class="line">rsync  version 3.0.9  protocol version 30</span><br><span class="line">Copyright (C) 1996-2011 by Andrew Tridgell, Wayne Davison, and others.</span><br><span class="line">Web site: http://rsync.samba.org/</span><br><span class="line">Capabilities:</span><br><span class="line">    64-bit files, 64-bit inums, 64-bit timestamps, 64-bit long ints,</span><br><span class="line">    socketpairs, hardlinks, symlinks, IPv6, batchfiles, inplace,</span><br><span class="line">    append, ACLs, xattrs, iconv, symtimes</span><br><span class="line"></span><br><span class="line">rsync comes with ABSOLUTELY NO WARRANTY.  This is free software, and you</span><br><span class="line">are welcome to redistribute it under certain conditions.  See the GNU</span><br><span class="line">General Public Licence <span class="keyword">for</span> details.</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæç¤ºæœªæ‰¾åˆ°å‘½ä»¤ï¼Œåˆ™é€šè¿‡å¦‚ä¸‹å‘½ä»¤è¿›ä¸€æ­¥æ£€æŸ¥</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># CentOS</span></span><br><span class="line">$ rpm -qa | grep rsync</span><br><span class="line">rsync-3.0.9-17.el7.x86_64</span><br><span class="line"></span><br><span class="line"><span class="comment"># Ubuntu</span></span><br><span class="line">$ dpkg -l | grep rsync</span><br></pre></td></tr></table></figure>

<p>å®‰è£…</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># CentOS</span></span><br><span class="line">$ yum install rsync</span><br><span class="line"></span><br><span class="line"><span class="comment"># Ubuntu</span></span><br><span class="line">$ sudo apt-get install rsync</span><br></pre></td></tr></table></figure>

<h3 id="3-å®¢æˆ·ç«¯ä½¿ç”¨"><a href="#3-å®¢æˆ·ç«¯ä½¿ç”¨" class="headerlink" title="3. å®¢æˆ·ç«¯ä½¿ç”¨"></a>3. å®¢æˆ·ç«¯ä½¿ç”¨</h3><h4 id="3-1-åŸºæœ¬æ ¼å¼"><a href="#3-1-åŸºæœ¬æ ¼å¼" class="headerlink" title="3.1. åŸºæœ¬æ ¼å¼"></a>3.1. åŸºæœ¬æ ¼å¼</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ rsync [options] <span class="built_in">source</span> destination</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å…¶ä¸­ source / destination å¯ä»¥æ˜¯<strong>æœ¬åœ°</strong>ï¼Œä¹Ÿå¯ä»¥æ˜¯<strong>è¿œç¨‹</strong>ï¼Œæ–‡ä»¶ä¼ è¾“æ–¹å‘ä¸ºä» source åˆ° destinationã€‚</p>
<ul>
<li><p>å¦‚æœæ˜¯è¿œç¨‹çš„è¯ï¼Œéœ€è¦è¿½åŠ å‚æ•°ç™»å½•ç”¨æˆ·åã€è¿œç¨‹æœåŠ¡å™¨åœ°å€ã€ä½ç½®ï¼Œæ ¼å¼å¦‚ï¼šusername@ip:path</p>
</li>
<li><p>å¦‚æœå…·ä½“åˆ°ç›®å½•ä¸‹çš„æ–‡ä»¶åï¼Œåˆ™å¯ä»¥åªåŒæ­¥å•ä¸ªæ–‡ä»¶ã€‚</p>
</li>
</ul>
</blockquote>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å°†æœ¬åœ°ç›®å½• project1 ä¸‹çš„æ–‡ä»¶åŒæ­¥åˆ°å¦ä¸€å°æœºå™¨ä¸Šå¯¹åº”çš„ç›®å½•</span></span><br><span class="line">$ rsync -avz ~/www/project1/ dev@192.168.1.149:/Home/dev/www/project1</span><br></pre></td></tr></table></figure>
<p>é€‰é¡¹ï¼š</p>
<ul>
<li><code>-a</code> ä¿ç•™ç¬¦å·é“¾æ¥ã€æƒé™ä¿¡æ¯ã€æ—¶é—´æˆ³ï¼Œä»¥åŠ owner &amp; group ä¿¡æ¯ã€‚</li>
<li><code>-v</code> æ˜¾ç¤ºæ›´å¤šæ‰“å°ä¿¡æ¯ã€‚</li>
<li><code>-z</code> æ‰“å¼€å‹ç¼©åŠŸèƒ½ã€‚</li>
</ul>
<h4 id="3-2-å…¶å®ƒå¸¸ç”¨é€‰é¡¹"><a href="#3-2-å…¶å®ƒå¸¸ç”¨é€‰é¡¹" class="headerlink" title="3.2. å…¶å®ƒå¸¸ç”¨é€‰é¡¹"></a>3.2. å…¶å®ƒå¸¸ç”¨é€‰é¡¹</h4><ul>
<li><p><code>-P</code> æˆ– <code>--progress</code></p>
<blockquote>
<p>æŸ¥çœ‹ä¼ è¾“è¿›åº¦ã€‚</p>
</blockquote>
</li>
<li><p><code>-i</code></p>
<blockquote>
<p>æŸ¥çœ‹ source / destination ä¹‹é—´çš„å·®å¼‚ã€‚</p>
</blockquote>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ rsync -avzi thegeekstuff@192.168.200.10:/var/lib/rpm/ /root/temp/</span><br><span class="line">Password:</span><br><span class="line">receiving file list ... <span class="keyword">done</span></span><br><span class="line">&gt;f.st.... Basenames</span><br><span class="line">.f....og. Dirnames</span><br><span class="line"></span><br><span class="line">sent 48 bytes  received 2182544 bytes  291012.27 bytes/sec</span><br><span class="line">total size is 45305958  speedup is 20.76</span><br></pre></td></tr></table></figure>

<p>  è¯´æ˜ï¼š</p>
<ul>
<li>f æ ‡è¯†æ˜¯ä¸€ä¸ªæ–‡ä»¶</li>
<li>s æ ‡è¯†æ–‡ä»¶å¤§å°å‘ç”Ÿäº†å˜åŒ–</li>
<li>t æ ‡è¯†æ—¶é—´æˆ³å‘ç”Ÿäº†å˜åŒ–</li>
<li>o æ ‡è¯†æ–‡ä»¶å±ä¸» owner å‘äº†å˜åŒ–</li>
<li>g æ ‡è¯†æ–‡ä»¶å±ç»„ group å‘äº†å˜åŒ–</li>
</ul>
</li>
</ul>
<ul>
<li><p><code>-d</code></p>
<blockquote>
<p>åªåŒæ­¥ç›®å½•æ ‘ç»“æ„ï¼Œä¸åŒæ­¥æ–‡ä»¶ã€‚</p>
</blockquote>
</li>
<li><p><code>--delete</code></p>
<blockquote>
<p>å­˜åœ¨äºç›®æ ‡ä½ç½®çš„æ–‡ä»¶ï¼Œå¦‚æœæºä½ç½®ä¸å­˜åœ¨åˆ™åˆ é™¤ã€‚</p>
</blockquote>
</li>
<li><p><code>--existing</code></p>
<blockquote>
<p>åªåŒæ­¥åœ¨ç›®æ ‡ä½ç½®å·²ç»å­˜åœ¨çš„æ–‡ä»¶ï¼Œæºä½ç½®å¦‚æœæœ‰æ–°å¢çš„æ–‡ä»¶ï¼Œåœ¨ç›®æ ‡ä½ç½®ä¸åˆ›å»ºã€‚</p>
</blockquote>
</li>
<li><p><code>-e &#39;ssh -p 10010&#39;</code></p>
<blockquote>
<p>æŒ‡å®šè¿œç¨‹ shell æ¥ä¿è¯å®‰å…¨è¿æ¥ã€‚</p>
</blockquote>
</li>
</ul>
<ul>
<li><p><code>-u</code></p>
<blockquote>
<p>ä¸è¦†ç›–åœ¨ç›®æ ‡ä½ç½®è¢«ä¿®æ”¹è¿‡çš„æ–‡ä»¶ã€‚</p>
</blockquote>
</li>
<li><p><code>--include &#39;*.html&#39; --exclude &#39;*.conf&#39;</code></p>
<blockquote>
<p>åŒ…å«æ–‡ä»¶ï¼ŒåŒ…å«å¤šæ¡ä½¿ç”¨ <code>--include-from=include.list</code></p>
<p>æ’é™¤æ–‡ä»¶ï¼Œæ’é™¤å¤šæ¡ä½¿ç”¨ <code>--exclude-from=exclude.list</code></p>
<p>åœ¨æ–‡ä»¶ exclude.list æˆ– include.list ä¸­ï¼Œæ¯è¡ŒæŒ‡å®šä¸€ä¸ªè¦åŒ…å«æˆ–æ’é™¤çš„æ–‡ä»¶ã€ç›®å½•ï¼Œä½¿ç”¨ <strong>/</strong> æ ‡è¯†æºè·¯å¾„ã€‚</p>
</blockquote>
<p>  æ¯”å¦‚ä¸‹é¢çš„ exclude.list æ–‡ä»¶å†…å®¹ï¼š</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/index.php</span><br><span class="line">/Application/Common/Conf/</span><br><span class="line">/Application/Runtime/</span><br><span class="line">/Uploads</span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li><p><code>--max-size=&#39;100K&#39;</code></p>
<blockquote>
<p>é™åˆ¶ä¼ è¾“çš„æ–‡ä»¶å¤§å°ï¼Œå¯ç”¨å•ä½ K / M / G ç­‰ã€‚</p>
</blockquote>
</li>
<li><p><code>-W</code></p>
<blockquote>
<p>ä¼ è¾“æ•´ä¸ªæºä½ç½®ï¼ˆsourceï¼‰çš„æ–‡ä»¶</p>
</blockquote>
<p>  è¯¥é€‰é¡¹ä¸å†å¯¹ <strong>source</strong> å’Œ <strong>destination</strong> åšå·®å¼‚æ¯”è¾ƒï¼Œç›´æ¥ä¼ è¾“æ•´ä¸ªæ–‡ä»¶ï¼Œå°†å¤§å¤§æé«˜ rsync çš„å¤„ç†é€Ÿåº¦ã€‚</p>
<p>  æ³¨æ„ï¼š</p>
<blockquote>
<p>æ­¤é€‰é¡¹é€‚åˆç½‘ç»œå¸¦å®½ä¸æ˜¯é—®é¢˜çš„åœºæ™¯ï¼Œå¦‚æœä½ çš„ç½‘ç»œå¸¦å®½ä¸ç†æƒ³ï¼Œå°¤å…¶æ˜¯æœ‰ä¸¢åŒ…ç°è±¡çš„ï¼Œè¿˜æ˜¯æ¨èé»˜è®¤çš„å¢é‡æ›´æ–°æ–¹å¼ï¼Œé¿å…ä½¿ç”¨æ­¤é€‰é¡¹ã€‚</p>
</blockquote>
</li>
</ul>
<h4 id="3-3-åŒæ­¥è¿œç¨‹æœåŠ¡å™¨æ—¶å…ç™»å½•å¯†ç "><a href="#3-3-åŒæ­¥è¿œç¨‹æœåŠ¡å™¨æ—¶å…ç™»å½•å¯†ç " class="headerlink" title="3.3. åŒæ­¥è¿œç¨‹æœåŠ¡å™¨æ—¶å…ç™»å½•å¯†ç "></a>3.3. åŒæ­¥è¿œç¨‹æœåŠ¡å™¨æ—¶å…ç™»å½•å¯†ç </h4><p>ç”Ÿæˆæœ¬æœºå…¬é’¥</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen</span><br><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase):</span><br><span class="line">Enter same passphrase again:</span><br></pre></td></tr></table></figure>

<p>å°†å…¬é’¥æ‹·è´åˆ°è¿œç¨‹æœåŠ¡å™¨</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-copy-id -i ~/.ssh/id_rsa.pub -p 10010 <span class="built_in">test</span>@192.168.1.149</span><br><span class="line">/usr/bin/ssh-copy-id: INFO: attempting to <span class="built_in">log</span> <span class="keyword">in</span> with the new key(s), to filter out any that are already installed</span><br><span class="line">/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- <span class="keyword">if</span> you are prompted now it is to install the new keys</span><br><span class="line"><span class="built_in">test</span>@192.168.1.149<span class="string">&#x27;s password:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Number of key(s) added: 1</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Now try logging into the machine, with:   &quot;ssh -p &#x27;</span>10010<span class="string">&#x27; &#x27;</span><span class="built_in">test</span>@192.168.1.149<span class="string">&#x27;&quot;</span></span><br><span class="line"><span class="string">and check to make sure that only the key(s) you wanted were added.</span></span><br></pre></td></tr></table></figure>

<p>æ£€æŸ¥è¿œç¨‹æœåŠ¡å™¨æ˜¯å¦æ·»åŠ </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ cat ~/.ssh/authorized_keys</span><br><span class="line">ssh-rsa AAAAB3xxxxxxxxxxxxxxxxx0xuysQjs6bcmGvIsGJZS8J/gouy9AjjfaQqsYLBdHo5bXGTMN3fQ1TntSluB4lfINtzCYf4+VP55WLEzMNTeJnHtVBQen6yNYckcxxxxxxxxxxxxxxxxxG+IAxVS/ugI9kfiOrltxZKn5VUE4hRqwqLIeu9CMhFrPNtTNCLQuqI8FQRz+MixZjFPdsY0OrzxxxxxxxxxxxxxxxxxQeIK/BPOxwolg5xNO29sEw8p5T7al6VxxxxxxxxxxxxxxxxxuLZ8jkv/uMqmyXxxxxxxxxxxxxxxxxxwfMJT4UfdOzr root@localhost.localdomain</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ç§˜é’¥ä¿¡æ¯å°±æ˜¯æˆ‘æœ¬æœºå¯¹åº”çš„å…¬é’¥ï¼Œå†æ¬¡æ‰§è¡Œ rsync å‘½ä»¤å°±ä¸éœ€è¦è¾“å…¥ç™»å½•å¯†ç äº†ã€‚</p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>rsync</tag>
      </tags>
  </entry>
  <entry>
    <title>vim åŸºç¡€ç‰ˆé…ç½®</title>
    <url>/post/2674273786.html</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡åªä»‹ç»ä¸€äº›æœ€å¸¸ç”¨çš„åŸºç¡€é…ç½®ï¼Œä»¥æ”¹è¿› <strong>vim</strong> çš„åˆå§‹çŠ¶æ€ã€‚</p>
<p>æ›´å¤šé«˜çº§é…ç½®ï¼Œå¯ä»¥è‡ªè¡Œæœç´¢ã€å®Œå–„ã€‚</p>
</blockquote>
<span id="more"></span>

<p>æ‹·è´ä»¥ä¸‹å†…å®¹åˆ° <code>~/.vimrc</code> æ–‡ä»¶ä¸­ï¼Œæ²¡æœ‰æ­¤æ–‡ä»¶è¯·è‡ªè¡Œåˆ›å»ºã€‚</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line"><span class="comment">&quot; Author: whoru.S.Q &lt;whoru@sqiang.net&gt;</span></span><br><span class="line"><span class="comment">&quot; Link: https://github.com/whorusq/linux-learning/blob/master/vim/.vimrc</span></span><br><span class="line"><span class="comment">&quot; Version: 0.2</span></span><br><span class="line"><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span>åŸºæœ¬è®¾ç½®<span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; å»æ‰viä¸€è‡´æ€§æ¨¡å¼ï¼Œé¿å…ä»¥å‰ç‰ˆæœ¬çš„ä¸€äº›bugå’Œå±€é™</span></span><br><span class="line"><span class="keyword">set</span> nocompatible</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; æ˜¾ç¤ºè¡Œå·</span></span><br><span class="line"><span class="keyword">set</span> <span class="keyword">nu</span></span><br><span class="line"><span class="keyword">highlight</span> LineNr cterm=bold ctermfg=darkgray</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; è¯­æ³•é«˜äº®</span></span><br><span class="line"><span class="keyword">syntax</span> <span class="keyword">on</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; æ˜¾ç¤ºå…‰æ ‡æ‰€åœ¨è¡Œå·ã€åˆ—å·</span></span><br><span class="line"><span class="comment">&quot;set ruler</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ç²˜è´´å¸¦æ ¼å¼</span></span><br><span class="line"><span class="keyword">set</span> paste</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; é«˜äº®å½“å‰è¡Œ</span></span><br><span class="line"><span class="keyword">set</span> cursorline</span><br><span class="line"><span class="comment">&quot;hi CursorLine cterm=NONE ctermbg=darkred ctermfg=white</span></span><br><span class="line"><span class="comment">&quot;hi CursorLine cterm=NONE ctermbg=230 ctermfg=NONE</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; é«˜äº®å½“å‰åˆ—</span></span><br><span class="line"><span class="comment">&quot;set cursorcolumn</span></span><br><span class="line"><span class="comment">&quot;hi CursorColumn cterm=NONE ctermbg=darkred ctermfg=white</span></span><br><span class="line"><span class="comment">&quot;hi CursorColumn cterm=NONE ctermbg=237 ctermfg=NONE</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; history æ–‡ä»¶ä¸­éœ€è¦è®°å½•çš„è¡Œæ•°</span></span><br><span class="line"><span class="keyword">set</span> <span class="keyword">history</span>=<span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; å»æ‰è¾“å…¥é”™è¯¯çš„æç¤ºå£°éŸ³</span></span><br><span class="line"><span class="comment">&quot;set noeb</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; åœ¨å¤„ç†æœªä¿å­˜æˆ–åªè¯»æ–‡ä»¶çš„æ—¶å€™ï¼Œå¼¹å‡ºç¡®è®¤</span></span><br><span class="line"><span class="keyword">set</span> <span class="keyword">confirm</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; å¸¦æœ‰å¦‚ä¸‹ç¬¦å·çš„å•è¯ä¸è¦è¢«æ¢è¡Œåˆ†å‰²</span></span><br><span class="line"><span class="keyword">set</span> iskeyword+=_,$,@,%,#,-</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; æ˜¾ç¤º Tab é”®ã€è¡Œå°¾ç¬¦</span></span><br><span class="line"><span class="keyword">set</span> <span class="keyword">list</span> <span class="keyword">lcs</span>=<span class="keyword">ta</span><span class="variable">b:</span>&gt;-,trai<span class="variable">l:</span>-</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ä¸è¦æ¢è¡Œ</span></span><br><span class="line"><span class="comment">&quot;set nowrap</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ç¦æ­¢ç”Ÿæˆä¸´æ—¶æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">set</span> nobackup</span><br><span class="line"><span class="keyword">set</span> noswapfile</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; è®¾ç½®å½“æ–‡ä»¶è¢«æ”¹åŠ¨æ—¶è‡ªåŠ¨è½½å…¥</span></span><br><span class="line"><span class="keyword">set</span> autoread</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span>æœç´¢å’ŒåŒ¹é…è®¾ç½®<span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; æœç´¢é«˜äº®</span></span><br><span class="line"><span class="keyword">set</span> hlsearch</span><br><span class="line"><span class="keyword">hi</span> Search cterm=NONE ctermfg=darkred ctermbg=yellow cterm=<span class="built_in">reverse</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; æœç´¢æ—¶å¿½ç•¥å¤§å°å†™</span></span><br><span class="line"><span class="keyword">set</span> ignorecase</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; åœ¨æŸ¥æ‰¾æ—¶è¾“å…¥å­—ç¬¦è¿‡ç¨‹ä¸­å°±é«˜äº®æ˜¾ç¤ºåŒ¹é…ç‚¹ï¼Œç„¶åå›è½¦è·³åˆ°è¯¥åŒ¹é…ç‚¹ã€‚</span></span><br><span class="line"><span class="keyword">set</span> incsearch</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; è®¾ç½®æŸ¥æ‰¾åˆ°æ–‡ä»¶å°¾éƒ¨åæŠ˜è¿”å¼€å¤´æˆ–æŸ¥æ‰¾åˆ°å¼€å¤´åæŠ˜è¿”å°¾éƒ¨ã€‚</span></span><br><span class="line"><span class="keyword">set</span> wrapscan</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ä¸è¦é«˜äº®è¢«æœç´¢çš„å¥å­ï¼ˆphrasesï¼‰</span></span><br><span class="line"><span class="comment">&quot;set nohlsearch</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; åŒ¹é…æ‹¬å·é«˜äº®çš„æ—¶é—´ï¼ˆå•ä½æ˜¯ååˆ†ä¹‹ä¸€ç§’ï¼‰</span></span><br><span class="line"><span class="keyword">set</span> matchtime=<span class="number">5</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span>æ–‡æœ¬æ“ä½œè®¾ç½®<span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ç»Ÿä¸€ç¼©è¿›ä¸º 4 åˆ¶è¡¨ç¬¦</span></span><br><span class="line"><span class="keyword">set</span> tabstop=<span class="number">4</span></span><br><span class="line"><span class="keyword">set</span> softtabstop=<span class="number">4</span></span><br><span class="line"><span class="keyword">set</span> <span class="built_in">shiftwidth</span>=<span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; æ™ºèƒ½å¯¹é½</span></span><br><span class="line"><span class="keyword">set</span> smartindent</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ç”¨ç©ºæ ¼ä»£æ›¿åˆ¶è¡¨ç¬¦</span></span><br><span class="line"><span class="keyword">set</span> expandtab</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ç»§æ‰¿å‰ä¸€è¡Œçš„ç¼©è¿›æ–¹å¼ï¼Œç‰¹åˆ«é€‚ç”¨äºå¤šè¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="keyword">set</span> autoindent</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ä½¿ç”¨ C æ ·å¼çš„ç¼©è¿›</span></span><br><span class="line"><span class="comment">&quot;set cindent</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; æ–‡ä»¶ç¼–ç </span></span><br><span class="line"><span class="keyword">set</span> fileencodings=utf-<span class="number">8</span>,gb2312,usc-bom,cp936,euc-<span class="keyword">cn</span></span><br><span class="line"><span class="keyword">set</span> termencoding=utf-<span class="number">8</span></span><br><span class="line"><span class="keyword">set</span> encoding=utf-<span class="number">8</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span>åº•éƒ¨çŠ¶æ€æ¡è®¾ç½®<span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> laststatus=<span class="number">2</span>                                          <span class="comment">&quot; é•¿ä¹…æ˜¾ç¤º1</span></span><br><span class="line"><span class="keyword">set</span> statusline=</span><br><span class="line"><span class="keyword">set</span> statusline+=%<span class="number">7</span>*\[%n]                                  <span class="comment">&quot; buffernr</span></span><br><span class="line"><span class="keyword">set</span> statusline+=%<span class="number">1</span>*\ %&lt;%F\                                <span class="comment">&quot; æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="keyword">set</span> statusline+=%<span class="number">2</span>*\ %<span class="keyword">y</span>\                                  <span class="comment">&quot; æ–‡ä»¶ç±»å‹</span></span><br><span class="line"><span class="keyword">set</span> statusline+=%<span class="number">3</span>*\ %&#123;<span class="string">&#x27;&#x27;</span>.(&amp;fenc!=<span class="string">&#x27;&#x27;</span>?&amp;fenc:&amp;enc).<span class="string">&#x27;&#x27;</span>&#125;      <span class="comment">&quot; ç¼–ç 1</span></span><br><span class="line"><span class="keyword">set</span> statusline+=%<span class="number">3</span>*\ %&#123;(&amp;bomb?\<span class="string">&quot;,BOM\&quot;:\&quot;\&quot;)&#125;\            &quot;</span> ç¼–ç <span class="number">2</span></span><br><span class="line"><span class="keyword">set</span> statusline+=%<span class="number">4</span>*\ %&#123;&amp;ff&#125;\                              <span class="comment">&quot; æ–‡ä»¶ç³»ç»Ÿ(dos/unix..)</span></span><br><span class="line"><span class="keyword">set</span> statusline+=%<span class="number">5</span>*\ %&#123;&amp;spelllang&#125;\%&#123;HighlightSearch()&#125;\  <span class="comment">&quot; è¯­è¨€ &amp; æ˜¯å¦é«˜äº®ï¼ŒHè¡¨ç¤ºé«˜äº®?</span></span><br><span class="line"><span class="keyword">set</span> statusline+=%<span class="number">8</span>*\ %=\ ro<span class="variable">w:</span>%<span class="keyword">l</span>/%L\ (%<span class="number">03</span><span class="keyword">p</span>%%)\             <span class="comment">&quot; å…‰æ ‡æ‰€åœ¨è¡Œå·/æ€»è¡Œæ•° (ç™¾åˆ†æ¯”)</span></span><br><span class="line"><span class="keyword">set</span> statusline+=%<span class="number">9</span>*\ <span class="keyword">co</span><span class="variable">l:</span>%<span class="number">03</span><span class="keyword">c</span>\                            <span class="comment">&quot; å…‰æ ‡æ‰€åœ¨åˆ—</span></span><br><span class="line"><span class="keyword">set</span> statusline+=%<span class="number">0</span>*\ \ %<span class="keyword">m</span>%r%<span class="keyword">w</span>\ %<span class="keyword">P</span>\ \                      <span class="comment">&quot; Modified? Read only? Top/bottom</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>! <span class="title">HighlightSearch</span><span class="params">()</span></span></span><br><span class="line">    <span class="keyword">if</span> &amp;hls</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;H&#x27;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">endif</span></span><br><span class="line"><span class="keyword">endfunction</span></span><br><span class="line"><span class="keyword">hi</span> User1 ctermfg=white  ctermbg=darkred</span><br><span class="line"><span class="keyword">hi</span> User2 ctermfg=blue  ctermbg=<span class="number">58</span></span><br><span class="line"><span class="keyword">hi</span> User3 ctermfg=white  ctermbg=<span class="number">100</span></span><br><span class="line"><span class="keyword">hi</span> User4 ctermfg=darkred  ctermbg=<span class="number">95</span></span><br><span class="line"><span class="keyword">hi</span> User5 ctermfg=darkred  ctermbg=<span class="number">77</span></span><br><span class="line"><span class="keyword">hi</span> User7 ctermfg=darkred  ctermbg=<span class="number">138</span>  cterm=bold</span><br><span class="line"><span class="keyword">hi</span> User8 ctermfg=<span class="number">231</span>  ctermbg=darkgray</span><br><span class="line"><span class="comment">&quot;hi User9 ctermfg=#ffffff  ctermbg=#810085</span></span><br><span class="line"><span class="keyword">hi</span> User0 ctermfg=yellow  ctermbg=<span class="number">138</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span>å…¶å®ƒ<span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ç”¨ç©ºæ ¼é”®æ¥å¼€å…³æŠ˜å </span></span><br><span class="line"><span class="comment">&quot;set foldenable</span></span><br><span class="line"><span class="comment">&quot;set foldmethod=manual</span></span><br><span class="line"><span class="comment">&quot;nnoremap &lt;space&gt; @=((foldclosed(line(&#x27;.&#x27;)) &lt; 0) ? &#x27;zc&#x27;:&#x27;zo&#x27;)&lt;CR&gt;</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>vim</tag>
        <tag>.vimrc</tag>
      </tags>
  </entry>
  <entry>
    <title>tmux åŸºæœ¬é…ç½®åŠä½¿ç”¨</title>
    <url>/post/2551733328.html</url>
    <content><![CDATA[<p>Tmux å°±æ˜¯ä¼šè¯ä¸çª—å£çš„â€œè§£ç»‘â€å·¥å…·ï¼š</p>
<ol>
<li><p>å®ƒå…è®¸åœ¨å•ä¸ªçª—å£ä¸­ï¼ŒåŒæ—¶è®¿é—®å¤šä¸ªä¼šè¯ã€‚è¿™å¯¹äºåŒæ—¶è¿è¡Œå¤šä¸ªå‘½ä»¤è¡Œç¨‹åºå¾ˆæœ‰ç”¨ã€‚</p>
</li>
<li><p>å®ƒå¯ä»¥è®©æ–°çª—å£â€æ¥å…¥â€å·²ç»å­˜åœ¨çš„ä¼šè¯ã€‚</p>
</li>
<li><p>å®ƒå…è®¸æ¯ä¸ªä¼šè¯æœ‰å¤šä¸ªè¿æ¥çª—å£ï¼Œå› æ­¤å¯ä»¥å¤šäººå®æ—¶å…±äº«ä¼šè¯ã€‚</p>
</li>
<li><p>å®ƒè¿˜æ”¯æŒçª—å£ä»»æ„çš„å‚ç›´å’Œæ°´å¹³æ‹†åˆ†ã€‚</p>
</li>
</ol>
<p>ç±»ä¼¼çš„ç»ˆç«¯å¤ç”¨å™¨è¿˜æœ‰ <em>GNU Screen</em>ã€‚Tmux ä¸å®ƒåŠŸèƒ½ç›¸ä¼¼ï¼Œä½†æ˜¯æ›´æ˜“ç”¨ï¼Œä¹Ÿæ›´å¼ºå¤§ã€‚</p>
<p>æœ¬æ–‡åªä»‹ç»åŸºæœ¬é…ç½®å’Œä½¿ç”¨ï¼Œå…³äº tmux çš„æ›´å¤šå†…å®¹ï¼Œå¯å‚è€ƒï¼š</p>
<ul>
<li><a href="https://www.ruanyifeng.com/blog/2019/10/tmux.html">Tmux ä½¿ç”¨æ•™ç¨‹</a></li>
<li><a href="http://louiszhai.github.io/2017/09/30/tmux/">Tmuxä½¿ç”¨æ‰‹å†Œ</a></li>
</ul>
<span id="more"></span>

<h3 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h3><p>å°†ä»¥ä¸‹å†…å®¹æ‹·è´åˆ° <code>~/.tmux.conf</code> æ–‡ä»¶ä¸­ï¼Œæ²¡æœ‰æ­¤æ–‡ä»¶çš„è¯·è‡ªè¡Œåˆ›å»ºã€‚</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">############################################################</span><br><span class="line"># Author: whoru.S.Q &lt;whoru@sqiang.net&gt;</span><br><span class="line"># Link: http<span class="variable">s:</span>//github.<span class="keyword">com</span>/whorusq/linux-learning/blob/master/tmux/.tmux.<span class="keyword">conf</span></span><br><span class="line"># Version: <span class="number">0.2</span></span><br><span class="line">############################################################</span><br><span class="line"></span><br><span class="line"># ---------- åŸºæœ¬è®¾ç½® ----------</span><br><span class="line"><span class="keyword">set</span> -g default-terminal <span class="string">&quot;screen-256color&quot;</span></span><br><span class="line"><span class="keyword">set</span> -g <span class="keyword">display</span>-time <span class="number">3000</span></span><br><span class="line"><span class="keyword">set</span> -g <span class="built_in">escape</span>-time <span class="number">0</span></span><br><span class="line"><span class="keyword">set</span> -g <span class="keyword">history</span>-limit <span class="number">65535</span></span><br><span class="line"><span class="keyword">set</span> -g base-<span class="built_in">index</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">set</span> -g pane-base-<span class="built_in">index</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"># ---------- æŒ‰é”®ç»‘å®š ----------</span><br><span class="line"></span><br><span class="line"># æ›´æ”¹å‰ç¼€é”®æœª ctrl <span class="keyword">a</span></span><br><span class="line">unbind ^<span class="keyword">b</span></span><br><span class="line"><span class="keyword">set</span> -g prefix ^<span class="keyword">a</span></span><br><span class="line">bind <span class="keyword">a</span> send-prefix</span><br><span class="line"></span><br><span class="line"># é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ - prefix r</span><br><span class="line">bind r <span class="keyword">source</span> ~/.tmux.<span class="keyword">conf</span> \; <span class="keyword">display</span> <span class="string">&quot;==&gt; é…ç½®æ–‡ä»¶é‡æ–°åŠ è½½æˆåŠŸï¼&quot;</span></span><br><span class="line"></span><br><span class="line"># æ‹†åˆ†çª—æ ¼</span><br><span class="line">unbind <span class="string">&#x27;&quot;&#x27;</span></span><br><span class="line">bind - splitw -v # å‚ç›´æ‹†åˆ† - prefix -</span><br><span class="line">unbind %</span><br><span class="line">bind \\ splitw -h # æ°´å¹³æ‹†åˆ† - prefix \</span><br><span class="line"></span><br><span class="line"># æ–°çª—æ ¼é»˜è®¤ <span class="keyword">shell</span> ä½ç½®è®¾ç½®ä¸ºå½“å‰ç›®å½•</span><br><span class="line">bind <span class="string">&#x27;&quot;&#x27;</span> <span class="keyword">split</span>-window -<span class="keyword">c</span> <span class="string">&#x27;#&#123;pane_current_path&#125;&#x27;</span></span><br><span class="line">bind <span class="string">&#x27;%&#x27;</span> <span class="keyword">split</span>-window -h -<span class="keyword">c</span> <span class="string">&#x27;#&#123;pane_current_path&#125;&#x27;</span></span><br><span class="line"></span><br><span class="line"># çª—æ ¼åˆ‡æ¢ - prefix h/<span class="keyword">j</span>/<span class="keyword">k</span>/<span class="keyword">l</span></span><br><span class="line">bind h select-pane -L # å·¦è¾¹çª—æ ¼</span><br><span class="line">bind <span class="keyword">j</span> select-pane -D # ä¸Šè¾¹çª—æ ¼</span><br><span class="line">bind <span class="keyword">k</span> select-pane -U # ä¸‹è¾¹çª—æ ¼</span><br><span class="line">bind <span class="keyword">l</span> select-pane -R # å³è¾¹çª—æ ¼</span><br><span class="line"></span><br><span class="line"># è°ƒæ•´çª—æ ¼å¤§å° - prefix H/J/K/L</span><br><span class="line">bind L <span class="keyword">resize</span>-pane -L <span class="number">10</span>  # å‘å·¦æ‰©å±•</span><br><span class="line">bind R <span class="keyword">resize</span>-pane -R <span class="number">10</span>  # å‘å³æ‰©å±•</span><br><span class="line">bind K <span class="keyword">resize</span>-pane -U <span class="number">5</span>   # å‘ä¸Šæ‰©å±•</span><br><span class="line">bind J <span class="keyword">resize</span>-pane -D <span class="number">5</span>   # å‘ä¸‹æ‰©å±•</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ---------- æ˜¾ç¤º ----------</span><br><span class="line"></span><br><span class="line">setw -g automatic-<span class="built_in">rename</span> <span class="keyword">on</span> # <span class="built_in">rename</span> window <span class="keyword">to</span> reflect current program</span><br><span class="line"><span class="keyword">set</span> -g renumber-windows <span class="keyword">on</span>  # renumber windows when <span class="keyword">a</span> window <span class="keyword">is</span> closed</span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> -g <span class="keyword">set</span>-titles <span class="keyword">on</span>                        # <span class="keyword">set</span> terminal title</span><br><span class="line">#set -g <span class="keyword">set</span>-titles-<span class="built_in">string</span> <span class="string">&#x27;#h â #S â— #I #W&#x27;</span></span><br><span class="line"><span class="keyword">set</span> -g <span class="keyword">set</span>-titles-<span class="built_in">string</span> <span class="string">&#x27;â #S â— #I&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> -g status-interval <span class="number">10</span>     # <span class="keyword">redraw</span> status <span class="built_in">line</span> every <span class="number">10</span> seconds</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># çŠ¶æ€æ </span><br><span class="line"># é¢œè‰²</span><br><span class="line"><span class="keyword">set</span> -g status-bg black</span><br><span class="line"><span class="keyword">set</span> -g status-fg white</span><br><span class="line"># å¯¹é½æ–¹å¼</span><br><span class="line"><span class="keyword">set</span>-option -g status-justify centre</span><br><span class="line"># å·¦ä¸‹è§’</span><br><span class="line"><span class="keyword">set</span>-option -g status-<span class="keyword">left</span> <span class="string">&#x27;#[bg=black,fg=green][#[fg=cyan]#S#[fg=green]]&#x27;</span></span><br><span class="line"><span class="keyword">set</span>-option -g status-<span class="keyword">left</span>-length <span class="number">20</span></span><br><span class="line"># çª—å£åˆ—è¡¨</span><br><span class="line">setw -g automatic-<span class="built_in">rename</span> <span class="keyword">on</span></span><br><span class="line"><span class="keyword">set</span>-window-option -g window-status-format <span class="string">&#x27;#[dim]#I:#[default]#W#[fg=grey,dim]&#x27;</span></span><br><span class="line"><span class="keyword">set</span>-window-option -g window-status-current-format <span class="string">&#x27;#[fg=cyan,bold]#I#[fg=blue]:#[fg=cyan]#W#[fg=dim]&#x27;</span></span><br><span class="line"># å³ä¸‹è§’</span><br><span class="line"><span class="keyword">set</span> -g status-<span class="keyword">right</span> <span class="string">&#x27;#[fg=green][#[fg=cyan]%Y-%m-%d#[fg=green]]&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h3><p>ç»ˆç«¯è¾“å…¥å‘½ä»¤</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹ç‰ˆæœ¬</span></span><br><span class="line">tmux -V</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›å…¥</span></span><br><span class="line">tmux</span><br><span class="line"></span><br><span class="line"><span class="comment"># é€€å‡º</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line">ctrl + a &amp;</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ äº†ä¸Šé¢çš„é…ç½®æ–‡ä»¶åï¼Œå¯ä½¿ç”¨å¦‚ä¸‹å¿«æ·é”®ï¼š</p>
<table>
<thead>
<tr>
<th>æŒ‰é”®</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody><tr>
<td>ctrl + a -</td>
<td>ä¸Šä¸‹åˆ†å±</td>
</tr>
<tr>
<td>ctrl + a \</td>
<td>å·¦å³åˆ†å±</td>
</tr>
<tr>
<td>ctrl + a h</td>
<td>å®šä½åˆ° å·¦ è¾¹çš„åˆ†å±</td>
</tr>
<tr>
<td>ctrl + a j</td>
<td>å®šä½åˆ° ä¸Š è¾¹çš„åˆ†å±</td>
</tr>
<tr>
<td>ctrl + a k</td>
<td>å®šä½åˆ° ä¸‹ è¾¹çš„åˆ†å±</td>
</tr>
<tr>
<td>ctrl + a l</td>
<td>å®šä½åˆ° å³ è¾¹çš„åˆ†å±</td>
</tr>
<tr>
<td>ctrl + a H</td>
<td>å¢åŠ  å·¦ è¾¹åˆ†å±çš„å®½åº¦</td>
</tr>
<tr>
<td>ctrl + a J</td>
<td>å¢åŠ  ä¸Š è¾¹åˆ†å±çš„å®½åº¦</td>
</tr>
<tr>
<td>ctrl + a K</td>
<td>å¢åŠ  ä¸‹ è¾¹åˆ†å±çš„å®½åº¦</td>
</tr>
<tr>
<td>ctrl + a L</td>
<td>å¢åŠ  å³ è¾¹åˆ†å±çš„å®½åº¦</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>tmux</tag>
      </tags>
  </entry>
  <entry>
    <title>vim å¸¸ç”¨æ“ä½œå‘½ä»¤</title>
    <url>/post/2824845466.html</url>
    <content><![CDATA[<center>
<img data-src="https://static.sqiang.net/image%2Fpost%2Fvim%20%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C.svg" width="95%">
</center>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>vim</tag>
      </tags>
  </entry>
  <entry>
    <title>zipåˆ†å·å‹ç¼©å‘½ä»¤</title>
    <url>/post/4078650632.html</url>
    <content><![CDATA[<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> -s åˆ‡åˆ†å¤§å°ï¼Œå¯é€‰ kã€mã€gã€t</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -x å¿½ç•¥æ–‡ä»¶</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -r é€’å½’ç›®å½•</span></span><br><span class="line">âœ  ~ zip -s 100m -x &quot;*.DS_Store&quot; -r split-foo.zip foo/</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ‡åˆ†å·²æœ‰ zip æ–‡ä»¶</span></span><br><span class="line">âœ  ~ zip existing.zip --out new.zip -s 50m</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> è§£å‹</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -s 0 åˆå¹¶</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> --out æŒ‡å®šè¾“å‡ºæ–‡ä»¶å</span></span><br><span class="line">âœ  ~ zip -s 0 split.zip --out single.zip</span><br><span class="line">unzip single.zip</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>zip</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäº CentOS6.x æºç ç¼–è¯‘å®‰è£… LNMP ç¯å¢ƒ</title>
    <url>/post/3800214565.html</url>
    <content><![CDATA[<blockquote>
<p>è¿™æ˜¯ä¹‹å‰åœ¨å­¦ä¹ ã€å·¥ä½œè¿‡ç¨‹ä¸­æ•´ç†çš„ç¬”è®°ï¼Œå®Œæ•´çš„è®°å½•äº†ä»¥æºç æ–¹å¼ç¼–è¯‘ã€é…ç½® LNMP ç¯å¢ƒçš„æ­¥éª¤ï¼Œè™½ç„¶ä¹Ÿå°èŒƒå›´ç”¨äºç”Ÿäº§ç¯å¢ƒçš„æœåŠ¡æ„å»ºï¼Œä½†å»ºè®®åªæŠŠå®ƒæ‹¿æ¥å­¦ä¹ ç”¨ï¼Œå› ä¸ºæœ‰äº›ç»†èŠ‚å’Œä¼˜åŒ–é¡¹å¹¶ä¸å®Œå–„ã€‚</p>
<p>ç”Ÿäº§ç¯å¢ƒï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨ä»¥ä¸‹ä¸¤ä¸ªç›¸å¯¹æˆç†Ÿã€ç¨³å®šçš„è„šæœ¬å·¥å…·ï¼š</p>
<ul>
<li><a href="https://oneinstack.com/">https://oneinstack.com</a></li>
<li><a href="https://lnmp.org/">https://lnmp.org</a></li>
</ul>
</blockquote>
<span id="more"></span>

<h3 id="1-å‡†å¤‡ç¯‡"><a href="#1-å‡†å¤‡ç¯‡" class="headerlink" title="1. å‡†å¤‡ç¯‡"></a>1. å‡†å¤‡ç¯‡</h3><h4 id="1-1-æ¨èç›®å½•ç»“æ„"><a href="#1-1-æ¨èç›®å½•ç»“æ„" class="headerlink" title="1.1. æ¨èç›®å½•ç»“æ„"></a>1.1. æ¨èç›®å½•ç»“æ„</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  mkdir -p /lnmp/server /lnmp/www /lnmp/<span class="built_in">log</span>/mysql /lnmp/<span class="built_in">log</span>/nginx /lnmp/<span class="built_in">log</span>/php</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ³¨ï¼šå®Œæ•´çš„æœåŠ¡é…ç½®å¥½åçš„ç›®å½•ç»“æ„ç±»ä¼¼å¦‚ä¸‹</span></span><br><span class="line">/lnmp/</span><br><span class="line">â”œâ”€â”€ <span class="built_in">log</span></span><br><span class="line">â”‚Â Â Â â”œâ”€â”€ mysql</span><br><span class="line">â”‚Â Â Â â”œâ”€â”€ nginx</span><br><span class="line">â”‚Â Â Â â””â”€â”€ php</span><br><span class="line">â”œâ”€â”€ server</span><br><span class="line">â”‚Â Â Â â”œâ”€â”€ mysql -&gt; /lnmp/server/mysql-5.x.xx</span><br><span class="line">â”‚Â Â Â â”œâ”€â”€ mysql-5.x.xx</span><br><span class="line">â”‚Â Â Â â”œâ”€â”€ nginx -&gt; /lnmp/server/nginx-1.4.4</span><br><span class="line">â”‚Â Â Â â”œâ”€â”€ nginx-1.4.4</span><br><span class="line">â”‚Â Â Â â”œâ”€â”€ php -&gt; /lnmp/server/php-5.x.xx</span><br><span class="line">â”‚Â Â Â â””â”€â”€ php-5.x.xx</span><br><span class="line">â”œâ”€â”€ info.log</span><br><span class="line">â””â”€â”€ www</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  chown -R www:www /lnmp/<span class="built_in">log</span></span><br><span class="line">âœ  chmod -R 755 /lnmp/<span class="built_in">log</span></span><br><span class="line">âœ  chown -R www:www /lnmp/www</span><br><span class="line">âœ  chmod -R 755 /lnmp/www</span><br></pre></td></tr></table></figure>

<h4 id="1-2-ä¸‹è½½æºç åŒ…"><a href="#1-2-ä¸‹è½½æºç åŒ…" class="headerlink" title="1.2. ä¸‹è½½æºç åŒ…"></a>1.2. ä¸‹è½½æºç åŒ…</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æºç åŒ…ä¸‹è½½å­˜æ”¾ç›®å½•</span></span><br><span class="line">âœ  mkdir -p /root/src &amp;&amp; <span class="built_in">cd</span> /root/src</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…¶å®ƒç‰ˆæœ¬åŠå¤‡ç”¨ä¸‹è½½åœ°å€å‚è§é™„å½•</span></span><br><span class="line">âœ  wget http://dev.mysql.com/get/Downloads/MySQL-5.5/mysql-5.5.50-linux2.6-x86_64.tar.gz</span><br><span class="line">âœ  wget http://nginx.org/download/nginx-1.6.3.tar.gz</span><br><span class="line">âœ  wget http://cn2.php.net/distributions/php-5.5.36.tar.gz</span><br></pre></td></tr></table></figure>

<h4 id="1-3-é˜²ç«å¢™å¼€æ”¾80-3306ç«¯å£"><a href="#1-3-é˜²ç«å¢™å¼€æ”¾80-3306ç«¯å£" class="headerlink" title="1.3. é˜²ç«å¢™å¼€æ”¾80/3306ç«¯å£"></a>1.3. é˜²ç«å¢™å¼€æ”¾80/3306ç«¯å£</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹å½“å‰é˜²ç«å¢™çŠ¶æ€</span></span><br><span class="line">âœ  /etc/init.d/iptables status</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¼–è¾‘é˜²ç«å¢™é…ç½®æ–‡ä»¶</span></span><br><span class="line">âœ  vim /etc/sysconfig/iptables</span><br><span class="line">.....</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport 22 -j ACCEPT</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport 80 -j ACCEPT Â  Â  &lt;------- å¼€æ”¾80</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport 3306 -j ACCEPT Â  &lt;------- å¼€æ”¾3306</span><br><span class="line">-A INPUT -j REJECT --reject-with icmp-host-prohibited</span><br><span class="line">-A FORWARD -j REJECT --reject-with icmp-host-prohibited</span><br><span class="line">COMMIT</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å¯é˜²ç«å¢™</span></span><br><span class="line">âœ  /etc/init.d/iptables restart</span><br></pre></td></tr></table></figure>

<h4 id="1-4-å…³é—­-SELinux"><a href="#1-4-å…³é—­-SELinux" class="headerlink" title="1.4. å…³é—­ SELinux"></a>1.4. å…³é—­ SELinux</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¯¹äº Linux æ–°æ‰‹ï¼Œå»ºè®®ç›´æ¥å…³é—­ï¼Œä»¥å…å‡ºç°ä¸çŸ¥æ‰€ç„¶çš„é—®é¢˜</span></span><br><span class="line">âœ  sed -i <span class="string">&#x27;s/SELINUX=enforcing/SELINUX=disabled/&#x27;</span> /etc/selinux/config</span><br><span class="line">âœ  shutdown -r now</span><br></pre></td></tr></table></figure>

<h4 id="1-5-å®‰è£…ç¼–è¯‘æ—¶æ‰€éœ€ä¾èµ–"><a href="#1-5-å®‰è£…ç¼–è¯‘æ—¶æ‰€éœ€ä¾èµ–" class="headerlink" title="1.5. å®‰è£…ç¼–è¯‘æ—¶æ‰€éœ€ä¾èµ–"></a>1.5. å®‰è£…ç¼–è¯‘æ—¶æ‰€éœ€ä¾èµ–</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  yum -y install gcc gcc-c++ kernel-devel</span><br></pre></td></tr></table></figure>

<h3 id="2-å®‰è£…-MySQL"><a href="#2-å®‰è£…-MySQL" class="headerlink" title="2. å®‰è£… MySQL"></a>2. å®‰è£… MySQL</h3><h4 id="2-1-åˆ›å»ºç”¨æˆ·"><a href="#2-1-åˆ›å»ºç”¨æˆ·" class="headerlink" title="2.1. åˆ›å»ºç”¨æˆ·"></a>2.1. åˆ›å»ºç”¨æˆ·</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  groupadd mysql</span><br><span class="line">âœ  useradd -s /sbin/nologin -g mysql -M mysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¹Ÿå¯ä»¥åªä½¿ç”¨ä¸‹é¢è¿™ä¸€æ¡å‘½ä»¤æ›¿ä»£</span></span><br><span class="line">âœ  useradd mysql -s /sbin/nologin -M</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥ç”¨æˆ·æ˜¯å¦åˆ›å»ºæˆåŠŸ</span></span><br><span class="line">âœ  tail -1 /etc/passwd</span><br><span class="line">mysql:x:501:501::/home/mysql:/sbin/nologin</span><br><span class="line">âœ  id mysql</span><br><span class="line">uid=501(mysql) gid=501(mysql) groups=501(mysql)</span><br></pre></td></tr></table></figure>

<h4 id="2-2-è§£å‹ã€é…ç½®"><a href="#2-2-è§£å‹ã€é…ç½®" class="headerlink" title="2.2. è§£å‹ã€é…ç½®"></a>2.2. è§£å‹ã€é…ç½®</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">cd</span> /root/src</span><br><span class="line">âœ  tar -zxvf mysql-5.5.50-linux2.6-x86_64.tar.gz</span><br><span class="line">âœ  mv mysql-5.5.50-linux2.6-x86_64 /lnmp/server/mysql-5.5.50 &amp;&amp; <span class="built_in">cd</span> /lnmp/server</span><br><span class="line">âœ  ls -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># å»ºç«‹å…·ä½“ç‰ˆæœ¬çš„è½¯è¿æ¥</span></span><br><span class="line">âœ  ln -s /lnmp/server/mysql-5.5.50/ mysql</span><br><span class="line">âœ  ls -l</span><br><span class="line">âœ  <span class="built_in">cd</span> mysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰é…ç½®æ ·ä¾‹</span></span><br><span class="line">âœ  ls -l support-files/*.cnf</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ /bin/cp ç›´æ¥è¦†ç›–é‡åæ–‡ä»¶ï¼Œä¸æç¤º</span></span><br><span class="line">âœ  /bin/cp support-files/my-large.cnf /etc/my.cnf</span><br></pre></td></tr></table></figure>

<h4 id="2-3-åˆå§‹åŒ–æ•°æ®"><a href="#2-3-åˆå§‹åŒ–æ•°æ®" class="headerlink" title="2.3. åˆå§‹åŒ–æ•°æ®"></a>2.3. åˆå§‹åŒ–æ•°æ®</h4><p>Â </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„ç›®å½•ï¼Œå­˜æ”¾ç‰©ç†æ•°æ®æ–‡ä»¶</span></span><br><span class="line">âœ  mkdir -p /data/mysql</span><br><span class="line">âœ  chown -R mysql:mysql /data/mysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰§è¡Œåˆå§‹åŒ–è„šæœ¬</span></span><br><span class="line">âœ  ./scripts/mysql_install_db --basedir=/lnmp/server/mysql --datadir=/data/mysql --user=mysql</span><br><span class="line">...</span><br><span class="line">Installing MySQL system tables...</span><br><span class="line">160529 18:23:19 [Note] /lnmp/server/mysql/bin/mysqld (mysqld 5.5.50) starting as process 33182 ...</span><br><span class="line">OK</span><br><span class="line">Filling <span class="built_in">help</span> tables...</span><br><span class="line">160529 18:23:20 [Note] /lnmp/server/mysql/bin/mysqld (mysqld 5.5.50) starting as process 33189 ...</span><br><span class="line">OK</span><br><span class="line"></span><br><span class="line">To start mysqld at boot time you have to copy</span><br><span class="line">support-files/mysql.server to the right place <span class="keyword">for</span> your system</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ³¨æ„ï¼šå¦‚ä¸Šå‡ºç°ä¸¤ä¸ª OKï¼Œåˆ™è¡¨ç¤ºåˆå§‹åŒ–æˆåŠŸï¼›å¦åˆ™å¤±è´¥ï¼Œéœ€è§£å†³åˆå§‹åŒ–é”™è¯¯ã€‚</span></span><br></pre></td></tr></table></figure>

<h4 id="2-4-ä¿®æ”¹è®¾ç½®å¹¶å¯åŠ¨æœåŠ¡"><a href="#2-4-ä¿®æ”¹è®¾ç½®å¹¶å¯åŠ¨æœåŠ¡" class="headerlink" title="2.4.Â ä¿®æ”¹è®¾ç½®å¹¶å¯åŠ¨æœåŠ¡"></a>2.4.Â ä¿®æ”¹è®¾ç½®å¹¶å¯åŠ¨æœåŠ¡</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  cp ./support-files/mysql.server /etc/init.d/mysqld</span><br><span class="line">âœ  chmod 755 /etc/init.d/mysqld</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›¿æ¢äºŒè¿›åˆ¶åŒ…çš„é»˜è®¤MySQLå®‰è£…è·¯å¾„</span></span><br><span class="line">âœ  sed -i <span class="string">&#x27;s#/usr/local/mysql#/lnmp/server/mysql#g&#x27;</span> /lnmp/server/mysql/bin/mysqld_safe /etc/init.d/mysqld</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹ basedir å’Œ datadir</span></span><br><span class="line">âœ  vim /etc/init.d/mysqld</span><br><span class="line">basedir=/lnmp/server/mysql</span><br><span class="line">datadir=/data/mysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨æœåŠ¡</span></span><br><span class="line">âœ  /etc/init.d/mysqld start</span><br><span class="line">Starting MySQL... SUCCESS!</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥ 3306 æ˜¯å¦å¯åŠ¨ï¼š</span></span><br><span class="line">âœ  netstat -tlunp|grep mysql</span><br><span class="line">tcp Â  Â  Â  Â 0 Â  Â  Â 0 0.0.0.0:3306 Â  Â  0.0.0.0:* Â  Â  Â LISTEN Â  Â  Â 33457/mysqld</span><br></pre></td></tr></table></figure>

<h4 id="2-5-è®¾ç½®å¼€æœºè‡ªå¯åŠ¨"><a href="#2-5-è®¾ç½®å¼€æœºè‡ªå¯åŠ¨" class="headerlink" title="2.5. è®¾ç½®å¼€æœºè‡ªå¯åŠ¨"></a>2.5. è®¾ç½®å¼€æœºè‡ªå¯åŠ¨</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  chkconfig --add mysqld</span><br><span class="line">âœ  chkconfig mysqld on</span><br><span class="line">âœ  chkconfig --list|grep mysqld</span><br><span class="line">mysqld Â  Â  Â  Â  Â 0:off Â  1:off Â  2:on Â  Â 3:on Â  Â 4:on Â  Â 5:on Â  Â 6:off</span><br></pre></td></tr></table></figure>

<h4 id="2-6-é…ç½®MySQLå‘½ä»¤å…¨å±€ä½¿ç”¨"><a href="#2-6-é…ç½®MySQLå‘½ä»¤å…¨å±€ä½¿ç”¨" class="headerlink" title="2.6. é…ç½®MySQLå‘½ä»¤å…¨å±€ä½¿ç”¨"></a>2.6. é…ç½®MySQLå‘½ä»¤å…¨å±€ä½¿ç”¨</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">echo</span> <span class="string">&#x27;export PATH=/lnmp/server/mysql/bin:$PATH&#x27;</span> &gt;&gt;/etc/profile</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥å†™å…¥æ–‡ä»¶</span></span><br><span class="line">âœ  tail -1 /etc/profile</span><br><span class="line"><span class="built_in">export</span> PATH=/lnmp/server/mysql/bin:<span class="variable">$PATH</span></span><br><span class="line">âœ  <span class="built_in">source</span> /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥æœ€ç»ˆè®¾ç½®ç»“æœ</span></span><br><span class="line">âœ  <span class="built_in">echo</span> <span class="variable">$PATH</span></span><br><span class="line">/lnmp/server/mysql/bin:/usr/<span class="built_in">local</span>/bin:/bin:/usr/bin:/usr/<span class="built_in">local</span>/sbin:/usr/sbin:/sbin:/home/whoru/bin</span><br></pre></td></tr></table></figure>

<h4 id="2-7-ç™»å½•æµ‹è¯•ï¼Œæ›´æ”¹é»˜è®¤ç®¡ç†å‘˜å¯†ç "><a href="#2-7-ç™»å½•æµ‹è¯•ï¼Œæ›´æ”¹é»˜è®¤ç®¡ç†å‘˜å¯†ç " class="headerlink" title="2.7. ç™»å½•æµ‹è¯•ï¼Œæ›´æ”¹é»˜è®¤ç®¡ç†å‘˜å¯†ç "></a>2.7. ç™»å½•æµ‹è¯•ï¼Œæ›´æ”¹é»˜è®¤ç®¡ç†å‘˜å¯†ç </h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¾“å…¥ mysql å¯ä»¥ç›´æ¥ç™»å½•ï¼Œå®‰è£…å¥½åé»˜è®¤å¯†ç ä¸ºç©º</span></span><br><span class="line">âœ  mysql</span><br><span class="line">Welcome to the MySQL monitor. Â Commands end with ; or \g.</span><br><span class="line">.....</span><br><span class="line">Type <span class="string">&#x27;help;&#x27;</span> or <span class="string">&#x27;\h&#x27;</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">&#x27;\c&#x27;</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt;quit;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹ root é»˜è®¤çš„ç©ºå¯†ç </span></span><br><span class="line">âœ  mysqladmin -u root password <span class="string">&#x27;whoru123&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡æ–°è¿æ¥æµ‹è¯•</span></span><br><span class="line">âœ  mysql</span><br><span class="line">ERROR 1045 (28000): Access denied <span class="keyword">for</span> user <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> (using password: NO)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¿…é¡»ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç ç™»å½•</span></span><br><span class="line">âœ  mysql -uroot -p</span><br><span class="line">Enter password:</span><br><span class="line">Welcome to the MySQL monitor. Â Commands end with ; or \g.</span><br><span class="line">.....</span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure>

<h4 id="2-8-æ¸…ç†æ²¡æœ‰ç”¨çš„ç”¨æˆ·åŠåº“"><a href="#2-8-æ¸…ç†æ²¡æœ‰ç”¨çš„ç”¨æˆ·åŠåº“" class="headerlink" title="2.8. æ¸…ç†æ²¡æœ‰ç”¨çš„ç”¨æˆ·åŠåº“"></a>2.8. æ¸…ç†æ²¡æœ‰ç”¨çš„ç”¨æˆ·åŠåº“</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysql&gt; select user,host from mysql.user;</span><br><span class="line">+------+-----------+</span><br><span class="line">| user | host Â  Â  Â |</span><br><span class="line">+------+-----------+</span><br><span class="line">| root | 127.0.0.1 |</span><br><span class="line">| root | ::1 Â  Â  Â  |</span><br><span class="line">| Â  Â  Â | localhost |</span><br><span class="line">| root | localhost |</span><br><span class="line">| Â  Â  Â | web1 Â  Â  Â |</span><br><span class="line">| root | web1 Â  Â  Â |</span><br><span class="line">+------+-----------+</span><br><span class="line">6 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; drop user <span class="string">&quot;root&quot;</span>@<span class="string">&quot;::1&quot;</span>;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; drop user <span class="string">&quot;&quot;</span>@<span class="string">&quot;localhost&quot;</span>;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; drop user <span class="string">&quot;&quot;</span>@<span class="string">&quot;web1&quot;</span>;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; drop user <span class="string">&quot;root&quot;</span>@<span class="string">&quot;web1&quot;</span>;</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select user,host from mysql.user;</span><br><span class="line">+------+-----------+</span><br><span class="line">| user | host Â  Â  Â |</span><br><span class="line">+------+-----------+</span><br><span class="line">| root | 127.0.0.1 |</span><br><span class="line">| root | localhost |</span><br><span class="line">+------+-----------+</span><br><span class="line">2 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; flush privileges;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br></pre></td></tr></table></figure>

<h3 id="3-å®‰è£…-Nginx"><a href="#3-å®‰è£…-Nginx" class="headerlink" title="3. å®‰è£… Nginx"></a>3. å®‰è£… Nginx</h3><h4 id="3-1-å®‰è£…ä¾èµ–åŒ…"><a href="#3-1-å®‰è£…ä¾èµ–åŒ…" class="headerlink" title="3.1. å®‰è£…ä¾èµ–åŒ…"></a>3.1. å®‰è£…ä¾èµ–åŒ…</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥æ‰€ä¾èµ–çš„åŒ…æ˜¯å¦å·²ç»å®‰è£…</span></span><br><span class="line"><span class="comment"># å…¶ä¸­ pcre ç”¨äº nginx çš„ rewrite æ¨¡å—</span></span><br><span class="line">âœ  rpm -qa pcre* openssl* zlib*</span><br><span class="line">zlib-1.2.3-29.el6.x86_64</span><br><span class="line">openssl-1.0.1e-48.el6_8.1.x86_64</span><br><span class="line">pcre-7.8-7.el6.x86_64</span><br><span class="line"></span><br><span class="line">âœ  yum -y install pcre-devel openssl-devel zlib-devel</span><br></pre></td></tr></table></figure>

<h4 id="3-2-æ·»åŠ ç”¨æˆ·"><a href="#3-2-æ·»åŠ ç”¨æˆ·" class="headerlink" title="3.2. æ·»åŠ ç”¨æˆ·"></a>3.2. æ·»åŠ ç”¨æˆ·</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  useradd www -s /sbin/nologin -M</span><br></pre></td></tr></table></figure>

<h4 id="3-3-å®‰è£…"><a href="#3-3-å®‰è£…" class="headerlink" title="3.3. å®‰è£…"></a>3.3. å®‰è£…</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">cd</span> /root/src</span><br><span class="line">âœ  tar -zxvf nginx-1.6.3.tar.gz &amp;&amp; <span class="built_in">cd</span> nginx-1.6.3</span><br><span class="line">âœ  ./configure \</span><br><span class="line">--prefix=/lnmp/server/nginx-1.6.3 \</span><br><span class="line">--error-log-path=/lnmp/<span class="built_in">log</span>/nginx/error.log \</span><br><span class="line">--http-log-path=/lnmp/<span class="built_in">log</span>/nginx/access.log \</span><br><span class="line">--user=www \</span><br><span class="line">--group=www \</span><br><span class="line">--with-http_realip_module \</span><br><span class="line">--with-http_sub_module \</span><br><span class="line">--with-http_ssl_module \</span><br><span class="line">--with-http_stub_status_module \</span><br><span class="line">--with-http_gzip_static_module \</span><br><span class="line">--with-pcre</span><br><span class="line">âœ  make</span><br><span class="line">âœ  make install</span><br><span class="line">âœ  <span class="built_in">cd</span> /lnmp/server</span><br><span class="line">âœ  ln -s /lnmp/server/nginx-1.6.3/ nginx</span><br><span class="line">âœ  ls -l</span><br></pre></td></tr></table></figure>

<p>æç¤ºï¼šç¼–è¯‘å®‰è£…è¿‡ç¨‹ä¸­å¯ä»¥ä½¿ç”¨å‘½ä»¤ <code># echo $?</code> æ£€ <code>configure</code> / <code>make</code> çš„æ‰§è¡Œç»“æœï¼Œ<code>0</code> è¡¨ç¤ºæˆåŠŸ.</p>
<h4 id="3-4-å¯åŠ¨"><a href="#3-4-å¯åŠ¨" class="headerlink" title="3.4. å¯åŠ¨"></a>3.4. å¯åŠ¨</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•</span></span><br><span class="line">âœ  /lnmp/server/nginx/sbin/nginx -t</span><br><span class="line">nginx: the configuration file /lnmp/server/nginx-1.6.3//conf/nginx.conf syntax is ok</span><br><span class="line">nginx: configuration file /lnmp/server/nginx-1.6.3//conf/nginx.conf <span class="built_in">test</span> is successful</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨</span></span><br><span class="line">âœ  /lnmp/server/nginx/sbin/nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥</span></span><br><span class="line">âœ  lsof -i :80</span><br><span class="line">COMMAND Â  PID Â USER Â  FD Â  TYPE DEVICE SIZE/OFF NODE NAME</span><br><span class="line">nginx Â  38366 Â root Â  Â 6u Â IPv4 Â 93417 Â  Â  Â 0t0 Â TCP *:http (LISTEN)</span><br><span class="line">nginx Â  38367 nginx Â  Â 6u Â IPv4 Â 93417 Â  Â  Â 0t0 Â TCP *:http (LISTEN)</span><br><span class="line">âœ  netstat -tlunp|grep 80</span><br><span class="line">tcp Â  Â  Â  Â 0 Â  Â  Â 0 0.0.0.0:80 Â  Â 0.0.0.0:* Â  Â  Â  Â LISTEN Â  Â  Â 38366/nginx</span><br><span class="line">âœ  wget 127.0.0.1</span><br><span class="line">âœ  curl 127.0.0.1</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨ï¼šå½“æµè§ˆå™¨æ— æ³•è®¿é—®æ—¶ï¼Œå°è¯•ä¿®æ”¹ SELinuxã€iptables</p>
</blockquote>
<h4 id="3-5-æ·»åŠ å¿«æ·å¯åŠ¨è„šæœ¬"><a href="#3-5-æ·»åŠ å¿«æ·å¯åŠ¨è„šæœ¬" class="headerlink" title="3.5. æ·»åŠ å¿«æ·å¯åŠ¨è„šæœ¬"></a>3.5. æ·»åŠ å¿«æ·å¯åŠ¨è„šæœ¬</h4><p>ï¼Œä¹‹åå¯ä»¥é€šè¿‡ service nginx xxx æ–¹å¼æ§åˆ¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ–‡ä»¶å†…å®¹è§é™„ä»¶ nginx.sh</span></span><br><span class="line">âœ  vim /etc/init.d/nginx</span><br><span class="line">âœ  chmod 755 /etc/init.d/nginx</span><br><span class="line">âœ  service nginx</span><br><span class="line">Usage: /etc/init.d/nginx &#123;start|stop|reload|restart|configtest&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®æ–‡ä»¶æ£€æŸ¥</span></span><br><span class="line">âœ  service nginx configtest</span><br><span class="line">nginx: the configuration file /lnmp/server/nginx/conf/nginx.conf syntax is ok</span><br><span class="line">nginx: configuration file /lnmp/server/nginx/conf/nginx.conf <span class="built_in">test</span> is successful</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨</span></span><br><span class="line">âœ  service nginx start</span><br><span class="line">Starting Nginx: Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â [ Â OK Â ]</span><br></pre></td></tr></table></figure>

<h4 id="3-6-è®¾ç½®å¼€æœºè‡ªå¯åŠ¨"><a href="#3-6-è®¾ç½®å¼€æœºè‡ªå¯åŠ¨" class="headerlink" title="3.6. è®¾ç½®å¼€æœºè‡ªå¯åŠ¨"></a>3.6. è®¾ç½®å¼€æœºè‡ªå¯åŠ¨</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  chkconfig --add nginx</span><br><span class="line">âœ  chkconfig nginx on</span><br><span class="line">âœ  chkconfig --list|grep nginx</span><br><span class="line">nginx Â  Â  Â  Â  Â 0:off Â  1:off Â  2:on Â  Â 3:on Â  Â 4:on Â  Â 5:on Â  Â 6:off</span><br></pre></td></tr></table></figure>

<h3 id="4-å®‰è£…-PHP"><a href="#4-å®‰è£…-PHP" class="headerlink" title="4. å®‰è£… PHP"></a>4. å®‰è£… PHP</h3><h4 id="4-1-æ£€æŸ¥-MySQLã€Nginxæ˜¯å¦æ­£å¸¸"><a href="#4-1-æ£€æŸ¥-MySQLã€Nginxæ˜¯å¦æ­£å¸¸" class="headerlink" title="4.1. æ£€æŸ¥ MySQLã€Nginxæ˜¯å¦æ­£å¸¸"></a>4.1. æ£€æŸ¥ MySQLã€Nginxæ˜¯å¦æ­£å¸¸</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  netstat -tlunp</span><br></pre></td></tr></table></figure>

<h4 id="4-2-æ£€æŸ¥å®‰è£…-PHP-æ‰€éœ€çš„-lib-åº“"><a href="#4-2-æ£€æŸ¥å®‰è£…-PHP-æ‰€éœ€çš„-lib-åº“" class="headerlink" title="4.2. æ£€æŸ¥å®‰è£… PHP æ‰€éœ€çš„ lib åº“"></a>4.2. æ£€æŸ¥å®‰è£… PHP æ‰€éœ€çš„ lib åº“</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  rpm -qa zlib-devel libxm2-devel libjpeg-turbo-devel libpng-devel gd-devel libcurl-devel libxslt-devel freetype-devel</span><br><span class="line">zlib-devel-1.2.3-29.el6.x86_64</span><br><span class="line">âœ  yum -y install zlib-devel libxm2-devel libjpeg-turbo-devel libpng-devel gd-devel libcurl-devel libxslt-devel freetype-devel</span><br></pre></td></tr></table></figure>

<p>âš ï¸ æ³¨æ„ï¼šé»˜è®¤ yum æºæ²¡æœ‰ <code>libiconv-devel</code> è¿™ä¸ªåŒ…ï¼Œéœ€è¦æŒ‰ç…§ä¸‹é¢çš„æ­¥éª¤å•ç‹¬ç¼–è¯‘å®‰è£…ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">cd</span> /root/src</span><br><span class="line">âœ  wget http://ftp.gnu.org/gnu/libiconv/libiconv-1.14.tar.gz</span><br><span class="line">âœ  tar -zxvf libiconv-1.14.tar.gz &amp;&amp; <span class="built_in">cd</span> libiconv-1.14</span><br><span class="line">âœ  ./configure --prefix=/usr/<span class="built_in">local</span>/libiconv</span><br><span class="line">âœ  make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…å…¶å®ƒé¢å¤–åº“</span></span><br><span class="line">âœ  wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-6.repo</span><br><span class="line">âœ  yum -y install libmcrypt-devel mhash mcrypt</span><br></pre></td></tr></table></figure>

<h4 id="4-3-å®‰è£…"><a href="#4-3-å®‰è£…" class="headerlink" title="4.3. å®‰è£…"></a>4.3. å®‰è£…</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">cd</span> /root/src</span><br><span class="line">âœ  tar zxvf php-5.5.36.tar.gz &amp;&amp; <span class="built_in">cd</span> php-5.5.36</span><br><span class="line">âœ  ./configure \</span><br><span class="line">--prefix=/lnmp/server/php5.5.36 \</span><br><span class="line">--with-config-file-path=/lnmp/server/php5.5.36/etc \</span><br><span class="line">--enable-inline-optimization \</span><br><span class="line">--disable-debug \</span><br><span class="line">--disable-rpath \</span><br><span class="line">--enable-shared \</span><br><span class="line">--enable-fpm \</span><br><span class="line">--with-fpm-user=www \</span><br><span class="line">--with-fpm-group=www \</span><br><span class="line">--with-mysql=mysqlnd \</span><br><span class="line">--with-mysqli=mysqlnd \</span><br><span class="line">--with-pdo-mysql=mysqlnd \</span><br><span class="line">--enable-exif \</span><br><span class="line">--with-gd \</span><br><span class="line">--enable-gd-native-ttf \</span><br><span class="line">--with-jpeg-dir \</span><br><span class="line">--with-png-dir \</span><br><span class="line">--with-freetype-dir \</span><br><span class="line">--with-gettext \</span><br><span class="line">--with-iconv-dir=/usr/<span class="built_in">local</span>/libiconv \</span><br><span class="line">--enable-mbstring \</span><br><span class="line">--with-mcrypt \</span><br><span class="line">--with-mhash \</span><br><span class="line">--with-openssl \</span><br><span class="line">--enable-bcmath \</span><br><span class="line">--enable-pcntl Â \</span><br><span class="line">--enable-shmop \</span><br><span class="line">--enable-sysvsem \</span><br><span class="line">--enable-soap \</span><br><span class="line">--with-libxml-dir \</span><br><span class="line">--enable-sockets \</span><br><span class="line">--with-curl \</span><br><span class="line">--enable-ftp \</span><br><span class="line">--with-zlib-dir \</span><br><span class="line">--enable-zip \</span><br><span class="line">--with-pear</span><br><span class="line"></span><br><span class="line">âœ  ln -s /lnmp/server/php5.5.36/ /lnmp/server/php</span><br><span class="line">âœ  ll php.ini*</span><br><span class="line">-rw-r--r-- 1 1001 1001 69236 5æœˆ Â 25 17:36 php.ini-development Â  &lt;------- å¼€å‘æ¨¡å¼ï¼Œæ›´å¤šå¼€å¯æ—¥å¿—ã€è°ƒè¯•ä¿¡æ¯</span><br><span class="line">-rw-r--r-- 1 1001 1001 69266 5æœˆ Â 25 17:36 php.ini-production Â  Â &lt;------- ç”Ÿäº§æ¨¡å¼</span><br><span class="line">âœ  cp php.ini-production /lnmp/server/php/etc/php.ini</span><br></pre></td></tr></table></figure>

<h4 id="4-4-é…ç½®-PHP-æœåŠ¡ï¼ˆphp-fpm-æ–¹å¼ï¼‰"><a href="#4-4-é…ç½®-PHP-æœåŠ¡ï¼ˆphp-fpm-æ–¹å¼ï¼‰" class="headerlink" title="4.4. é…ç½® PHP æœåŠ¡ï¼ˆphp-fpm æ–¹å¼ï¼‰"></a>4.4. é…ç½® PHP æœåŠ¡ï¼ˆphp-fpm æ–¹å¼ï¼‰</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">cd</span> /lnmp/server/php/etc/</span><br><span class="line">âœ  ls</span><br><span class="line">pear.conf Â php-fpm.conf.default</span><br><span class="line">âœ  cp php-fpm.conf.default php-fpm.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨ php-fmp æœåŠ¡</span></span><br><span class="line">âœ  /lnmp/server/php/sbin/php-fpm</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ php-fpm å¯åŠ¨è¿›ç¨‹</span></span><br><span class="line">âœ  ps -ef|grep php-fpm</span><br><span class="line">root Â  Â  Â  2270 Â  Â  Â 1 Â 0 00:39 ? Â  Â  Â  Â 00:00:00 php-fpm: master process (/lnmp/server/php5.5.36/etc/php-fpm.conf)</span><br><span class="line">www Â  Â  Â  Â 2271 Â  2270 Â 0 00:39 ? Â  Â  Â  Â 00:00:00 php-fpm: pool www</span><br><span class="line">www Â  Â  Â  Â 2272 Â  2270 Â 0 00:39 ? Â  Â  Â  Â 00:00:00 php-fpm: pool www</span><br><span class="line">root Â  Â  Â  2274 Â  2227 Â 0 00:39 pts/0 Â  Â 00:00:00 grep php-fpm</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ php-fpm é»˜è®¤ç«¯å£</span></span><br><span class="line">âœ  lsof -i :9000</span><br><span class="line">COMMAND Â PID USER Â  FD Â  TYPE DEVICE SIZE/OFF NODE NAME</span><br><span class="line">php-fpm 2270 root Â  Â 7u Â IPv4 Â 12844 Â  Â  Â 0t0 Â TCP localhost:cslistener (LISTEN)</span><br><span class="line">php-fpm 2271 Â www Â  Â 0u Â IPv4 Â 12844 Â  Â  Â 0t0 Â TCP localhost:cslistener (LISTEN)</span><br><span class="line">php-fpm 2272 Â www Â  Â 0u Â IPv4 Â 12844 Â  Â  Â 0t0 Â TCP localhost:cslistener (LISTEN)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½® php-fpm å¯åŠ¨è„šæœ¬</span></span><br><span class="line">âœ  vim /etc/init.d/php-fpm</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤åˆ¶ php-fpm.sh ä¸­çš„å†…å®¹è¿›å»</span></span><br><span class="line">âœ  chmod 755 /etc/init.d/php-fpm</span><br><span class="line">âœ  service php-fpm start|stop|restart|reload|configtest</span><br></pre></td></tr></table></figure>

<h4 id="4-5-é…ç½®-Nginx-æ”¯æŒ-PHP-ç¨‹åºè¯·æ±‚è®¿é—®"><a href="#4-5-é…ç½®-Nginx-æ”¯æŒ-PHP-ç¨‹åºè¯·æ±‚è®¿é—®" class="headerlink" title="4.5. é…ç½® Nginx æ”¯æŒ PHP ç¨‹åºè¯·æ±‚è®¿é—®"></a>4.5. é…ç½® Nginx æ”¯æŒ PHP ç¨‹åºè¯·æ±‚è®¿é—®</h4><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">Â  Â  <span class="attribute">listen</span> Â  Â  Â  <span class="number">80</span>;</span><br><span class="line">Â  Â  <span class="attribute">server_name</span> Â localhost;</span><br><span class="line">Â  Â  <span class="attribute">root</span> Â  /lnmp/www/;</span><br><span class="line">Â  Â  <span class="attribute">index</span> Â index.html index.htm index.php;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="attribute">location</span> <span class="regexp">~ .*\.(php|php5)?$</span> &#123;</span><br><span class="line">Â  Â  Â  Â  <span class="attribute">fastcgi_pass</span> Â  <span class="number">127.0.0.1:9000</span>;</span><br><span class="line">Â  Â  Â  Â  <span class="attribute">fastcgi_index</span> Â index.php;</span><br><span class="line">Â  Â  Â  Â  <span class="attribute">include</span> Â  Â  Â  Â fastcgi.conf;</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-é™„å½•ï¼ˆè½¯ä»¶ä¸‹è½½è¿æ¥ï¼‰"><a href="#5-é™„å½•ï¼ˆè½¯ä»¶ä¸‹è½½è¿æ¥ï¼‰" class="headerlink" title="5. é™„å½•ï¼ˆè½¯ä»¶ä¸‹è½½è¿æ¥ï¼‰"></a>5. é™„å½•ï¼ˆè½¯ä»¶ä¸‹è½½è¿æ¥ï¼‰</h3><h4 id="5-1-MySQL"><a href="#5-1-MySQL" class="headerlink" title="5.1. MySQL"></a>5.1. MySQL</h4><ul>
<li>5.1ï¼š<ul>
<li><a href="http://dev.mysql.com/get/Downloads/MySQL-5.1/mysql-5.1.73-linux-x86_64-glibc23.tar.gz">http://dev.mysql.com/get/Downloads/MySQL-5.1/mysql-5.1.73-linux-x86_64-glibc23.tar.gz</a></li>
<li><a href="http://mirrors.sohu.com/mysql/MySQL-5.1/mysql-5.1.73-linux-x86_64-glibc23.tar.gz">http://mirrors.sohu.com/mysql/MySQL-5.1/mysql-5.1.73-linux-x86_64-glibc23.tar.gz</a></li>
</ul>
</li>
<li>5.5ï¼š<ul>
<li><a href="http://dev.mysql.com/get/Downloads/MySQL-5.5/mysql-5.5.50-linux2.6-x86_64.tar.gz">http://dev.mysql.com/get/Downloads/MySQL-5.5/mysql-5.5.50-linux2.6-x86_64.tar.gz</a></li>
<li><a href="http://mirrors.sohu.com/mysql/MySQL-5.5/mysql-5.5.50-linux2.6-x86_64.tar.gz">http://mirrors.sohu.com/mysql/MySQL-5.5/mysql-5.5.50-linux2.6-x86_64.tar.gz</a></li>
</ul>
</li>
<li>5.6ï¼š<ul>
<li><a href="http://dev.mysql.com/get/Downloads/MySQL-5.6/mysql-5.6.31-linux-glibc2.5-x86_64.tar.gz">http://dev.mysql.com/get/Downloads/MySQL-5.6/mysql-5.6.31-linux-glibc2.5-x86_64.tar.gz</a></li>
<li><a href="http://mirrors.sohu.com/mysql/MySQL-5.6/mysql-5.6.31-linux-glibc2.5-x86_64.tar.gz">http://mirrors.sohu.com/mysql/MySQL-5.6/mysql-5.6.31-linux-glibc2.5-x86_64.tar.gz</a></li>
</ul>
</li>
</ul>
<h4 id="5-2-Nginx"><a href="#5-2-Nginx" class="headerlink" title="5.2. Nginx"></a>5.2. Nginx</h4><ul>
<li>1.4.x<ul>
<li><a href="http://nginx.org/download/nginx-1.4.7.tar.gz">http://nginx.org/download/nginx-1.4.7.tar.gz</a></li>
<li><a href="http://mirrors.sohu.com/nginx/nginx-1.4.7.tar.gz">http://mirrors.sohu.com/nginx/nginx-1.4.7.tar.gz</a></li>
</ul>
</li>
<li>1.6.x<ul>
<li><a href="http://nginx.org/download/nginx-1.6.3.tar.gz">http://nginx.org/download/nginx-1.6.3.tar.gz</a></li>
<li><a href="http://mirrors.sohu.com/nginx/nginx-1.6.3.tar.gz">http://mirrors.sohu.com/nginx/nginx-1.6.3.tar.gz</a></li>
</ul>
</li>
<li>1.8.x<ul>
<li><a href="http://nginx.org/download/nginx-1.8.1.tar.gz">http://nginx.org/download/nginx-1.8.1.tar.gz</a></li>
<li><a href="http://mirrors.sohu.com/nginx/nginx-1.8.1.tar.gz">http://mirrors.sohu.com/nginx/nginx-1.8.1.tar.gz</a></li>
</ul>
</li>
</ul>
<h4 id="5-3-PHP"><a href="#5-3-PHP" class="headerlink" title="5.3. PHP"></a>5.3. PHP</h4><ul>
<li>5.4.x<ul>
<li><a href="http://cn2.php.net/distributions/php-5.4.45.tar.gz">http://cn2.php.net/distributions/php-5.4.45.tar.gz</a></li>
<li><a href="http://mirrors.sohu.com/php/php-5.4.45.tar.gz">http://mirrors.sohu.com/php/php-5.4.45.tar.gz</a></li>
</ul>
</li>
<li>5.5.x<ul>
<li><a href="http://cn2.php.net/distributions/php-5.5.36.tar.gz">http://cn2.php.net/distributions/php-5.5.36.tar.gz</a></li>
<li><a href="http://mirrors.sohu.com/php/php-5.5.36.tar.xz">http://mirrors.sohu.com/php/php-5.5.36.tar.xz</a></li>
</ul>
</li>
<li>5.6.x<ul>
<li><a href="http://cn2.php.net/distributions/php-5.6.22.tar.gz">http://cn2.php.net/distributions/php-5.6.22.tar.gz</a></li>
<li><a href="http://mirrors.sohu.com/php/php-5.6.22.tar.gz">http://mirrors.sohu.com/php/php-5.6.22.tar.gz</a></li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>PHP</tag>
        <tag>Linux</tag>
        <tag>LNMP</tag>
        <tag>Nginx</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•è®¾ç½® oh-my-zsh ä¸»é¢˜ agnoster</title>
    <url>/post/218213306.html</url>
    <content><![CDATA[<h3 id="æœ€ç»ˆæ•ˆæœ"><a href="#æœ€ç»ˆæ•ˆæœ" class="headerlink" title="æœ€ç»ˆæ•ˆæœ"></a>æœ€ç»ˆæ•ˆæœ</h3><center>
<img data-src="https://static.sqiang.net/image/post/oh-my-zsh_agnoster.png" width="95%">
</center>

<p><img data-src=""></p>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šæœ¬æ–‡æ˜¯ä»¥ zsh + iTerm ä¸ºåŸºç¡€è¿›è¡Œè¯´æ˜ï¼Œä¸æ­¤ç¯å¢ƒä¸ä¸€è‡´çš„å¯å‚ç…§æœ¬æ–‡æ ¹æ®å…·ä½“ç¯å¢ƒè¿›è¡Œä¿®æ”¹ã€‚</p>
</blockquote>
<span id="more"></span>

<h3 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h3><h4 id="1-å®‰è£…ä¸»é¢˜éœ€è¦çš„-powerline-å­—ä½“æ–‡ä»¶"><a href="#1-å®‰è£…ä¸»é¢˜éœ€è¦çš„-powerline-å­—ä½“æ–‡ä»¶" class="headerlink" title="1. å®‰è£…ä¸»é¢˜éœ€è¦çš„ powerline å­—ä½“æ–‡ä»¶"></a>1. å®‰è£…ä¸»é¢˜éœ€è¦çš„ powerline å­—ä½“æ–‡ä»¶</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">cd</span> ~</span><br><span class="line">âœ  git <span class="built_in">clone</span> https://github.com/powerline/fonts.git --depth=1</span><br><span class="line">âœ  <span class="built_in">cd</span> fonts</span><br><span class="line">âœ  ./install.sh</span><br><span class="line">âœ  <span class="built_in">cd</span> ..</span><br><span class="line">âœ  rm -rf fonts</span><br></pre></td></tr></table></figure>

<p>è¯¦ç»†è¯´æ˜ï¼Œ<a href="https://github.com/powerline/fonts">ç‚¹å‡»è¿™é‡Œ</a>ã€‚</p>
<h4 id="2-ä¿®æ”¹-zsh-é…ç½®"><a href="#2-ä¿®æ”¹-zsh-é…ç½®" class="headerlink" title="2. ä¿®æ”¹ zsh é…ç½®"></a>2. ä¿®æ”¹ zsh é…ç½®</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  vim ~/.zshrc</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹è¿™é‡Œåˆ‡æ¢ä¸»é¢˜</span></span><br><span class="line"><span class="comment">#ZSH_THEME=&quot;robbyrussell&quot;</span></span><br><span class="line">ZSH_THEME=<span class="string">&quot;agnoster&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># --------------------</span></span><br><span class="line"><span class="comment"># agnoster ä¸»é¢˜è®¾ç½®</span></span><br><span class="line"><span class="comment"># --------------------</span></span><br><span class="line"><span class="function"><span class="title">prompt_context</span></span>() &#123;</span><br><span class="line">  <span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$USER</span>&quot;</span> != <span class="string">&quot;<span class="variable">$DEFAULT_USER</span>&quot;</span> || -n <span class="string">&quot;<span class="variable">$SSH_CLIENT</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="comment">#prompt_segment black default &quot;%(!.%&#123;%F&#123;yellow&#125;%&#125;.)$USER&quot;</span></span><br><span class="line">    prompt_segment black default <span class="string">&quot;%&#123;<span class="variable">$fg</span>[white]%&#125;ï£¿&quot;</span></span><br><span class="line">    <span class="comment">#prompt_segment black default &quot;%&#123;$fg[yellow]%&#125;&quot;`date &#x27;+%T&#x27;`</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># agnoster ä¸»é¢˜è®¾ç½®ï¼šéšè—å½“å‰ç”¨æˆ·</span></span><br><span class="line"><span class="comment">#prompt_context() &#123;</span></span><br><span class="line"><span class="comment">#  DEFAULT_USER=&quot;sunqiang&quot;</span></span><br><span class="line"><span class="comment">#&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="3-ä¿®æ”¹-iTerm-è®¾ç½®"><a href="#3-ä¿®æ”¹-iTerm-è®¾ç½®" class="headerlink" title="3. ä¿®æ”¹ iTerm è®¾ç½®"></a>3. ä¿®æ”¹ iTerm è®¾ç½®</h4><p>ä¿®æ”¹å¦‚ä¸‹å›¾çš„è®¾ç½®ï¼Œæœ€åå®Œå…¨å…³é—­å¹¶é‡æ–°æ‰“å¼€ iTerm ç”Ÿæ•ˆã€‚</p>
<p><img data-src="https://oscimg.oschina.net/oscnet/bdf056fd7ad6f6d4fc9d4d701209ff162de.jpg"></p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>oh-my-zsh</tag>
        <tag>aghoster</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäº Lodop çš„å•æ®å•æ‰“å°å®ä¾‹åŠè¿æ‰“çš„å®ç°</title>
    <url>/post/486127644.html</url>
    <content><![CDATA[<h3 id="1-æ¦‚è¿°"><a href="#1-æ¦‚è¿°" class="headerlink" title="1. æ¦‚è¿°"></a>1. æ¦‚è¿°</h3><p>Lodop &amp; C-Lodop æ˜¯ä¸€æ¬¾ä¸“ä¸šå…±äº«è½¯ä»¶ï¼Œå…¬å¼€ç‰ˆæœ¬æœªé™åˆ¶åŠŸèƒ½ï¼Œå¤šæ•°ç”¨æˆ·å¯å…è´¹é•¿æœŸä½¿ç”¨ã€‚</p>
<p>ä»…å¦‚ä¸‹æƒ…å†µéœ€è¦ <strong>æ³¨å†Œæ”¶è´¹</strong>ï¼š</p>
<ul>
<li>ä½ å¸Œæœ›ç”¨åˆ°ï¼ˆä¸ç»è¿‡å¼¹å‡ºé¢„è§ˆçª—å£çš„ï¼‰ã€Œç›´æ¥æ‰“å°ã€åŠŸèƒ½æ—¶ï¼Œå¦‚æœä¸æ³¨å†Œï¼Œè¯¥åŠŸèƒ½ç›´æ¥æ‰“å°çš„çº¸å¼ å·¦ä¸‹è§’ä¼šæœ‰â€œ<em>æœ¬é¡µç”±XXXè¯•ç”¨ç‰ˆè¾“å‡º</em>â€å°å­—æ ·æ°´å°ã€‚</li>
<li>å¦å¤–ï¼Œå¯¼å‡º Excel æ–‡ä»¶æˆ–å›¾ç‰‡ä¹Ÿéœ€è¦æ³¨å†Œã€‚</li>
</ul>
<h3 id="2-ç›¸å…³èµ„æº"><a href="#2-ç›¸å…³èµ„æº" class="headerlink" title="2. ç›¸å…³èµ„æº"></a>2. ç›¸å…³èµ„æº</h3><ul>
<li>å®˜ç½‘ä¸‹è½½ä¸­å¿ƒï¼ˆç¨‹åº+æ–‡æ¡£ï¼‰ï¼š<a href="http://www.lodop.net/download.html">http://www.lodop.net/download.html</a></li>
<li>å®˜æ–¹æ‰“å°ç¤ºä¾‹ï¼š<a href="http://www.lodop.net/demo.html">http://www.lodop.net/demo.html</a></li>
<li>å¸¸è§é—®é¢˜åˆ—è¡¨ï¼š<a href="http://www.lodop.net/problem.html">http://www.lodop.net/problem.html</a></li>
</ul>
<span id="more"></span>

<h3 id="3-ä¸€ä¸ªå‘è¿å•æ‰“å°çš„å®ä¾‹"><a href="#3-ä¸€ä¸ªå‘è¿å•æ‰“å°çš„å®ä¾‹" class="headerlink" title="3. ä¸€ä¸ªå‘è¿å•æ‰“å°çš„å®ä¾‹"></a>3. ä¸€ä¸ªå‘è¿å•æ‰“å°çš„å®ä¾‹</h3><p>ç›®å½•ç»“æ„è¯´æ˜ï¼ˆæºç åœ°å€ï¼š<a href="https://github.com/whorusq/web-printer-with-Lodop">https://github.com/whorusq/web-printer-with-Lodop</a>ï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ assets</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ images</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ layer-btn-cancel-hover.png</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ layer-btn-cancel.png</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ layer-btn-ok-hover.png</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ layer-btn-ok.png</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ layui-layer-title-close-hover.png</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ layui-layer-title-close.png</span><br><span class="line">â”‚Â Â  â”‚Â Â  â””â”€â”€ layui-layer-title-info.png</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ jquery.min.js</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ jquery.tmpl.js     &lt;----- ä¸€ä¸ªç®€å•çš„æ¨¡å—æ•°æ®æ¸²æŸ“æ’ä»¶</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ layer     &lt;----- æœ¬ç¤ºä¾‹ä½¿ç”¨ layer å¤„ç†æ¶ˆæ¯å¼¹çª—</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ extend</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ layer.ext.js</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ layer.js</span><br><span class="line">â”‚Â Â  â”‚Â Â  â””â”€â”€ skin</span><br><span class="line">â”‚Â Â  â”‚Â Â      â”œâ”€â”€ default</span><br><span class="line">â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ icon-ext.png</span><br><span class="line">â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ icon.png</span><br><span class="line">â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ loading-0.gif</span><br><span class="line">â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ loading-1.gif</span><br><span class="line">â”‚Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ loading-2.gif</span><br><span class="line">â”‚Â Â  â”‚Â Â      â”œâ”€â”€ layer.css</span><br><span class="line">â”‚Â Â  â”‚Â Â      â””â”€â”€ layer.ext.css</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ lodop     &lt;----- æ‰“å°æ’ä»¶ç›¸å…³æ–‡ä»¶</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ CLodop_Setup_for_Win32NT.exe</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ LodopFuncs.js</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ install_lodop32.exe</span><br><span class="line">â”‚Â Â  â”‚Â Â  â””â”€â”€ install_lodop64.exe</span><br><span class="line">â”‚Â Â  â””â”€â”€ my.js     &lt;----- ä¸€äº›ç”¨åˆ°çš„å…¬å…±å‡½æ•°ï¼šè½¬æ¢é‡‘é¢ã€æ—¶é—´ï¼Œè°ƒç”¨å¼¹çª—</span><br><span class="line">â”œâ”€â”€ data.json     &lt;----- æ¨¡æ‹Ÿæ•°æ®</span><br><span class="line">â””â”€â”€ index.html     &lt;----- ç¤ºä¾‹é¡µï¼šæ‰“å°æ§ä»¶çš„è°ƒç”¨åŠæ‰“å°æ ·å¼è®¾ç½®ç­‰</span><br></pre></td></tr></table></figure>

<p>ç‚¹å‡»æ‰“å°åï¼Œæ‰“å°é¢„è§ˆæ•ˆæœå¦‚ä¸‹</p>
<p><img data-src="https://static.sqiang.net/image/post/lodop_screenhot.png" alt="é¢„è§ˆå›¾ç‰‡ï¼‰"></p>
<h3 id="4-å…³äºè¿æ‰“"><a href="#4-å…³äºè¿æ‰“" class="headerlink" title="4. å…³äºè¿æ‰“"></a>4. å…³äºè¿æ‰“</h3><h4 id="4-1-è¿æ‰“å…³é”®ç‚¹"><a href="#4-1-è¿æ‰“å…³é”®ç‚¹" class="headerlink" title="4.1. è¿æ‰“å…³é”®ç‚¹"></a>4.1. è¿æ‰“å…³é”®ç‚¹</h4><p>è¿æ‰“æ—¶ä¸»è¦æ˜¯é€šè¿‡ã€Œé’ˆå¼æ‰“å°æœºã€ï¼Œä½¿ç”¨ä¸‰è” <strong>n</strong> ç­‰åˆ†ï¼ˆå…³äºçº¸å‹çš„è¯´æ˜ï¼Œè¯¦è§é™„å½•ï¼š<a href="#5-2-%E7%BA%B8%E5%9E%8B%E8%AF%B4%E6%98%8E">5.2. çº¸å‹è¯´æ˜</a>ï¼‰çš„æ‰“å°çº¸è¿›è¡Œæ‰¹é‡æ‰“å°ã€‚</p>
<ol>
<li><p>é€šè¿‡ <strong>è¿›çº¸è°ƒèŠ‚å™¨æŒ‰é’®</strong>ï¼Œè°ƒæ•´æ‰“å°æœºçš„é»˜è®¤çº¸å‹ã€‚å¦‚æœä½ çš„æ‰“å°æœºæ²¡æœ‰è¿™ä¸ªç±»ä¼¼çš„æŒ‰é’®ï¼Œå¯è¯¢é—®å®¢æœå…·ä½“è°ƒèŠ‚æ–¹æ³•ã€‚</p>
</li>
<li><p>è°ƒæ•´æ‰“å°æ¨¡æ¿ï¼Œåœ¨ç¨‹åºé‡Œè®¾ç½®æ‰“å°çº¸å‹</p>
</li>
</ol>
<h4 id="4-2-å…·ä½“å®ç°æ–¹æ³•"><a href="#4-2-å…·ä½“å®ç°æ–¹æ³•" class="headerlink" title="4.2. å…·ä½“å®ç°æ–¹æ³•"></a>4.2. å…·ä½“å®ç°æ–¹æ³•</h4><p>åŸºäºä¸Šè¿° Demoï¼Œä¸»è¦ä½œå¦‚ä¸‹ä¿®æ”¹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">â€¦ç•¥â€¦</span><br><span class="line"></span><br><span class="line">LODOP = getLodop();</span><br><span class="line">LODOP.PRINT_INITA(<span class="number">0</span>,<span class="number">10</span>,<span class="string">&quot;24.1cm&quot;</span>,<span class="string">&quot;13.9cm&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">LODOP.SET_PRINT_PAGESIZE(<span class="number">1</span>,<span class="string">&quot;24.1cm&quot;</span>,<span class="string">&quot;13.9cm&quot;</span>,<span class="string">&quot;CreateCustomPage&quot;</span>);</span><br><span class="line">LODOP.SET_PRINT_MODE(<span class="string">&quot;CREATE_CUSTOM_PAGE_NAME&quot;</span>,<span class="string">&quot;fyd_print_1&quot;</span>);</span><br><span class="line"><span class="comment">// LODOP.SET_PRINT_MODE(&quot;POS_BASEON_PAPER&quot;,true);</span></span><br><span class="line"><span class="comment">// LODOP.SET_PREVIEW_WINDOW(1,0,0,1000,600,&quot;&quot;); // åˆå§‹é¢„è§ˆçª—å£å¤§å°</span></span><br><span class="line"><span class="comment">// LODOP.SET_SHOW_MODE(&quot;LANDSCAPE_DEFROTATED&quot;,1); // æ¨ªå‘æ‰“å°æ—¶æ­£å‘æ˜¾ç¤º</span></span><br><span class="line">LODOP.SET_PRINT_MODE(<span class="string">&quot;AUTO_CLOSE_PREWINDOW&quot;</span>,<span class="number">1</span>); <span class="comment">// æ‰“å°åè‡ªåŠ¨å…³é—­é¢„è§ˆ</span></span><br><span class="line">LODOP.SET_PRINT_MODE(<span class="string">&quot;CUSTOM_TASK_NAME&quot;</span>,<span class="string">&quot;å‘è¿å•æ‰“å°&quot;</span>); <span class="comment">// æ‰“å°é˜Ÿåˆ—ä¸­çš„æ–‡æ¡£å</span></span><br><span class="line">LODOP.SET_SHOW_MODE(<span class="string">&quot;HIDE_PAPER_BOARD&quot;</span>,<span class="number">1</span>); <span class="comment">// å»é™¤èƒŒæ™¯æ»šåŠ¨çº¿</span></span><br><span class="line"></span><br><span class="line">â€¦ç•¥â€¦</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>âš ï¸ æ³¨æ„ï¼š<strong>å¯¹äºæ‰“å°æ¨¡æ¿çš„è°ƒæ•´ï¼Œå¯ä½¿ç”¨ Lodop æ‰“å°è®¾è®¡åŠŸèƒ½ï¼Œæˆ–ä¸€ç‚¹ç‚¹æ‰“å°é¢„è§ˆè¿›è¡Œè°ƒèŠ‚</strong>ã€‚</p>
<h3 id="5-é™„å½•"><a href="#5-é™„å½•" class="headerlink" title="5. é™„å½•"></a>5. é™„å½•</h3><h4 id="5-1-ç›¸å…³å¸¸è§é—®é¢˜"><a href="#5-1-ç›¸å…³å¸¸è§é—®é¢˜" class="headerlink" title="5.1. ç›¸å…³å¸¸è§é—®é¢˜"></a>5.1. ç›¸å…³å¸¸è§é—®é¢˜</h4><ul>
<li><a href="http://www.c-lodop.com/faq/pp9.html">å¦‚ä½•é¿å…Lodopæœ¬åœ°é…ç½®å½±å“</a></li>
<li><a href="http://www.c-lodop.com/faq/pp17.html">æ‰“å°ä½ç½®ä¸åŒï¼Œåç§»é‡é—®é¢˜</a></li>
</ul>
<h4 id="5-2-çº¸å‹è¯´æ˜"><a href="#5-2-çº¸å‹è¯´æ˜" class="headerlink" title="5.2. çº¸å‹è¯´æ˜"></a>5.2. çº¸å‹è¯´æ˜</h4><p><img data-src="https://static.sqiang.net/image/post/lodop_paper1.jpg" alt="é¢„è§ˆå›¾ç‰‡ï¼‰"></p>
<p><img data-src="https://static.sqiang.net/image/post/lodop_paper2.jpg" alt="é¢„è§ˆå›¾ç‰‡ï¼‰"></p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>Lodop</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨ CentOS7 ä¸‹å®‰è£…ã€é…ç½® Redis æœåŠ¡</title>
    <url>/post/2447614005.html</url>
    <content><![CDATA[<p>å®˜ç½‘ï¼š<a href="https://redis.io/">https://redis.io</a></p>
<p>ä¸‹è½½ï¼š<a href="https://redis.io/download">https://redis.io/download</a></p>
<span id="more"></span>

<h3 id="1-å®‰è£…ä¾èµ–"><a href="#1-å®‰è£…ä¾èµ–" class="headerlink" title="1. å®‰è£…ä¾èµ–"></a>1. å®‰è£…ä¾èµ–</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  yum install -y gcc gcc-c++ kernel-devel</span><br></pre></td></tr></table></figure>

<h3 id="2-ä¸‹è½½æºç åŒ…"><a href="#2-ä¸‹è½½æºç åŒ…" class="headerlink" title="2. ä¸‹è½½æºç åŒ…"></a>2. ä¸‹è½½æºç åŒ…</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ¨èåœ¨è¿™ä¸ªç›®å½•å­˜æ”¾å„ä¸ªè½¯ä»¶çš„æºç </span></span><br><span class="line">âœ  <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/src</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸‹è½½æŒ‡å®šç‰ˆæœ¬</span></span><br><span class="line">âœ  wget http://download.redis.io/releases/redis-5.0.5.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸‹è½½æœ€æ–°ç¨³å®šç‰ˆ</span></span><br><span class="line">âœ  wget http://download.redis.io/redis-stable.tar.gz</span><br><span class="line"><span class="comment"># æŸ¥çœ‹æºç å…·ä½“ç‰ˆæœ¬</span></span><br><span class="line">âœ  cat redis-stable/src/version.h</span><br></pre></td></tr></table></figure>

<h3 id="3-ç¼–è¯‘å®‰è£…"><a href="#3-ç¼–è¯‘å®‰è£…" class="headerlink" title="3. ç¼–è¯‘å®‰è£…"></a>3. ç¼–è¯‘å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  tar zxvf redis-5.0.5.tar.gz</span><br><span class="line">âœ  <span class="built_in">cd</span> redis-5.0.5</span><br><span class="line">âœ  make</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…åˆ°æŒ‡å®šç›®å½•ä¸‹</span></span><br><span class="line">âœ  make PREFIX=/usr/<span class="built_in">local</span>/redis-5.0.5 install</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‹·è´é»˜è®¤é…ç½®æ–‡ä»¶åˆ°æŒ‡å®šç›®å½•</span></span><br><span class="line">âœ  mkdir /usr/<span class="built_in">local</span>/redis-5.0.5/etc</span><br><span class="line">âœ  cp redis.conf /usr/<span class="built_in">local</span>/redis-5.0.5/etc/</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºç¨‹åºè½¯é“¾æ¥ï¼Œä»¥ä¾¿åæœŸç‰ˆæœ¬å‡çº§</span></span><br><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/</span><br><span class="line">ln -s redis-5.0.5 redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®ç¯å¢ƒå˜é‡ï¼Œä»¥ä¾¿åœ¨å…¨å±€ä½¿ç”¨ Redis ç›¸å…³å‘½ä»¤</span></span><br><span class="line">âœ  <span class="built_in">echo</span> <span class="string">&#x27;export PATH=&quot;$PATH:/usr/local/redis/bin&quot;&#x27;</span> &gt;&gt; /etc/profile</span><br><span class="line">âœ  <span class="built_in">source</span> /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="comment"># éªŒè¯</span></span><br><span class="line">âœ  redis-cli -v</span><br><span class="line">redis-cli 5.0.5</span><br></pre></td></tr></table></figure>

<h3 id="4-ä¿®æ”¹é»˜è®¤é…ç½®æ–‡ä»¶"><a href="#4-ä¿®æ”¹é»˜è®¤é…ç½®æ–‡ä»¶" class="headerlink" title="4. ä¿®æ”¹é»˜è®¤é…ç½®æ–‡ä»¶"></a>4. ä¿®æ”¹é»˜è®¤é…ç½®æ–‡ä»¶</h3><p>è¿™é‡Œåªæ˜¯ä¸€äº›æ¨èçš„å¸¸ç”¨åŸºæœ¬é…ç½®ï¼Œè¯¦ç»†çš„å‚è§é…ç½®æ–‡ä»¶ä¸­å¯¹å„ä¸ªé…ç½®é¡¹çš„è¯´æ˜ï¼Œæˆ–è€…å‚ç…§è¿™é‡Œ <a href="https://www.runoob.com/redis/redis-conf.html">https://www.runoob.com/redis/redis-conf.html</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/redis/etc</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸ºæ–¹ä¾¿ç®¡ç†å¤šä¸ª Redis æœåŠ¡ï¼Œä»¥ç‰ˆæœ¬å·ä½œä¸ºé…ç½®æ–‡ä»¶çš„åç§°åç¼€</span></span><br><span class="line">âœ  mv redis.conf redis_6379.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å§‹ç¼–è¾‘é…ç½®æ–‡ä»¶</span></span><br><span class="line">âœ  vi redis_6379.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># --------------------</span></span><br><span class="line"><span class="comment"># ä»¥ä¸‹æ˜¯å¸¸ç”¨é…ç½®é¡¹</span></span><br><span class="line"><span class="comment"># --------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å¯å®ˆæŠ¤è¿›ç¨‹ï¼ˆåå°ï¼‰æ–¹å¼è¿è¡Œ</span></span><br><span class="line">daemonize yes</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›ç¨‹æ–‡ä»¶</span></span><br><span class="line">pidfile /var/redis/run/redis_6379.pid</span><br><span class="line"></span><br><span class="line"><span class="comment"># åªå…è®¸æŒ‡å®šä¸»æœºè¿æ¥ï¼Œé»˜è®¤ä¸é™åˆ¶</span></span><br><span class="line"><span class="built_in">bind</span> 127.0.0.1</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç«¯å£å·</span></span><br><span class="line">port 6379</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®¢æˆ·ç«¯é—²ç½®å¤šé•¿æ—¶é—´ï¼ˆå•ä½ï¼šsï¼‰å…³é—­è¿æ¥</span></span><br><span class="line"><span class="comment"># é»˜è®¤ 0 ï¼Œæ— é™åˆ¶</span></span><br><span class="line">timeout 300</span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ¬åœ°æŒä¹…åŒ–æ•°æ®æ–‡ä»¶å</span></span><br><span class="line">dbfilename dump_6379.rdb</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å·¥ä½œç›®å½•</span></span><br><span class="line">dir /var/redis/db/</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ—¥å¿—çº§åˆ«</span></span><br><span class="line"><span class="comment"># - debug é€‚ç”¨äºå¼€å‘ã€æµ‹è¯•ï¼Œæ‰“å°çš„ä¿¡æ¯è¾ƒå¤š</span></span><br><span class="line"><span class="comment"># - verbose æ¯” debug ç®€æ´ä¸€äº›</span></span><br><span class="line"><span class="comment"># - notice é»˜è®¤ï¼Œæ™®é€šçš„ verboseï¼Œç”¨äºç”Ÿäº§ç¯å¢ƒ</span></span><br><span class="line"><span class="comment"># - warning è­¦å‘Šå’Œä¸€äº›æ¯”è¾ƒä¸¥é‡çš„ä¿¡æ¯</span></span><br><span class="line">loglevel notice</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ—¥å¿—æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># é»˜è®¤ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰</span></span><br><span class="line"><span class="comment"># å¦‚æœä»¥å®ˆæŠ¤è¿›ç¨‹è¿è¡Œï¼Œå¹¶ä¸”æ­¤å¤„é‡‡ç”¨æ ‡å‡†è¾“å‡ºï¼Œåˆ™æ—¥å¿—å‘é€ç»™ /dev/null</span></span><br><span class="line">logfile /var/redis/<span class="built_in">log</span>/redis_6379.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®¢æˆ·ç«¯è¿æ¥å¯†ç </span></span><br><span class="line"><span class="comment"># ä¸ºä¿è¯æœåŠ¡å®‰å…¨ï¼Œå»ºè®®å¼€å¯å¹¶è®¾ç½®ä¸€ä¸ªå¤æ‚çš„å¯†ç </span></span><br><span class="line">requirepass pwd2019</span><br><span class="line"></span><br><span class="line"><span class="comment"># --------------------</span></span><br><span class="line"><span class="comment"># ä¿å­˜ä¸Šé¢ä¿®æ”¹å¥½çš„é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># --------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºé…ç½®ä¸­ä¸å­˜åœ¨çš„ç›®å½•</span></span><br><span class="line">âœ  mkdir -p /var/redis/&#123;run,<span class="built_in">log</span>,db&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-å¯åŠ¨æœåŠ¡"><a href="#5-å¯åŠ¨æœåŠ¡" class="headerlink" title="5. å¯åŠ¨æœåŠ¡"></a>5. å¯åŠ¨æœåŠ¡</h3><p>åŸºæœ¬å¯åŠ¨æ–¹å¼</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä»¥é»˜è®¤é…ç½®å¯åŠ¨</span></span><br><span class="line">âœ  redis-server</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šé…ç½®æ–‡ä»¶</span></span><br><span class="line">âœ  redis-server /usr/<span class="built_in">local</span>/redis/etc/redis_6379.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ›´å¤šä½¿ç”¨å‚æ•°</span></span><br><span class="line">âœ  redis-server -h</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®¢æˆ·ç«¯è¿æ¥æµ‹è¯•</span></span><br><span class="line">âœ  redis-cli</span><br><span class="line">127.0.0.1:6379&gt; KEYS *</span><br><span class="line">(error) NOAUTH Authentication required.</span><br><span class="line">127.0.0.1:6379&gt; auth pwd2019</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; KEYS *</span><br><span class="line">(empty list or <span class="built_in">set</span>)</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">exit</span></span><br><span class="line">âœ</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨è„šæœ¬å¯åŠ¨</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/src/redis-5.0.5/utils/</span><br><span class="line">âœ  cp redis_init_script /etc/init.d/</span><br><span class="line">âœ  <span class="built_in">cd</span> /etc/init.d/</span><br><span class="line">âœ  mv redis_init_script redis_6379</span><br><span class="line">âœ  vim redis_6379</span><br></pre></td></tr></table></figure>


<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Simple Redis init.d script conceived to work on Linux systems</span></span><br><span class="line"><span class="comment"># as it does use of the /proc filesystem.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### BEGIN INIT INFO</span></span><br><span class="line"><span class="comment"># Provides:     redis_6379</span></span><br><span class="line"><span class="comment"># Default-Start:        2 3 4 5</span></span><br><span class="line"><span class="comment"># Default-Stop:         0 1 6</span></span><br><span class="line"><span class="comment"># Short-Description:    Redis data structure server</span></span><br><span class="line"><span class="comment"># Description:          Redis data structure server. See https://redis.io</span></span><br><span class="line"><span class="comment">### END INIT INFO</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¹æ®å®é™…å®‰è£…æƒ…å†µä¿®æ”¹è¿™é‡Œçš„è·¯å¾„ã€ç«¯å£ã€è¿æ¥å¯†ç </span></span><br><span class="line"></span><br><span class="line">REDISPORT=6379</span><br><span class="line">REDISPWD=pwd2019</span><br><span class="line">EXEC=/usr/<span class="built_in">local</span>/redis/bin/redis-server</span><br><span class="line">CLIEXEC=/usr/<span class="built_in">local</span>/redis/bin/redis-cli</span><br><span class="line"></span><br><span class="line">PIDFILE=/var/run/redis_<span class="variable">$&#123;REDISPORT&#125;</span>.pid</span><br><span class="line">CONF=<span class="string">&quot;/usr/local/redis/etc/redis_<span class="variable">$&#123;REDISPORT&#125;</span>.conf&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;<span class="variable">$1</span>&quot;</span> <span class="keyword">in</span></span><br><span class="line">    start)</span><br><span class="line">        <span class="keyword">if</span> [ -f <span class="variable">$PIDFILE</span> ]</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">                <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$PIDFILE</span> exists, process is already running or crashed&quot;</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">echo</span> <span class="string">&quot;Starting Redis server...&quot;</span></span><br><span class="line">                <span class="variable">$EXEC</span> <span class="variable">$CONF</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">        ;;</span><br><span class="line">    stop)</span><br><span class="line">        <span class="keyword">if</span> [ ! -f <span class="variable">$PIDFILE</span> ]</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">                <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$PIDFILE</span> does not exist, process is not running&quot;</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">                PID=$(cat <span class="variable">$PIDFILE</span>)</span><br><span class="line">                <span class="built_in">echo</span> <span class="string">&quot;Stopping ...&quot;</span></span><br><span class="line">                <span class="keyword">if</span> [ -n <span class="variable">$REDISPWD</span> ]; <span class="keyword">then</span></span><br><span class="line">                        <span class="variable">$CLIEXEC</span> -p <span class="variable">$REDISPORT</span> -a <span class="variable">$REDISPWD</span> shutdown</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                        <span class="variable">$CLIEXEC</span> -p <span class="variable">$REDISPORT</span> shutdown</span><br><span class="line">                <span class="keyword">fi</span></span><br><span class="line">                <span class="keyword">while</span> [ -x /proc/<span class="variable">$&#123;PID&#125;</span> ]</span><br><span class="line">                <span class="keyword">do</span></span><br><span class="line">                    <span class="built_in">echo</span> <span class="string">&quot;Waiting for Redis to shutdown ...&quot;</span></span><br><span class="line">                    sleep 1</span><br><span class="line">                <span class="keyword">done</span></span><br><span class="line">                <span class="built_in">echo</span> <span class="string">&quot;Redis stopped&quot;</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">        ;;</span><br><span class="line">    *)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Please use start or stop as first argument&quot;</span></span><br><span class="line">        ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨è„šæœ¬å¯åŠ¨æœåŠ¡æµ‹è¯•</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ./redis_6379 start</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥æ˜¯å¦å¯åŠ¨æˆåŠŸ</span></span><br><span class="line">âœ  ps -ef | grep redis</span><br><span class="line">root     19262     1  0 01:42 ?        00:00:00 /usr/<span class="built_in">local</span>/redis/bin/redis-server 127.0.0.1:6379</span><br><span class="line">root     19267 19129  0 01:43 pts/0    00:00:00 grep --color=auto redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®¢æˆ·ç«¯è¿æ¥æµ‹è¯•</span></span><br><span class="line">âœ  redis-cli</span><br><span class="line">127.0.0.1:6379&gt; KEYS *</span><br><span class="line">(error) NOAUTH Authentication required.</span><br><span class="line">127.0.0.1:6379&gt; auth pwd2019</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; KEYS *</span><br><span class="line">(empty list or <span class="built_in">set</span>)</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">exit</span></span><br><span class="line">âœ</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœæ­¢æœåŠ¡</span></span><br><span class="line">âœ  ./redis_6379 stop</span><br></pre></td></tr></table></figure>

<h3 id="6-åŠ å…¥å¼€æœºè‡ªå¯åŠ¨"><a href="#6-åŠ å…¥å¼€æœºè‡ªå¯åŠ¨" class="headerlink" title="6. åŠ å…¥å¼€æœºè‡ªå¯åŠ¨"></a>6. åŠ å…¥å¼€æœºè‡ªå¯åŠ¨</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ root ç”¨æˆ·æ“ä½œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ åˆ°è‡ªå¯åŠ¨åˆ—è¡¨</span></span><br><span class="line"><span class="comment"># è¿™é‡Œçš„ redis_6379 ä¸ /etc/init.d/redis_6379 æ–‡ä»¶åä¿æŒä¸€è‡´</span></span><br><span class="line">âœ  chkconfig --add redis_6379</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°† 2 3 4 5 çº§åˆ«è®¾ç½®ä¸ºè‡ªå¯åŠ¨</span></span><br><span class="line">âœ  chkconfig --level 2345 redis_6379 on</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥æ˜¯å¦è®¾ç½®æˆåŠŸ</span></span><br><span class="line">âœ  chkconfig --list | grep redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å¯æ£€æŸ¥è‡ªå¯åŠ¨æ˜¯å¦ç”Ÿæ•ˆ</span></span><br><span class="line">âœ  reboot</span><br></pre></td></tr></table></figure>

<p>åœ¨ CentOS7+ å»ºè®®ä½¿ç”¨ <code>systemctl</code> å‘½ä»¤å¯¹ Redis æœåŠ¡è¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span></span><br><span class="line">âœ  systemctl status redis_6379</span><br><span class="line">â— redis_6379.service - LSB: Redis data structure server</span><br><span class="line">   Loaded: loaded (/etc/rc.d/init.d/redis_6379; bad; vendor preset: disabled)</span><br><span class="line">   Active: active (running) since Mon 2019-11-11 02:21:03 UTC; 3s ago</span><br><span class="line">     Docs: man:systemd-sysv-generator(8)</span><br><span class="line">  Process: 1042 ExecStop=/etc/rc.d/init.d/redis_6379 stop (code=exited, status=0/SUCCESS)</span><br><span class="line">  Process: 1056 ExecStart=/etc/rc.d/init.d/redis_6379 start (code=exited, status=0/SUCCESS)</span><br><span class="line">   CGroup: /system.slice/redis_6379.service</span><br><span class="line">           â””â”€1058 /usr/<span class="built_in">local</span>/redis/bin/redis-server 127.0.0.1:6379</span><br><span class="line"></span><br><span class="line">Nov 11 02:21:03 cnetos7-localhost systemd[1]: Starting LSB: Redis data structure server...</span><br><span class="line">Nov 11 02:21:03 cnetos7-localhost redis_6379[1056]: Starting Redis server...</span><br><span class="line">Nov 11 02:21:03 cnetos7-localhost redis_6379[1056]: 1057:C 11 Nov 2019 02:21:03.594 <span class="comment"># oO0OoO0OoO0Oo Re...0Oo</span></span><br><span class="line">Nov 11 02:21:03 cnetos7-localhost redis_6379[1056]: 1057:C 11 Nov 2019 02:21:03.594 <span class="comment"># Redis version=5....ted</span></span><br><span class="line">Nov 11 02:21:03 cnetos7-localhost redis_6379[1056]: 1057:C 11 Nov 2019 02:21:03.594 <span class="comment"># Configuration loaded</span></span><br><span class="line">Nov 11 02:21:03 cnetos7-localhost systemd[1]: Started LSB: Redis data structure server.</span><br><span class="line">Hint: Some lines were ellipsized, use -l to show <span class="keyword">in</span> full.</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨æœåŠ¡</span></span><br><span class="line">âœ  systemctl start redis_6379</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…³é—­æœåŠ¡</span></span><br><span class="line">âœ  systemctl stop redis_6379</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Redis</tag>
        <tag>ç¼“å­˜</tag>
      </tags>
  </entry>
  <entry>
    <title>Markdown çš„é”šç‚¹é“¾æ¥å¦‚ä½•å†™</title>
    <url>/post/2762528363.html</url>
    <content><![CDATA[<blockquote>
<p>HTML å½¢å¼çš„é”šç‚¹é“¾æ¥åœ¨ Markdown ä¸­å¹¶ä¸èƒ½è¢«å¾ˆå¥½çš„æ”¯æŒï¼Œå°¤å…¶æ˜¯ä»¥ Github ä¸ºä»£è¡¨çš„å¹³å°ä¸Šï¼Œå…¶å®å®ƒæœ‰è‡ªå·±çš„è§„åˆ™ï¼Œå°†åœ¨æœ¬æ–‡è¯¦ç»†è¿›è¡Œé˜è¿°ã€‚</p>
</blockquote>
<span id="more"></span>

<p>å¯æŠŠé¼ æ ‡æ”¾åˆ° Github çš„æ ‡é¢˜ä¸Šè¿›è¡Œè§‚å¯Ÿï¼Œå¦‚ä¸‹å›¾</p>
<p><img data-src="https://static.sqiang.net/image/post/markdown_anchor.png"></p>
<ol>
<li><p>ä»»æ„ 1-6 ä¸ª <strong>#</strong> æ ‡æ³¨çš„æ ‡é¢˜éƒ½ä¼šè¢«æ·»åŠ ä¸ŠåŒåçš„é”šç‚¹é“¾æ¥</p>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[æ ‡é¢˜1](#æ ‡é¢˜1)</span><br><span class="line">[æ ‡é¢˜2](#æ ‡é¢˜2)</span><br><span class="line">[æ ‡é¢˜3](#æ ‡é¢˜3)</span><br><span class="line"></span><br><span class="line"># æ ‡é¢˜1</span><br><span class="line">## æ ‡é¢˜2</span><br><span class="line">### æ ‡é¢˜3</span><br></pre></td></tr></table></figure></li>
<li><p>é”šç‚¹è·³è½¬çš„æ ‡è¯†åç§°ï¼Œå¯ä½¿ç”¨ä»»æ„å­—ç¬¦ï¼Œå¤§å†™å­—æ¯è¦è½¬æ¢æˆå°å†™</p>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[Githubæ ‡é¢˜1](#githubæ ‡é¢˜1)</span><br><span class="line"></span><br><span class="line">### Githubæ ‡é¢˜1</span><br></pre></td></tr></table></figure></li>
<li><p>å¤šå•è¯é”šç‚¹çš„ç©ºæ ¼ç”¨ <strong>-</strong> ä»£æ›¿</p>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[Github æ ‡é¢˜2 Test](#github-æ ‡é¢˜2-test)</span><br><span class="line"></span><br><span class="line">### Github æ ‡é¢˜2 Test</span><br></pre></td></tr></table></figure></li>
<li><p>å¤šçº§åºå·éœ€è¦å»é™¤ <strong>.</strong></p>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[2.3. Github æ ‡é¢˜](#23-github-æ ‡é¢˜)</span><br><span class="line"></span><br><span class="line">### 2.3. Github æ ‡é¢˜</span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼š</p>
<p>éè‹±æ–‡çš„é”šç‚¹å­—ç¬¦ï¼Œåœ¨å•å‡»è·³è½¬æ—¶ï¼Œåœ¨æµè§ˆå™¨çš„ url ä¸­ä¼šæŒ‰ç…§è§„åˆ™è¿›è¡Œ encode å’Œ decode</p>
</blockquote>
]]></content>
      <categories>
        <category>å…¶å®ƒ</category>
      </categories>
      <tags>
        <tag>æ–‡æ¡£ç¼–å†™å·¥å…·</tag>
        <tag>Markdown</tag>
      </tags>
  </entry>
  <entry>
    <title>Markdown åŸºæœ¬è¯­æ³•</title>
    <url>/post/2023023504.html</url>
    <content><![CDATA[<blockquote>
<p>è¿™é‡Œåªæ˜¯åˆ—ä¸¾ä¸€äº›æœ€åŸºæœ¬ã€é€šç”¨çš„ Markdown è¯­æ³•ï¼Œå…¶å®ƒçš„ä¸€äº›é«˜çº§ç”¨æ³•ï¼Œæ¯”å¦‚ç”˜ç‰¹å›¾ã€æµç¨‹å›¾ç­‰ï¼Œç”±äºä¸èƒ½è¢«å¹¿æ³›æ”¯æŒï¼Œæ‰€ä»¥ä¸å†è¯´æ˜ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥è‡ªå·±æŸ¥ä¸€ä¸‹ã€‚</p>
</blockquote>
<span id="more"></span>

<h3 id="æ ‡é¢˜"><a href="#æ ‡é¢˜" class="headerlink" title="æ ‡é¢˜"></a>æ ‡é¢˜</h3><blockquote>
<p>âš ï¸ æ³¨æ„ï¼š# å·åé¢å¿…é¡»ç´§è·Ÿä¸€ä¸ªç©ºæ ¼</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># ä¸€çº§æ ‡é¢˜</span><br><span class="line">## äºŒçº§æ ‡é¢˜</span><br><span class="line">### ä¸‰çº§æ ‡é¢˜</span><br><span class="line">#### å››çº§æ ‡é¢˜</span><br><span class="line">##### äº”çº§æ ‡é¢˜</span><br><span class="line">###### å…­çº§æ ‡é¢˜</span><br></pre></td></tr></table></figure>

<h3 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h3><h4 id="æœ‰åº"><a href="#æœ‰åº" class="headerlink" title="æœ‰åº"></a>æœ‰åº</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. åˆ—è¡¨1</span><br><span class="line">2. åˆ—è¡¨2</span><br><span class="line">3. åˆ—è¡¨3</span><br></pre></td></tr></table></figure>

<h4 id="æ— åº"><a href="#æ— åº" class="headerlink" title="æ— åº"></a>æ— åº</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">* åˆ—è¡¨</span><br><span class="line">- åˆ—è¡¨</span><br><span class="line">+ åˆ—è¡¨</span><br></pre></td></tr></table></figure>

<blockquote>
<p>âš ï¸ æ³¨æ„ï¼š</p>
<ul>
<li><p>ç¬¦å·è¦å’Œæ–‡å­—ä¹‹é—´åŠ ä¸Šä¸€ä¸ªå­—ç¬¦çš„ç©ºæ ¼</p>
</li>
<li><p>é¿å…é”™è¯¯çš„æœ‰åºåˆ—è¡¨</p>
<pre><code> 1987\.2\.7 å‡ºç”Ÿåœ¨xxx
</code></pre>
</li>
<li><p>åˆ—è¡¨ä¸­çš„å¼•ç”¨</p>
<p>  å¼•ç”¨ä¸€è¡Œçš„å‰é¢å¿…é¡»ç¼©è¿›ï¼Œè‡³å°‘2ä¸ªç©ºæ ¼æˆ–1ä¸ª tab</p>
</li>
</ul>
</blockquote>
<h3 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&gt; è¿™æ˜¯å¼•ç”¨çš„å†…å®¹</span><br><span class="line"></span><br><span class="line">&gt;&gt; è¿™æ˜¯å¼•ç”¨ä¸­çš„å¼•ç”¨ï¼ˆåµŒå¥—å¼•ç”¨ï¼‰</span><br><span class="line"></span><br><span class="line">&gt; å¼•ç”¨ä¸­ä¹Ÿå¯ä»¥åµŒå¥—å…¶å®ƒ Markdown è¯­æ³•ï¼Œæ¯”å¦‚æ ‡é¢˜ã€åˆ—è¡¨ã€åŒºå—ç­‰</span><br></pre></td></tr></table></figure>

<h3 id="å¼ºè°ƒ"><a href="#å¼ºè°ƒ" class="headerlink" title="å¼ºè°ƒ"></a>å¼ºè°ƒ</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">*è¿™æ˜¯æ–œä½“æ–‡å­—*</span><br><span class="line">**è¿™æ˜¯ç²—ä½“æ–‡å­—**</span><br></pre></td></tr></table></figure>

<h3 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h3><h4 id="æ™®é€šé“¾æ¥"><a href="#æ™®é€šé“¾æ¥" class="headerlink" title="æ™®é€šé“¾æ¥"></a>æ™®é€šé“¾æ¥</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[é“¾æ¥æè¿°](http://example.com)</span><br><span class="line">[é“¾æ¥æè¿°](http://example.com &quot;æ ‡é¢˜å±æ€§&quot;)</span><br><span class="line">See my [About](/about/) page for details.</span><br></pre></td></tr></table></figure>

<h4 id="å›¾ç‰‡é“¾æ¥"><a href="#å›¾ç‰‡é“¾æ¥" class="headerlink" title="å›¾ç‰‡é“¾æ¥"></a>å›¾ç‰‡é“¾æ¥</h4><p>ç›¸å¯¹åœ°å€</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">![æè¿°](example.jpg)</span><br><span class="line">![æè¿°](folder name/example.jpg)</span><br></pre></td></tr></table></figure>

<p>ç»å¯¹åœ°å€</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä¸Šä¼ åˆ°ç¬¬ä¸‰æ–¹å›¾åºŠå·¥å…·ï¼Œæ¯”å¦‚ï¼š[ä¸ƒç‰›äº‘]()</span><br></pre></td></tr></table></figure>

<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><h4 id="è¡Œé—´"><a href="#è¡Œé—´" class="headerlink" title="è¡Œé—´"></a>è¡Œé—´</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">`var param = 1;`</span><br></pre></td></tr></table></figure>

<h4 id="ä»£ç å—"><a href="#ä»£ç å—" class="headerlink" title="ä»£ç å—"></a>ä»£ç å—</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">` ``php</span><br><span class="line">function example() &#123;</span><br><span class="line">    echo &#x27;Hello World&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">` ``</span><br></pre></td></tr></table></figure>

<blockquote>
<p>âš ï¸ æ³¨æ„ï¼š</p>
<ul>
<li>ç¬¦å· ` æ˜¯é”®ç›˜å·¦ä¸Šè§’ï¼ˆESCä¸‹é¢ï¼‰çš„â€œ~â€è‹±æ–‡çŠ¶æ€</li>
<li>ä»£ç å—ä¸­ï¼Œä½¿ç”¨ tab è¿›è¡Œç¼©è¿›</li>
</ul>
</blockquote>
<h3 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">| Tables        | Are           | Cool  |</span><br><span class="line">| ------------- |:-------------:| -----:|</span><br><span class="line">| col 3 is      | right-aligned | $1600 |</span><br><span class="line">| col 2 is      | centered      |   $12 |</span><br><span class="line">| zebra stripes | are neat      |    $1 |</span><br></pre></td></tr></table></figure>

<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šç¬¬äºŒè¡Œçš„ : è¡¨ç¤ºåˆ—å†…å®¹å¯¹é½æ–¹å¼</p>
</blockquote>
<h3 id="åˆ†å‰²çº¿"><a href="#åˆ†å‰²çº¿" class="headerlink" title="åˆ†å‰²çº¿"></a>åˆ†å‰²çº¿</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ˜Ÿå·</span><br><span class="line">***</span><br><span class="line"></span><br><span class="line">å‡å·</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">ä¸‹åˆ’çº¿</span><br><span class="line">___</span><br></pre></td></tr></table></figure>


<h3 id="å¾…åŠäº‹é¡¹"><a href="#å¾…åŠäº‹é¡¹" class="headerlink" title="å¾…åŠäº‹é¡¹"></a>å¾…åŠäº‹é¡¹</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">- [x] å·²å®Œæˆé¡¹ç›®1</span><br><span class="line">    - [x] å·²å®Œæˆé¡¹ç›®1-1</span><br><span class="line">    - [x] å·²å®Œæˆé¡¹ç›®1-2</span><br><span class="line">- [x] å·²å®Œæˆé¡¹ç›®2</span><br><span class="line">- [ ] å¾…åŠ1</span><br><span class="line">- [ ] å¾…åŠ2</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>å…¶å®ƒ</category>
      </categories>
      <tags>
        <tag>Markdown</tag>
        <tag>æ–‡æ¡£å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoæœ€ä½³å®è·µæ¨è</title>
    <url>/post/1938539149.html</url>
    <content><![CDATA[<blockquote>
<p>è¯¥å®è·µå…¶å®æ˜¯ä¸€ä¸ªç›®å½•æ“ä½œè§„èŒƒï¼Œä»¥æ˜“äºä½¿ç”¨ä¸ºæœ€ç»ˆç›®çš„ï¼Œå°†éœ€è¦ä¸ªæ€§åŒ–å’Œç»å¸¸ä¼šå˜åŠ¨çš„ç›®å½•æˆ–æ–‡ä»¶ç‹¬ç«‹å‡ºæ¥ï¼Œå€ŸåŠ©ç®€å•çš„ Shell è„šæœ¬è¿›è¡Œ Hexo çš„åˆå§‹åŒ–åŠ NexT ä¸»é¢˜çš„å‡çº§ã€‚</p>
<p>è¯´æ˜ï¼šæ¥æºäºä¸ªäººä½¿ç”¨è¿‡ç¨‹ä¸­çš„æ€»ç»“ï¼Œå¯èƒ½å¹¶ä¸é€‚åˆæ‰€æœ‰äººï¼Œä»…ä¾›å‚è€ƒã€‚</p>
</blockquote>
<span id="more"></span>

<h3 id="1-æœ€ç»ˆç›®å½•ç»“æ„"><a href="#1-æœ€ç»ˆç›®å½•ç»“æ„" class="headerlink" title="1. æœ€ç»ˆç›®å½•ç»“æ„"></a>1. æœ€ç»ˆç›®å½•ç»“æ„</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ config_hexo.yml <span class="comment"># è½¯é“¾æ¥åˆ° Hexo é…ç½®æ–‡ä»¶</span></span><br><span class="line">â”œâ”€â”€ config_next.yml <span class="comment"># è½¯é“¾æ¥åˆ° NexT ä¸»é¢˜é…ç½®æ–‡ä»¶</span></span><br><span class="line">â”œâ”€â”€ core <span class="comment"># Hexo æ ¹ç›®å½•ï¼Œå¯è‡ªå®šä¹‰</span></span><br><span class="line">â”‚Â Â  â”œâ”€â”€ _config.yml -&gt; ../config_hexo.yml <span class="comment"># ä¸ªäººä¿®æ”¹åçš„é…ç½®æ–‡ä»¶</span></span><br><span class="line">â”‚Â Â  â”œâ”€â”€ _config.yml.bak <span class="comment"># åŸ Hexo é…ç½®æ–‡ä»¶</span></span><br><span class="line">â”‚Â Â  â”œâ”€â”€ db.json</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ node_modules</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ package-lock.json</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ package.json</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ public</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ scaffolds</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ <span class="built_in">source</span> -&gt; ../source_hexo <span class="comment"># ä¸ªäººå˜åŠ¨åçš„èµ„æºç›®å½•</span></span><br><span class="line">â”‚Â Â  â”œâ”€â”€ source_bak <span class="comment"># åŸ Hexo èµ„æºç›®å½•çš„å¤‡ä»½</span></span><br><span class="line">â”‚Â Â  â””â”€â”€ themes</span><br><span class="line">â”‚Â Â      â”œâ”€â”€ landscape <span class="comment"># Hexo é»˜è®¤ä¸»é¢˜æ ¹ç›®å½•</span></span><br><span class="line">â”‚Â Â      â””â”€â”€ next <span class="comment"># NexT ä¸»é¢˜æ ¹ç›®å½•</span></span><br><span class="line">â”‚          â”œâ”€â”€ LICENSE.md</span><br><span class="line">â”‚          â”œâ”€â”€ README.md</span><br><span class="line">â”‚          â”œâ”€â”€ _config.yml -&gt; ../../../config_next.yml <span class="comment"># ä¸ªäººä¿®æ”¹åçš„é…ç½®æ–‡ä»¶</span></span><br><span class="line">â”‚          â”œâ”€â”€ _config.yml.bak <span class="comment"># åŸä¸»é¢˜é…ç½®æ–‡ä»¶çš„å¤‡ä»½</span></span><br><span class="line">â”‚          â”œâ”€â”€ crowdin.yml</span><br><span class="line">â”‚          â”œâ”€â”€ docs</span><br><span class="line">â”‚          â”œâ”€â”€ gulpfile.js</span><br><span class="line">â”‚          â”œâ”€â”€ languages</span><br><span class="line">â”‚          â”œâ”€â”€ layout</span><br><span class="line">â”‚          â”œâ”€â”€ package.json</span><br><span class="line">â”‚          â”œâ”€â”€ scripts</span><br><span class="line">â”‚          â””â”€â”€ <span class="built_in">source</span> <span class="comment"># ä¸»é¢˜ä¸‹çš„èµ„æºç›®å½•</span></span><br><span class="line">â”œâ”€â”€ deploy.sh <span class="comment"># 3. åŒæ­¥è¿œç¨‹æœåŠ¡å™¨è„šæœ¬</span></span><br><span class="line">â”œâ”€â”€ init.sh <span class="comment"># 1. Hexo åˆå§‹åŒ–è„šæœ¬</span></span><br><span class="line">â”œâ”€â”€ source_hexo <span class="comment"># è½¯é“¾æ¥åˆ° Hexo ä¸‹çš„èµ„æºç›®å½•</span></span><br><span class="line">â”œâ”€â”€ source_next <span class="comment"># éœ€è¦æ·»åŠ åˆ° NexT ä¸‹èµ„æºç›®å½•çš„æ–‡ä»¶æ”¾è¿™é‡Œ</span></span><br><span class="line">â””â”€â”€ update_next.sh <span class="comment"># 2. NexT ä¸»é¢˜å‡çº§è„šæœ¬</span></span><br></pre></td></tr></table></figure>

<h4 id="1-1-åœ¨-Github-ä¸Šæˆ‘ä»¬éœ€è¦å»ºç«‹ä¸¤ä¸ªä»“åº“"><a href="#1-1-åœ¨-Github-ä¸Šæˆ‘ä»¬éœ€è¦å»ºç«‹ä¸¤ä¸ªä»“åº“" class="headerlink" title="1.1. åœ¨ Github ä¸Šæˆ‘ä»¬éœ€è¦å»ºç«‹ä¸¤ä¸ªä»“åº“"></a>1.1. åœ¨ Github ä¸Šæˆ‘ä»¬éœ€è¦å»ºç«‹ä¸¤ä¸ªä»“åº“</h4><ul>
<li><code>username/username.github.io</code> å¯¹åº” Hexo éƒ¨ç½²çš„ç›®æ ‡ç›®å½•ï¼Œåœ¨ Hexo æ ¹ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œè®¾ç½®ã€‚</li>
<li><code>username/blog.xxx.com</code> åå­—éšæ„ï¼Œå¯¹åº”ä¸Šé¢çš„ç›®å½•ã€‚å…¶ä¸­ <code>core</code> ç›®å½•éœ€è¦æ·»åŠ åˆ° <code>.gitignore</code> æ–‡ä»¶ã€‚</li>
</ul>
<h4 id="1-2-å¦‚ä½•ä½¿ç”¨"><a href="#1-2-å¦‚ä½•ä½¿ç”¨" class="headerlink" title="1.2. å¦‚ä½•ä½¿ç”¨"></a>1.2. å¦‚ä½•ä½¿ç”¨</h4><blockquote>
<p>âš ï¸ è¯´æ˜ï¼šæ¯æ¬¡å†™æ–‡ç« åªéœ€è¦æ­¥éª¤ 3 ~ 5ï¼Œåªæœ‰å½“åˆ‡æ¢åˆ°ä¸€ä¸ªæ–°çš„å·¥ä½œç¯å¢ƒæ—¶ï¼Œæ‰éœ€è¦æ‰§è¡Œå®Œæ•´çš„æ­¥éª¤ 1 ï½ 5ã€‚</p>
</blockquote>
<ol>
<li><p>ä» Github æ‹‰ä¸‹æ¥ç¯å¢ƒä»“åº“</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  git <span class="built_in">clone</span> https://github.com/username/blog.xxx.com.git</span><br></pre></td></tr></table></figure></li>
<li><p>åˆå§‹åŒ– Hexo ç¯å¢ƒ</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># âš ï¸ å‰æï¼šä½ å·²ç»å®‰è£…å¥½äº† NodeJS ç¯å¢ƒ å’Œ hexo-cli</span></span><br><span class="line"><span class="comment"># å¦‚æœéœ€è¦ï¼Œå¯ä»¥è‡ªè¡Œä¿®æ”¹ shell æ–‡ä»¶</span></span><br><span class="line">âœ  chmod u+x init.sh</span><br><span class="line">âœ  ./init.sh</span><br></pre></td></tr></table></figure></li>
<li><p>è¿›å…¥ Hexo æ ¹ç›®å½•</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># core çš„åå­—å¯ä»¥åœ¨è„šæœ¬ init.sh ä¸­ä¿®æ”¹</span></span><br><span class="line">âœ  <span class="built_in">cd</span> core</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºä¸€ç¯‡æ–‡ç« </span></span><br><span class="line">âœ  hexo new post <span class="string">&quot;ä¸€ç¯‡æ–°æ–‡ç« &quot;</span></span><br></pre></td></tr></table></figure></li>
<li><p>Hexo å‘å¸ƒéƒ¨ç½²</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  hexo clean &amp;&amp; hexo g -d</span><br></pre></td></tr></table></figure></li>
<li><p>å°†æœ¬æ¬¡ä¿®æ”¹æ¨é€åˆ°ä»“åº“</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å…ˆé€€å›åˆ° core ç›®å½•åˆ°ä¸Šä¸€çº§ï¼Œå³ä»“åº“æ ¹ç›®å½•</span></span><br><span class="line">âœ  git add .</span><br><span class="line">âœ  git commit -m <span class="string">&quot;æ–°å¢æ–‡ç« &quot;</span></span><br><span class="line">âœ  git push</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="2-è„šæœ¬æ–‡ä»¶"><a href="#2-è„šæœ¬æ–‡ä»¶" class="headerlink" title="2. è„šæœ¬æ–‡ä»¶"></a>2. è„šæœ¬æ–‡ä»¶</h3><h4 id="init-sh"><a href="#init-sh" class="headerlink" title="init.sh"></a><code>init.sh</code></h4><p>å½“åˆ‡æ¢åˆ°ä¸€ä¸ªæ–°çš„å·¥ä½œç¯å¢ƒæ—¶ï¼Œä½¿ç”¨è¯¥è„šæœ¬åˆå§‹åŒ– Hexo åŠåŸºäºåŸæ•°æ®çš„å·¥ä½œç¯å¢ƒï¼Œä¹‹åä¾¿å¯ä»¥ç»§ç»­å†™æ–‡ç« ã€å‘å¸ƒäº†ã€‚</p>
<p>ç¤ºä¾‹æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆå§‹åŒ– Hexo</span></span><br><span class="line"><span class="comment"># æ³¨æ„ï¼Œè¿™é‡Œå¹¶æ²¡æœ‰æ£€æŸ¥ NodeJS ç¯å¢ƒ å’Œ hexo-cli</span></span><br><span class="line"><span class="comment"># å¦‚æœéœ€è¦ï¼Œå¯è‡ªè¡Œæ‰©å±•</span></span><br><span class="line">hexo init core</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…ä¾èµ–ï¼Œä¿®æ”¹é…ç½®</span></span><br><span class="line"><span class="built_in">cd</span> core</span><br><span class="line">npm install</span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line">npm install hexo-generator-searchdb --save</span><br><span class="line">npm install hexo-abbrlink --save</span><br><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line">npm install hexo-generator-baidu-sitemap --save</span><br><span class="line">npm install hexo-filter-nofollow --save</span><br><span class="line">mv _config.yml _config.yml.bak</span><br><span class="line">ln -s ../config_hexo.yml _config.yml</span><br><span class="line">mv <span class="built_in">source</span> source_bak</span><br><span class="line">ln -s ../source_hexo <span class="built_in">source</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…ã€é…ç½®ä¸»é¢˜</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/theme-next/hexo-theme-next themes/next</span><br><span class="line"><span class="built_in">cd</span> themes/next</span><br><span class="line">mv _config.yml _config.yml.bak</span><br><span class="line">ln -s ../../../config_next.yml _config.yml</span><br><span class="line">\cp -rp ../../../source_next/* <span class="built_in">source</span></span><br></pre></td></tr></table></figure>

<h4 id="update-next-sh"><a href="#update-next-sh" class="headerlink" title="update_next.sh"></a><code>update_next.sh</code></h4><p>å½“éœ€è¦å‡çº§ NexT ä¸»é¢˜æ—¶ä½¿ç”¨ï¼Œç¤ºä¾‹æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿˜åŸæœ¬åœ°ä¿®æ”¹</span></span><br><span class="line"><span class="built_in">cd</span> core/themes/next</span><br><span class="line">git checkout . &amp;&amp; git clean -xdf</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–°æºç </span></span><br><span class="line">git pull</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¢å¤ä¿®æ”¹</span></span><br><span class="line">mv _config.yml _config.yml.bak</span><br><span class="line">ln -s ../../../config_next.yml _config.yml</span><br><span class="line">\cp -rp ../../../source_next/* <span class="built_in">source</span></span><br></pre></td></tr></table></figure>

<h4 id="deploy-sh"><a href="#deploy-sh" class="headerlink" title="deploy.sh"></a><code>deploy.sh</code></h4><p>è¯¥è„šæœ¬éå¿…é¡»ï¼Œåªæœ‰éœ€è¦å°†æœ€ç»ˆéƒ¨ç½²å¥½çš„æ–‡ä»¶åˆ†å‘åˆ°ä¸åŒæœåŠ¡å™¨æ—¶æ‰ç”¨å¾—åˆ°ã€‚</p>
<p>åŒæ­¥æ–¹å¼æ¨èä½¿ç”¨ <code>rsync</code> å‘½ä»¤ï¼Œè¿™é‡Œä¸å†å…·ä½“ä¸¾ä¾‹ã€‚å…³äºè¯¥å·¥å…·åˆ°ä½¿ç”¨ï¼Œå¯ä»¥å‚é˜…ï¼š<a href="/post/1236124429.html">rsync çš„åŸºæœ¬ä½¿ç”¨å…¥é—¨</a></p>
]]></content>
      <categories>
        <category>å…¶å®ƒ</category>
      </categories>
      <tags>
        <tag>å…¶å®ƒ</tag>
        <tag>Hexo</tag>
        <tag>NexT</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoæ·»åŠ è‡ªå®šä¹‰404é¡µé¢</title>
    <url>/post/2039108116.html</url>
    <content><![CDATA[<h5 id="1-åˆ›å»ºè‡ªå®šä¹‰é¡µé¢"><a href="#1-åˆ›å»ºè‡ªå®šä¹‰é¡µé¢" class="headerlink" title="1. åˆ›å»ºè‡ªå®šä¹‰é¡µé¢"></a>1. åˆ›å»ºè‡ªå®šä¹‰é¡µé¢</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">âœ  cd hexo_root_path &amp;&amp; hexo new page 404</span><br></pre></td></tr></table></figure>

<h5 id="2-ä¿®æ”¹-404-æ–‡ä»¶"><a href="#2-ä¿®æ”¹-404-æ–‡ä»¶" class="headerlink" title="2. ä¿®æ”¹ 404 æ–‡ä»¶"></a>2. ä¿®æ”¹ 404 æ–‡ä»¶</h5><p>æ‰“å¼€ <code>source/404/index.md</code>ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p>
<span id="more"></span>

<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: &#x27;404&#x27;</span><br><span class="line">permalink: /404</span><br><span class="line">date: 2020-10-16 15:19:35</span><br><span class="line">comments: false</span><br><span class="line"><span class="section">layout: false</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line"></span><br><span class="line">&lt;!DOCTYPE HTML&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;content-type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html;charset=utf-8;&quot;</span>/&gt;</span></span></span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge,chrome=1&quot;</span> /&gt;</span></span></span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;robots&quot;</span> <span class="attr">content</span>=<span class="string">&quot;all&quot;</span> /&gt;</span></span></span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;robots&quot;</span> <span class="attr">content</span>=<span class="string">&quot;index,follow&quot;</span>/&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js&quot;</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> <span class="attr">homePageUrl</span>=<span class="string">&quot;https://blog.sqiang.net&quot;</span> <span class="attr">homePageName</span>=<span class="string">&quot;è¿”å›åšå®¢é¦–é¡µ&quot;</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>æç¤º</strong>ï¼šè¿™é‡Œæ˜¯ç›´æ¥ä½¿ç”¨çš„<a href="https://www.qq.com/404/">è…¾è®¯å…¬ç›Š404é¡µé¢</a>ï¼Œä½ ä¹Ÿå¯ä»¥æ·»åŠ ä»»æ„æ–‡å­—æˆ– HTML ä»£ç ï¼Œåªè¦ä¿è¯å¤´éƒ¨ <code>---</code> ä¸­é—´çš„è®¾ç½®ä¸æœ¬æ–‡ä¸€è‡´å³å¯ã€‚</p>
</blockquote>
<h5 id="3-éƒ¨ç½²"><a href="#3-éƒ¨ç½²" class="headerlink" title="3. éƒ¨ç½²"></a>3. éƒ¨ç½²</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">âœ  hexo clean &amp;&amp; hexo g -d</span><br></pre></td></tr></table></figure>

<h5 id="4-ä¿®æ”¹æœåŠ¡å™¨è®¾ç½®"><a href="#4-ä¿®æ”¹æœåŠ¡å™¨è®¾ç½®" class="headerlink" title="4. ä¿®æ”¹æœåŠ¡å™¨è®¾ç½®"></a>4. ä¿®æ”¹æœåŠ¡å™¨è®¾ç½®</h5><ul>
<li>Github Pages ä¸éœ€è¦ç‰¹æ®Šå¤„ç†</li>
</ul>
<ul>
<li><p>Nginx</p>
  <figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¿®æ”¹æˆ–æ·»åŠ ä»¥ä¸‹ 404 é¡µé¢é…ç½®</span></span><br><span class="line"><span class="attribute">error_page</span>   <span class="number">404</span>   /<span class="number">404</span>.html;</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="5-ok"><a href="#5-ok" class="headerlink" title="5. ok"></a>5. ok</h5>]]></content>
      <categories>
        <category>å…¶å®ƒ</category>
      </categories>
      <tags>
        <tag>å…¶å®ƒ</tag>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäº Hexo å¿«é€Ÿæ„å»ºä¸ªäººé™æ€åšå®¢ç³»ç»Ÿ</title>
    <url>/post/525717070.html</url>
    <content><![CDATA[<p>Hexo æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚</p>
<p>åŸºäº <code>Markdown</code> è§£æå‡ºæ–‡ç« å†…å®¹ï¼Œå¿«é€Ÿç”Ÿæˆé™æ€é¡µé¢æ–‡ä»¶ã€‚</p>
<p>æœ¬æ–‡ä»¥å½“å‰åšå®¢ä¸ºä¾‹ï¼Œä»‹ç» Hexo å¦‚ä½•å¿«é€Ÿå»ºç«‹ä¸€ä¸ªé™æ€åšå®¢ï¼Œå¹¶éƒ¨ç½²åœ¨ <code>Github Pages</code> ä¸Šï¼ˆå¦‚æœæ˜¯éƒ¨ç½²åœ¨ Gitee æˆ– Coding ä¸Šï¼Œå¯è‡ªè¡Œä¿®æ”¹æœ¬æ–‡ä¸­ä¸ä¸€æ ·çš„åœ°æ–¹ï¼‰ã€‚</p>
<p>å…³äº Hexo çš„æ›´å¤šä¿¡æ¯ï¼Œè¯¦è§å®˜ç½‘ï¼š<a href="https://hexo.io/zh-cn/">https://hexo.io/zh-cn</a></p>
<span id="more"></span>

<h3 id="1-Hexo"><a href="#1-Hexo" class="headerlink" title="1. Hexo"></a>1. Hexo</h3><h4 id="1-1-å®‰è£…"><a href="#1-1-å®‰è£…" class="headerlink" title="1.1. å®‰è£…"></a>1.1. å®‰è£…</h4><p>ä¾èµ–ï¼š</p>
<ul>
<li>NodeJs <code>v10.0+</code><ul>
<li>è¿™æ˜¯å®˜æ–¹å»ºè®®ï¼Œæœ€å°ä¸ä½äº <code>v8.10</code></li>
<li>æ²¡æœ‰å®‰è£… NodeJs ç¯å¢ƒï¼Œå¯ä»¥å‚è§<a href="/post/3176262256.html">å€ŸåŠ© nvm å®‰è£…ã€ç®¡ç†å¤šä¸ª NodeJS ç‰ˆæœ¬</a></li>
</ul>
</li>
<li>Git</li>
</ul>
<p>å®‰è£…ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å…¨å±€å®‰è£…</span></span><br><span class="line">$ npm install hexo-cli -g</span><br></pre></td></tr></table></figure>

<h4 id="1-2-åˆå§‹åŒ–"><a href="#1-2-åˆå§‹åŒ–" class="headerlink" title="1.2. åˆå§‹åŒ–"></a>1.2. åˆå§‹åŒ–</h4><p>æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œç”¨äºå­˜æ”¾ Hexo åˆå§‹åŒ–ä¹‹åçš„æ‰€æœ‰æ–‡ä»¶ï¼Œä¹‹åå®‰è£…ä¸»é¢˜ã€å†™æ–‡ç« ã€ç½‘ç«™é…ç½®ç­‰éƒ½åœ¨è¿™ä¸ªç›®å½•ä¸‹ã€‚</p>
<p>ç›®å½•åç§°å»ºè®®å–åšå®¢åœ°å€ï¼Œæ¯”å¦‚ï¼š<a href="xxxxx.github.io">xxxxx.github.io</a>ï¼ˆå› ä¸ºæˆ‘çš„åšå®¢æ˜¯éƒ¨ç½²åœ¨ Github Pages ä¸Šçš„ï¼Œ<code>xxxxx</code> å¯¹åº” Github ç”¨æˆ·åï¼Œè¯¦è§ <a href="#31-%E5%88%9B%E5%BB%BA-github-%E4%BB%93%E5%BA%93">3.1. åˆ›å»º Github ä»“åº“</a>ï¼‰ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo init xxxxx.github.io</span><br></pre></td></tr></table></figure>

<h4 id="1-3-ä¸ªæ€§é…ç½®"><a href="#1-3-ä¸ªæ€§é…ç½®" class="headerlink" title="1.3. ä¸ªæ€§é…ç½®"></a>1.3. ä¸ªæ€§é…ç½®</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥ä¸Šä¸€æ­¥åˆå§‹åŒ–å¥½çš„ä¸»ç›®å½•</span></span><br><span class="line">$ <span class="built_in">cd</span> xxxxx.github.io</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å¼€é…ç½®æ–‡ä»¶</span></span><br><span class="line">$ vim _config.yml</span><br></pre></td></tr></table></figure>

<p>æ–‡ä»¶ <code>_config.yml</code> å¯¹åº”æ•´ä¸ªç«™ç‚¹çš„é…ç½®ï¼ŒHexo çš„è¯¦ç»†é…ç½®å‚æ•°è¯´æ˜<a href="https://hexo.io/zh-cn/docs/configuration">è§å®˜ç½‘</a>ã€‚</p>
<p>ä¸‹é¢æ˜¯éƒ¨åˆ†ä¸»è¦é…ç½®çš„è¯´æ˜ï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">whoru</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">&#x27;å­¦ä¹ ã€åˆ†äº«ã€äº¤æµã€æ²‰æ·€&#x27;</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">&#x27;Talk is cheap, just do IT.&#x27;</span></span><br><span class="line"><span class="attr">keywords:</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">whoru.S.Q</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## If your site is put in a subdirectory, set url as &#x27;http://yoursite.com/child&#x27; and root as &#x27;/child/&#x27;</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://blog.sqiang.net</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">:year/:title/</span></span><br><span class="line"><span class="attr">permalink_defaults:</span></span><br><span class="line"><span class="attr">pretty_urls:</span></span><br><span class="line">  <span class="attr">trailing_index:</span> <span class="literal">true</span> <span class="comment"># Set to false to remove trailing &#x27;index.html&#x27; from permalinks</span></span><br><span class="line">  <span class="attr">trailing_html:</span> <span class="literal">true</span> <span class="comment"># Set to false to remove trailing &#x27;.html&#x27; from permalinks</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»£ç é«˜äº®è®¾ç½®</span></span><br><span class="line"><span class="attr">highlight:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">auto_detect:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">tab_replace:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="attr">wrap:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hljs:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é¦–é¡µåˆ†é¡µè®¾ç½®</span></span><br><span class="line"><span class="attr">index_generator:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="number">5</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">-date</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å½’æ¡£é¡µåˆ†é¡µè®¾ç½®</span></span><br><span class="line"><span class="attr">per_page:</span> <span class="number">20</span></span><br><span class="line"><span class="attr">pagination_dir:</span> <span class="string">page</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸»é¢˜</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">landscape</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åšå®¢å‘å¸ƒåœ°å€ï¼ˆå¯¹åº” Github ä¸Šåˆ›å»ºçš„ Pages ä»“åº“ï¼‰</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://github.com/whorusq/xxxxx.github.io.git</span></span><br></pre></td></tr></table></figure>

<h4 id="1-4-å¯åŠ¨æœ¬åœ°é¢„è§ˆ"><a href="#1-4-å¯åŠ¨æœ¬åœ°é¢„è§ˆ" class="headerlink" title="1.4. å¯åŠ¨æœ¬åœ°é¢„è§ˆ"></a>1.4. å¯åŠ¨æœ¬åœ°é¢„è§ˆ</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo s</span><br><span class="line">INFO  Start processing</span><br><span class="line">INFO  Hexo is running at http://localhost:4000 . Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure>

<h4 id="1-5-æµè§ˆå™¨è®¿é—®"><a href="#1-5-æµè§ˆå™¨è®¿é—®" class="headerlink" title="1.5. æµè§ˆå™¨è®¿é—®"></a>1.5. æµè§ˆå™¨è®¿é—®</h4><p>åœ°å€æ è¾“å…¥ <code>http://localhost:4000</code> è®¿é—®ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img data-src="https://static.sqiang.net/image/post/hexo_init.png"></p>
<h3 id="2-ä¸»é¢˜-NexT"><a href="#2-ä¸»é¢˜-NexT" class="headerlink" title="2. ä¸»é¢˜ NexT"></a>2. ä¸»é¢˜ NexT</h3><blockquote>
<p><code>NexT</code> æ˜¯ <code>Hexo</code> ä¸‹ä¸€ä¸ªä¼˜é›…ä¸”å¼ºå¤§çš„ä¸»é¢˜ï¼Œè¯¦è§å®˜ç½‘ï¼š<a href="https://theme-next.org/docs">https://theme-next.org/docs/</a></p>
</blockquote>
<h4 id="2-1-å®‰è£…"><a href="#2-1-å®‰è£…" class="headerlink" title="2.1. å®‰è£…"></a>2.1. å®‰è£…</h4><h5 id="æ–¹å¼ä¸€ï¼šGit"><a href="#æ–¹å¼ä¸€ï¼šGit" class="headerlink" title="æ–¹å¼ä¸€ï¼šGit"></a>æ–¹å¼ä¸€ï¼šGit</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. è¿›å…¥åˆå§‹åŒ–å¥½çš„ Hexo æ ¹ç›®å½•</span></span><br><span class="line">$ <span class="built_in">cd</span> whorusq.github.io</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. æ‹‰å– NexT æœ€æ–°ä»£ç ï¼ˆé»˜è®¤åˆ†æ”¯ masterï¼‰</span></span><br><span class="line">$ git <span class="built_in">clone</span> https://github.com/theme-next/hexo-theme-next themes/next</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯</span></span><br><span class="line">$ <span class="built_in">cd</span> themes/next</span><br><span class="line">$ git tag -l</span><br><span class="line">...</span><br><span class="line">v7.5.0</span><br><span class="line">v7.6.0</span><br><span class="line">v7.7.0</span><br><span class="line">v7.7.1</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡æ¢ä¸»é¢˜åˆ°ä¸åŒç‰ˆæœ¬</span></span><br><span class="line">$ git checkout tags/v7.5.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡å›æœ€æ–°çš„ master</span></span><br><span class="line">$ git checkout master</span><br></pre></td></tr></table></figure>

<h5 id="æ–¹å¼äºŒï¼šç›´æ¥ä¸‹è½½"><a href="#æ–¹å¼äºŒï¼šç›´æ¥ä¸‹è½½" class="headerlink" title="æ–¹å¼äºŒï¼šç›´æ¥ä¸‹è½½"></a>æ–¹å¼äºŒï¼šç›´æ¥ä¸‹è½½</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. è¿›å…¥åˆå§‹åŒ–å¥½çš„ Hexo æ ¹ç›®å½•</span></span><br><span class="line">$ <span class="built_in">cd</span> whorusq.github.io</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. æ‰‹åŠ¨åˆ›å»ºä¸»é¢˜ç›®å½•</span></span><br><span class="line">$ mkdir themes/next</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. ä¸‹è½½ä¸»é¢˜æºç å¹¶è§£å‹</span></span><br><span class="line">$ curl -L https://api.github.com/repos/theme-next/hexo-theme-next/tarball | tar -zxv -C themes/next --strip-components=1</span><br></pre></td></tr></table></figure>

<h4 id="2-2-ä¸ªæ€§é…ç½®"><a href="#2-2-ä¸ªæ€§é…ç½®" class="headerlink" title="2.2. ä¸ªæ€§é…ç½®"></a>2.2. ä¸ªæ€§é…ç½®</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥ä¸»é¢˜ç›®å½•</span></span><br><span class="line">$ <span class="built_in">cd</span> themes/next</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å¼€é…ç½®æ–‡ä»¶</span></span><br><span class="line">$ vim _config.yml</span><br></pre></td></tr></table></figure>

<p>âš ï¸ æ³¨æ„ï¼šä¸»é¢˜ä¸‹çš„ <code>_config.yml</code> æ–‡ä»¶æ˜¯å½“å‰ä¸»é¢˜å®šåˆ¶çš„é…ç½®é¡¹ï¼Œæ¶‰åŠé¡µé¢æ ·å¼ã€å•é¡µé¢ã€èœå•ç­‰å…·ä½“å±•ç¤ºå±‚çš„ä¸œè¥¿ï¼Œä¸ Hexo æ ¹ç›®å½•ä¸‹çš„ <code>_config.yml</code> åŠŸèƒ½å’Œé€‚ç”¨èŒƒå›´ä¸åŒï¼Œè¦åŒºåˆ«å¼€ã€‚</p>
<p>è¯¦ç»†çš„ä¸»é¢˜é…ç½®è¯´æ˜<a href="https://theme-next.org/docs/theme-settings">è§å®˜ç½‘</a>ï¼Œä¸‹é¢æ˜¯å½“å‰åšå®¢çš„ä¸€ä»½ç¤ºä¾‹é…ç½®ï¼ŒåŒæ ·<strong>åªæ‘˜å–äº†éƒ¨åˆ†é…ç½®ï¼Œåªç”¨äºä¸¾ä¾‹è¯´æ˜å„ä¸»è¦é…ç½®é¡¹</strong>ã€‚</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é¡µé¢åº•éƒ¨è®¾ç½®</span></span><br><span class="line"><span class="attr">footer:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–‡ç« ç‰ˆæƒå±•ç¤ºè®¾ç½®</span></span><br><span class="line"><span class="attr">creative_commons:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸»é¢˜çš„å››ç§é£æ ¼</span></span><br><span class="line"><span class="comment"># Schemes</span></span><br><span class="line"><span class="comment"># scheme: Muse</span></span><br><span class="line"><span class="comment"># scheme: Mist</span></span><br><span class="line"><span class="comment"># scheme: Pisces</span></span><br><span class="line"><span class="attr">scheme:</span> <span class="string">Gemini</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># èœå•è®¾ç½®</span></span><br><span class="line"><span class="comment"># å¯¹åº”çš„å•é¡µéœ€ä½¿ç”¨ hexo new page &quot;about&quot; åˆ›å»º</span></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">home</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">tags</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">th</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">archive</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">user</span></span><br><span class="line">  <span class="comment">#schedule: /schedule/ || calendar</span></span><br><span class="line">  <span class="comment">#sitemap: /sitemap.xml || sitemap</span></span><br><span class="line">  <span class="comment"># commonweal: /404/ || heartbeat</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¾§è¾¹æ è®¾ç½®</span></span><br><span class="line"><span class="attr">sidebar:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¾§è¾¹æ å¤´åƒ</span></span><br><span class="line"><span class="attr">avatar:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¾§è¾¹æ åº•éƒ¨ç¤¾äº¤é“¾æ¥</span></span><br><span class="line"><span class="attr">social:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‹æƒ…è¿æ¥</span></span><br><span class="line"><span class="attr">links:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–‡ç« ç´¢å¼•è®¾ç½®</span></span><br><span class="line"><span class="attr">toc:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é¦–é¡µå±•ç¤ºã€Œé˜…è¯»å…¨æ–‡ã€é“¾æ¥</span></span><br><span class="line"><span class="attr">read_more_btn:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–‡ç« å°¾éƒ¨èµèµè®¾ç½®</span></span><br><span class="line"><span class="attr">reward_settings:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å±•ç¤ºç›¸å…³æ–‡ç« </span></span><br><span class="line"><span class="attr">related_posts:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ‡ç­¾äº‘æ ·å¼</span></span><br><span class="line"><span class="attr">tagcloud:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Multiple Comment System Support</span></span><br><span class="line"><span class="comment"># æ˜¯å¦å¼€å¯å¤šè¯„è®ºåˆ‡æ¢</span></span><br><span class="line"><span class="attr">comments:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å¯æœ¬åœ°æœç´¢</span></span><br><span class="line"><span class="attr">local_search:</span></span><br></pre></td></tr></table></figure>

<h4 id="2-3-æœ¬åœ°é¢„è§ˆ"><a href="#2-3-æœ¬åœ°é¢„è§ˆ" class="headerlink" title="2.3. æœ¬åœ°é¢„è§ˆ"></a>2.3. æœ¬åœ°é¢„è§ˆ</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿”å›æ ¹ç›®å½•</span></span><br><span class="line">$ <span class="built_in">cd</span> xxxxx.github.io</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨æœåŠ¡</span></span><br><span class="line">$ hexo s</span><br></pre></td></tr></table></figure>

<p>å¯åŠ¨åï¼Œåœ°å€æ å†æ¬¡è¾“å…¥ <code>http://localhost:4000</code> è®¿é—®ã€‚</p>
<h3 id="3-å‘å¸ƒ"><a href="#3-å‘å¸ƒ" class="headerlink" title="3. å‘å¸ƒ"></a>3. å‘å¸ƒ</h3><h4 id="3-1-åˆ›å»º-Github-ä»“åº“"><a href="#3-1-åˆ›å»º-Github-ä»“åº“" class="headerlink" title="3.1. åˆ›å»º Github ä»“åº“"></a>3.1. åˆ›å»º Github ä»“åº“</h4><p>åœ¨ Github åˆ›å»ºä¸€ä¸ªæ–°ä»“åº“ï¼Œåç§°ä¸º <code>xxxxx.github.io</code>ï¼Œå…¶ä¸­ <code>xxxxx</code> æ˜¯ä½ çš„ Github ç”¨æˆ·åã€‚å¦‚æœè¦å¼€å¯ Pages æœåŠ¡ï¼Œåˆ™å¿…é¡»éµå®ˆè¿™ä¸ªè§„åˆ™ã€‚</p>
<p>åˆ›å»ºå¥½ä¹‹åï¼Œæµè§ˆå™¨ç›´æ¥è¾“å…¥ <code>xxxxx.github.io</code> è®¿é—®ã€‚</p>
<p>è¿›å…¥ä»“åº“è®¾ç½®ï¼Œæ‰¾åˆ° <code>GitHub Pages</code> éƒ¨åˆ†ï¼Œå¯è‡ªå®šä¹‰åŸŸåå’Œå¼€å¯ <code>HTTPS</code> æ”¯æŒã€‚</p>
<h4 id="3-2-å®‰è£…æ’ä»¶"><a href="#3-2-å®‰è£…æ’ä»¶" class="headerlink" title="3.2. å®‰è£…æ’ä»¶"></a>3.2. å®‰è£…æ’ä»¶</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<h4 id="3-3-ä¿®æ”¹é…ç½®"><a href="#3-3-ä¿®æ”¹é…ç½®" class="headerlink" title="3.3. ä¿®æ”¹é…ç½®"></a>3.3. ä¿®æ”¹é…ç½®</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥æ ¹ç›®å½•ï¼Œæ‰“å¼€ Hexo å…¨å±€é…ç½®æ–‡ä»¶</span></span><br><span class="line">$ <span class="built_in">cd</span> xxxxx.github.io</span><br><span class="line">$ vim _config.yml</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹å¦‚ä¸‹é…ç½®ï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://github.com/xxxxx/xxxxx.github.io.git</span></span><br></pre></td></tr></table></figure>

<p>å…³äºè¯¥è¯¥æ’ä»¶çš„æ›´å¤šè¯¦ç»†é…ç½®ï¼Œå‚è§ <a href="https://github.com/hexojs/hexo-deployer-git">https://github.com/hexojs/hexo-deployer-git</a></p>
<h4 id="3-4-æ‰§è¡Œå‘½ä»¤"><a href="#3-4-æ‰§è¡Œå‘½ä»¤" class="headerlink" title="3.4. æ‰§è¡Œå‘½ä»¤"></a>3.4. æ‰§è¡Œå‘½ä»¤</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo clean &amp;&amp; hexo deploy</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–è€…ç›´æ¥æ‰§è¡Œè¿™æ¡å‘½ä»¤ï¼ˆå¸¸ç”¨ï¼‰</span></span><br><span class="line"><span class="comment"># ç›¸å½“äºä¸ºæ–‡ç« ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œç„¶åéƒ¨ç½²åˆ°æŒ‡å®šçš„ä»“åº“</span></span><br><span class="line"><span class="comment"># g ---&gt; generate</span></span><br><span class="line"><span class="comment"># d ---&gt; deploy</span></span><br><span class="line">$ hexo g -d</span><br></pre></td></tr></table></figure>

<h4 id="3-5-æµè§ˆå™¨è®¿é—®"><a href="#3-5-æµè§ˆå™¨è®¿é—®" class="headerlink" title="3.5. æµè§ˆå™¨è®¿é—®"></a>3.5. æµè§ˆå™¨è®¿é—®</h4><p>è¾“å…¥åœ°å€ï¼š<code>https://xxxxx.github.io</code></p>
<h3 id="4-é™„å½•"><a href="#4-é™„å½•" class="headerlink" title="4. é™„å½•"></a>4. é™„å½•</h3><h4 id="4-1-Hexo-å¸¸ç”¨å‘½ä»¤"><a href="#4-1-Hexo-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="4.1. Hexo å¸¸ç”¨å‘½ä»¤"></a>4.1. Hexo å¸¸ç”¨å‘½ä»¤</h4><p>å®Œæ•´çš„å‘½ä»¤åˆ—è¡¨åŠè¯´æ˜å‚è§å®˜ç½‘<a href="https://hexo.io/zh-cn/docs/commands">æŒ‡ä»¤</a>éƒ¨åˆ†ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä»¥æŒ‡å®šç›®å½•åˆå§‹åŒ– Hexoï¼Œä¸æŒ‡å®šåˆ°è¯åˆ™ä½¿ç”¨å½“å‰ç›®å½•</span></span><br><span class="line">$ hexo init xxxxx.github.io</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºå•é¡µ</span></span><br><span class="line">$ hexo new page <span class="string">&quot;about&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ–‡ç« </span></span><br><span class="line">$ hexo new post <span class="string">&quot;ä¸€ç¯‡æ–°æ–‡ç« çš„æ ‡é¢˜&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨æœ¬åœ°æœåŠ¡</span></span><br><span class="line">$ hexo s</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¸…é™¤ç¼“å­˜æ–‡ä»¶ (db.json) å’Œå·²ç”Ÿæˆçš„é™æ€æ–‡ä»¶ (public)ã€‚</span></span><br><span class="line"><span class="comment"># åœ¨æŸäº›æƒ…å†µï¼ˆå°¤å…¶æ˜¯æ›´æ¢ä¸»é¢˜åï¼‰ï¼Œå¦‚æœå‘ç°æ‚¨å¯¹ç«™ç‚¹çš„æ›´æ”¹æ— è®ºå¦‚ä½•ä¹Ÿä¸ç”Ÿæ•ˆï¼Œå¯èƒ½éœ€è¦è¿è¡Œè¯¥å‘½ä»¤ã€‚</span></span><br><span class="line">$ hexo clean</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸ºæ–‡ç« ç”Ÿæˆé™æ€æ–‡ä»¶</span></span><br><span class="line">$ hexo g</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸ºæ–‡ç« ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œç„¶åéƒ¨ç½²åˆ°æŒ‡å®šä»“åº“</span></span><br><span class="line">$ hexo g -d</span><br></pre></td></tr></table></figure>

<h4 id="4-2-æ¨èæ’ä»¶"><a href="#4-2-æ¨èæ’ä»¶" class="headerlink" title="4.2. æ¨èæ’ä»¶"></a>4.2. æ¨èæ’ä»¶</h4><h5 id="hexo-abbrlink"><a href="#hexo-abbrlink" class="headerlink" title="hexo-abbrlink"></a>hexo-abbrlink</h5><p>ä¸ºæ¯ç¯‡æ–‡ç« ç”Ÿæˆä¸€ä¸ªå”¯ä¸€ IDï¼Œè¯¦è§<a href="https://github.com/Rozbo/hexo-abbrlink#readme">https://github.com/Rozbo/hexo-abbrlink#readme</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. å®‰è£…</span></span><br><span class="line">$ npm install hexo-abbrlink --save</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. æ·»åŠ  Hexo é…ç½®</span></span><br><span class="line">$ <span class="built_in">cd</span> xxxxx.github.io</span><br><span class="line">$ vim _config.yml</span><br></pre></td></tr></table></figure>

<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ³¨é‡Šæ‰é»˜è®¤é…ç½®</span></span><br><span class="line"><span class="comment"># permalink: :year/:title/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹ã€æ·»åŠ ä»¥ä¸‹å†…å®¹</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">post/:abbrlink.html</span></span><br><span class="line"><span class="attr">abbrlink:</span></span><br><span class="line">  <span class="attr">alg:</span> <span class="string">crc32</span>   <span class="comment"># ç®—æ³•ï¼š crc16(default) and crc32</span></span><br><span class="line">  <span class="attr">rep:</span> <span class="string">dec</span>     <span class="comment"># è¿›åˆ¶ï¼š dec(default) and hex</span></span><br></pre></td></tr></table></figure>

<h5 id="hexo-filter-nofollow"><a href="#hexo-filter-nofollow" class="headerlink" title="hexo-filter-nofollow"></a>hexo-filter-nofollow</h5><p>ä¸ºå¤–é“¾æ·»åŠ  <code>rel=&quot;external nofollow noreferrer&quot;</code>ï¼Œè¯¦è§<a href="https://github.com/hexojs/hexo-filter-nofollow">https://github.com/hexojs/hexo-filter-nofollow</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. å®‰è£…</span></span><br><span class="line">$ npm install hexo-filter-nofollow --save</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. æ·»åŠ  Hexo é…ç½®</span></span><br><span class="line">$ <span class="built_in">cd</span> xxxxx.github.io</span><br><span class="line">$ vim _config.yml</span><br></pre></td></tr></table></figure>

<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ ä»¥ä¸‹é…ç½®</span></span><br><span class="line"><span class="attr">nofollow:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">site</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="comment"># - &#x27;exclude1.com&#x27;</span></span><br></pre></td></tr></table></figure>

<h5 id="hexo-generator-searchdb"><a href="#hexo-generator-searchdb" class="headerlink" title="hexo-generator-searchdb"></a>hexo-generator-searchdb</h5><p>å¼€å¯ NexT ä¸»é¢˜çš„æœ¬åœ°æœç´¢éœ€è¦æ­¤æ’ä»¶ï¼Œè¯¦è§<a href="https://github.com/theme-next/hexo-generator-searchdb">https://github.com/theme-next/hexo-generator-searchdb</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. å®‰è£…</span></span><br><span class="line">$ npm install hexo-generator-searchdb --save</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. ä¿®æ”¹ NexT ä¸»é¢˜é…ç½®</span></span><br><span class="line">$ <span class="built_in">cd</span> xxxxx.github.io/themes/next/</span><br><span class="line">$ vim _config.yml</span><br></pre></td></tr></table></figure>

<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¿®æ”¹å¦‚ä¸‹éƒ¨åˆ†</span></span><br><span class="line"><span class="comment"># Local Search</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/hexo-generator-searchdb</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># If auto, trigger search by changing input.</span></span><br><span class="line">  <span class="comment"># If manual, trigger search by pressing enter key or search button.</span></span><br><span class="line">  <span class="attr">trigger:</span> <span class="string">auto</span></span><br><span class="line">  <span class="comment"># Show top n results per article, show all results by setting to -1</span></span><br><span class="line">  <span class="attr">top_n_per_article:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment"># Unescape html strings to the readable one.</span></span><br><span class="line">  <span class="attr">unescape:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Preload the search data when the page loads.</span></span><br><span class="line">  <span class="attr">preload:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<h5 id="hexo-generator-sitemap"><a href="#hexo-generator-sitemap" class="headerlink" title="hexo-generator-sitemap"></a>hexo-generator-sitemap</h5><p>éƒ¨ç½²çš„æ—¶å€™è‡ªåŠ¨ç”Ÿæˆ <code>sitemap.xml</code> æ–‡ä»¶ï¼Œä¾¿äºçˆ¬è™«æŠ“å–æˆ–æ‰‹æ‰‹åŠ¨æäº¤ï¼Œæ’ä»¶çš„ä½¿ç”¨è¯¦è§ï¼š</p>
<ul>
<li><a href="https://github.com/hexojs/hexo-generator-sitemap">https://github.com/hexojs/hexo-generator-sitemap</a></li>
<li><a href="https://github.com/coneycode/hexo-generator-baidu-sitemap">https://github.com/coneycode/hexo-generator-baidu-sitemap</a></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. å®‰è£…</span></span><br><span class="line">$ npm install hexo-generator-sitemap --save</span><br><span class="line">$ npm install hexo-generator-baidu-sitemap --save</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. æ·»åŠ  NexT ä¸»é¢˜é…ç½®</span></span><br><span class="line">$ <span class="built_in">cd</span> xxxxx.github.io/themes/next/</span><br><span class="line">$ vim _config.yml</span><br></pre></td></tr></table></figure>

<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ å¦‚ä¸‹éƒ¨åˆ†</span></span><br><span class="line"><span class="attr">sitemap:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">sitemap.xml</span></span><br><span class="line"><span class="attr">baidusitemap:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">baidusitemap.xml</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šç™¾åº¦çˆ¬è™«ç”±äºæ“ä½œç”ŸçŒ›ï¼Œå·²ç»è¢« Github å±è”½ï¼Œæ‰€ä»¥éƒ¨ç½²åœ¨ Github Pages ä¸Šçš„ç½‘ç«™æ— æ³•è¢«æ”¶å½•ï¼Œéœ€è¦å€ŸåŠ©å…¶å®ƒå¹³å°çš„ Pages æœåŠ¡ï¼Œå¯è‡ªè¡Œæœç´¢ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>å…¶å®ƒ</category>
      </categories>
      <tags>
        <tag>å…¶å®ƒ</tag>
        <tag>Hexo</tag>
        <tag>NexT</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•åœ¨ Excel ä¸­å®ç°ä¸‹æ‹‰å¤šé€‰ã€åé€‰</title>
    <url>/post/366405450.html</url>
    <content><![CDATA[<h4 id="æ“ä½œæ­¥éª¤ï¼ˆè§†é¢‘ï¼‰ï¼š"><a href="#æ“ä½œæ­¥éª¤ï¼ˆè§†é¢‘ï¼‰ï¼š" class="headerlink" title="æ“ä½œæ­¥éª¤ï¼ˆè§†é¢‘ï¼‰ï¼š"></a>æ“ä½œæ­¥éª¤ï¼ˆè§†é¢‘ï¼‰ï¼š</h4><center>
<img data-src="https://static.sqiang.net/image/post/excel_select_nulti.jpg" width="95%">
</center>

<span id="more"></span>

<h4 id="æ“ä½œæ­¥éª¤ï¼ˆæ–‡å­—ï¼‰ï¼š"><a href="#æ“ä½œæ­¥éª¤ï¼ˆæ–‡å­—ï¼‰ï¼š" class="headerlink" title="æ“ä½œæ­¥éª¤ï¼ˆæ–‡å­—ï¼‰ï¼š"></a>æ“ä½œæ­¥éª¤ï¼ˆæ–‡å­—ï¼‰ï¼š</h4><ol>
<li>é€‰æ‹©ä¸€åˆ—ï¼›</li>
<li>ä¾æ¬¡ç‚¹å‡»ï¼š<code>æ•°æ® &gt; æ•°æ®éªŒè¯</code></li>
<li>ç±»å‹é€‰æ‹©ã€Œ<strong>åˆ—è¡¨</strong>ã€ï¼Œç„¶åè¾“å…¥å¾…é€‰æ‹©çš„ä¸‹æ‹‰é¡¹ï¼š<code>PHP,Java,Python</code></li>
<li>åœ¨ ã€Œ<strong>sheet</strong>ã€ä¸Šå³å‡»ï¼Œé€‰æ‹©ã€Œ<strong>æŸ¥çœ‹ä»£ç </strong>ã€ï¼Œæ·»åŠ å¦‚ä¸‹å¤„ç†å¤šé€‰é€»è¾‘çš„å®ä»£ç ï¼š</li>
</ol>
<figure class="highlight vb"><table><tr><td class="code"><pre><span class="line"><span class="keyword">Private</span> <span class="keyword">Sub</span> Worksheet_Change(<span class="keyword">ByVal</span> Target <span class="keyword">As</span> Range)</span><br><span class="line"><span class="comment">&#x27; Developed by Contextures Inc.</span></span><br><span class="line"><span class="comment">&#x27; www.contextures.com</span></span><br><span class="line"><span class="keyword">Dim</span> rngDV <span class="keyword">As</span> Range</span><br><span class="line"><span class="keyword">Dim</span> oldVal <span class="keyword">As</span> <span class="type">String</span></span><br><span class="line"><span class="keyword">Dim</span> newVal <span class="keyword">As</span> <span class="type">String</span></span><br><span class="line"><span class="keyword">If</span> Target.Count &gt; <span class="number">1</span> <span class="keyword">Then</span> <span class="keyword">GoTo</span> exitHandler</span><br><span class="line"></span><br><span class="line"><span class="keyword">On</span> <span class="keyword">Error</span> <span class="keyword">Resume</span> <span class="keyword">Next</span></span><br><span class="line"><span class="keyword">Set</span> rngDV = Cells.SpecialCells(xlCellTypeAllValidation)</span><br><span class="line"><span class="keyword">On</span> <span class="keyword">Error</span> <span class="keyword">GoTo</span> exitHandler</span><br><span class="line"></span><br><span class="line"><span class="keyword">If</span> rngDV <span class="built_in">Is</span> <span class="literal">Nothing</span> <span class="keyword">Then</span> <span class="keyword">GoTo</span> exitHandler</span><br><span class="line"></span><br><span class="line"><span class="keyword">If</span> Intersect(Target, rngDV) <span class="built_in">Is</span> <span class="literal">Nothing</span> <span class="keyword">Then</span></span><br><span class="line">   <span class="comment">&#x27;do nothing</span></span><br><span class="line"><span class="keyword">Else</span></span><br><span class="line">  Application.EnableEvents = <span class="literal">False</span></span><br><span class="line">  newVal = Target.Value</span><br><span class="line">  Application.Undo</span><br><span class="line">  oldVal = Target.Value</span><br><span class="line">  Target.Value = newVal</span><br><span class="line">  <span class="keyword">If</span> Target.Column = <span class="number">1</span> <span class="keyword">Then</span></span><br><span class="line">    <span class="keyword">If</span> oldVal = <span class="string">&quot;&quot;</span> <span class="keyword">Then</span></span><br><span class="line">      <span class="comment">&#x27;do nothing</span></span><br><span class="line">      <span class="keyword">Else</span></span><br><span class="line">      <span class="keyword">If</span> newVal = <span class="string">&quot;&quot;</span> <span class="keyword">Then</span></span><br><span class="line">      <span class="comment">&#x27;do nothing</span></span><br><span class="line">      <span class="keyword">Else</span></span><br><span class="line">        <span class="keyword">If</span> InStr(<span class="number">1</span>, oldVal, newVal) &lt;&gt; <span class="number">0</span> <span class="keyword">Then</span></span><br><span class="line">          <span class="keyword">If</span> InStr(<span class="number">1</span>, oldVal, newVal) + Len(newVal) - <span class="number">1</span> = Len(oldVal) <span class="keyword">Then</span></span><br><span class="line">            Target.Value = Left(oldVal, Len(oldVal) - Len(newVal) - <span class="number">1</span>)</span><br><span class="line">          <span class="keyword">Else</span></span><br><span class="line">            Target.Value = Replace(oldVal, newVal &amp; <span class="string">&quot;,&quot;</span>, <span class="string">&quot;&quot;</span>)</span><br><span class="line">          <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">        <span class="keyword">Else</span></span><br><span class="line">        Target.Value = oldVal &amp; <span class="string">&quot;,&quot;</span> &amp; newVal</span><br><span class="line"><span class="comment">&#x27;      <span class="doctag">NOTE:</span> you can use a line break,</span></span><br><span class="line"><span class="comment">&#x27;      instead of a comma</span></span><br><span class="line"><span class="comment">&#x27;      Target.Value = oldVal _</span></span><br><span class="line"><span class="comment">&#x27;        &amp; Chr(10) &amp; newVal</span></span><br><span class="line">        <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">      <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">  <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line"></span><br><span class="line"><span class="symbol">exitHandler:</span></span><br><span class="line">  Application.EnableEvents = <span class="literal">True</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>ä¿®æ”¹ä»£ç  <code>Target.Column = 1</code> ä¸ºå¯¹åº”çš„åˆ—ï¼Œå¤šä¸ªåˆ—ä½¿ç”¨ <code>Or</code> è¿æ¥</li>
</ol>
<blockquote>
<p>âš ï¸ <strong>æ³¨æ„ï¼šè¯¥æ“ä½œæ˜¯å€ŸåŠ© Excel å®åŠŸèƒ½å®ç°ï¼Œæ‰€ä»¥ä¹‹åé‡æ–°æ‰“å¼€æ—¶è¦å…è®¸å®ï¼Œå¦åˆ™ä¸ç”Ÿæ•ˆã€‚</strong></p>
</blockquote>
]]></content>
      <categories>
        <category>å…¶å®ƒ</category>
      </categories>
      <tags>
        <tag>å…¶å®ƒ</tag>
        <tag>Excel</tag>
      </tags>
  </entry>
  <entry>
    <title>æ€ä¹ˆä½¿ç”¨ Excel å®ç°äºŒçº§è”åŠ¨çš„ä¸‹æ‹‰èœå•</title>
    <url>/post/2104705023.html</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡ä»¥ macOS ä¸‹çš„ Excel  ä¸ºç¤ºä¾‹ï¼Œç›¸å½“äºæœ€æ–°ç‰ˆ Excelï¼Œå¦‚æœæœ‰èœå•åç§°å’Œä½ç½®ä¸åŒï¼Œè¯·è‡ªè¡Œè½¬æ¢ã€‚</p>
</blockquote>
<h4 id="æ“ä½œæ­¥éª¤ï¼š"><a href="#æ“ä½œæ­¥éª¤ï¼š" class="headerlink" title="æ“ä½œæ­¥éª¤ï¼š"></a>æ“ä½œæ­¥éª¤ï¼š</h4><center>
<img data-src="https://static.sqiang.net/image/post/excel_cascade_menu.gif" width="95%">
</center>

<span id="more"></span>

<h4 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h4><ol>
<li><p>èœå•å¯¹åº”</p>
<ul>
<li><code>Formulas</code> â€“&gt; å…¬å¼</li>
<li><code>Data</code> â€“&gt; æ•°æ®</li>
<li><code>Define Name</code> â€“&gt; å®šä¹‰åç§°ï¼ˆåç§°ç®¡ç†å™¨ï¼‰</li>
<li><code>Create from Selection</code> â€“&gt; ä»¥é€‰æ‹©çš„æ•°æ®ä¸ºåŸºç¡€åˆ›å»ºåç§°</li>
<li><code>Data Validation</code> â€“&gt; æ•°æ®éªŒè¯</li>
<li><code>List</code> â€“&gt; åºåˆ—</li>
</ul>
</li>
<li><p>è¦ç‚¹</p>
<ul>
<li><code>= INDIRECT($A2)</code> è€Œä¸æ˜¯ <code>= INDIRECT($A$2)</code></li>
<li>ç¬¬äºŒä¸ª <code>sheet</code> å­˜æ”¾çš„ä¸‹æ‹‰èœå•çš„æ•°æ®æºï¼Œä¸å¯æ›´æ”¹æˆ–åˆ é™¤ sheet åŠç›¸å…³æ•°æ®ã€‚å»ºè®®åœ¨ sheet ä¸Šå³å‡»ï¼Œåœ¨å¼¹å‡ºçš„èœå•ä¸­é€‰æ‹©ã€Œéšè—ã€ã€‚</li>
</ul>
</li>
</ol>
]]></content>
      <categories>
        <category>å…¶å®ƒ</category>
      </categories>
      <tags>
        <tag>å…¶å®ƒ</tag>
        <tag>Excel</tag>
      </tags>
  </entry>
  <entry>
    <title>è§£å†³Hexoæ–‡ç« æ›´æ–°æ—¶é—´é—®é¢˜</title>
    <url>/post/2792803495.html</url>
    <content><![CDATA[<blockquote>
<p><strong>é—®é¢˜æè¿°</strong>ï¼šæ•´ç†æ–‡ä»¶çš„æ—¶å€™ï¼Œè¯¯æŠŠå­˜æ”¾ Hexo åšå®¢çš„ç›®å½•åˆ é™¤äº†ï¼Œå› ä¸ºæ˜¯å­˜å‚¨åœ¨è¿œç¨‹ Git ä»“åº“ä¸Šçš„ï¼Œæ‰€ä»¥åˆé‡æ–°æ‹‰å–äº†ä¸€éã€‚åœ¨åˆ›å»ºæ–°æ–‡ç« è¿›è¡Œé¢„è§ˆçš„æ—¶å€™ï¼Œå‘ç°æ›´æ–°<em>æ‰€æœ‰æ–‡ç« çš„æ›´æ–°æ—¥æœŸéƒ½å˜æˆäº†ä»Šå¤©</em>ã€‚</p>
</blockquote>
<blockquote>
<p><strong>äº§ç”ŸåŸå› </strong>ï¼šHexo é»˜è®¤æ˜¯ä»¥æ–‡ä»¶çš„ã€Œä¿®æ”¹æ—¶é—´ã€ä½œä¸ºæ–‡ç« çš„æ›´æ–°æ—¶é—´ï¼Œç”±äºæ‰€æœ‰åšå®¢æ–‡ç« æ˜¯ä» Git ä»“åº“é‡æ–°æ‹‰å–å›æ¥çš„ï¼Œæ‰€æœ‰æ–‡ä»¶çš„åˆ›å»ºæ—¶é—´å’Œä¿®æ”¹æ—¶é—´éƒ½æ˜¯è¿™ä¸ªé‡æ–°æ‹‰å–çš„æ—¶é—´ï¼Œæ‰€ä»¥æ–‡ç« çš„æ›´æ–°æ—¶é—´ç›¸åº”çš„å°±ä¸å¯¹äº†ã€‚</p>
</blockquote>
<p>è§£å†³æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<span id="more"></span>

<h4 id="1-ä¿®æ”¹-scaffolds-post-md-æ–‡ä»¶"><a href="#1-ä¿®æ”¹-scaffolds-post-md-æ–‡ä»¶" class="headerlink" title="1. ä¿®æ”¹ /scaffolds/post.md æ–‡ä»¶"></a>1. ä¿®æ”¹ /scaffolds/post.md æ–‡ä»¶</h4><figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: &#123;&#123; title &#125;&#125;</span><br><span class="line">date: &#123;&#123; date &#125;&#125;</span><br><span class="line">updated: &#123;&#123; date &#125;&#125;</span><br><span class="line"><span class="section">tags:</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure>

<p>è¿™æ ·æ¯æ¬¡æ–°å»ºæ–‡ç« åï¼Œä¼šè‡ªåŠ¨æ·»åŠ  <code>updated</code> æ ‡ç­¾ï¼Œå¹¶ä¸”ä¸ <code>date</code> çš„åˆ›å»ºæ—¶é—´ä¸€è‡´ã€‚</p>
<p>å¦‚æœæ˜¯å†å²æ–‡ç« ï¼Œåˆ™éœ€è¦<strong>æ‰‹åŠ¨ç»™æ¯ç¯‡æ–‡ç« å¢åŠ è¿™ä¸ªæ›´æ–°æ—¶é—´</strong>ï¼Œæˆ–è€…è‡ªå·±å†™ä¸ªè„šæœ¬æ‰¹é‡å¤„ç†ä¸‹ã€‚</p>
<h4 id="2-ä¸»é¢˜ç›¸å…³é…ç½®"><a href="#2-ä¸»é¢˜ç›¸å…³é…ç½®" class="headerlink" title="2. ä¸»é¢˜ç›¸å…³é…ç½®"></a>2. ä¸»é¢˜ç›¸å…³é…ç½®</h4><p>æœ¬æ–‡æ˜¯ä»¥ NexT ä¸»é¢˜ä¸ºä¾‹ï¼Œç›¸å…³è®¾ç½®ä¿æŒé»˜è®¤å°±å¯ä»¥ï¼Œç±»ä¼¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Post meta display settings</span></span><br><span class="line"><span class="attr">post_meta:</span></span><br><span class="line">  <span class="attr">item_text:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">created_at:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># ä¸»è¦æ˜¯è¿™ä¸€éƒ¨åˆ†</span></span><br><span class="line">  <span class="attr">updated_at:</span></span><br><span class="line">    <span class="comment"># æ˜¾ç¤ºæ›´æ–°æ—¶é—´</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># ä¸åˆ›å»ºæ—¶é—´ä¸åŒæ—¶æ‰æ˜¾ç¤º</span></span><br><span class="line">    <span class="attr">another_day:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>å…¶å®ƒä¸»é¢˜åº”è¯¥ä¹Ÿä¸éœ€è¦ä»€ä¹ˆç‰¹æ®Šè®¾ç½®ï¼Œå¦‚æœæ²¡æœ‰æ•ˆæœæˆ–äº§ç”Ÿå¼‚å¸¸ï¼Œåˆ™éœ€è¦æŸ¥è¯¢ä¸€ä¸‹å¯¹åº”ä¸»é¢˜çš„ç›¸å…³é…ç½®è¯´æ˜ã€‚</p>
<h4 id="3-ok"><a href="#3-ok" class="headerlink" title="3. ok"></a>3. ok</h4><p>å½“å¯¹æ–‡ç« è¿›è¡Œä¿®æ”¹çš„æ—¶å€™ï¼Œæ›´æ–°è¿™ä¸ª <code>updated</code> çš„å€¼å°±å¯ä»¥äº†ã€‚</p>
<p>å¦‚æœä¸éœ€è¦æ—¶é—´ï¼Œå°±æŠŠæ–‡ç« çš„åˆ›å»ºæ—¶é—´å¤åˆ¶è¿‡æ¥ï¼ŒæŠŠæ—¥æœŸæ”¹ä¸ºå½“å¤©å°±å¯ä»¥äº†ã€‚</p>
<p>å¦‚æœéœ€è¦å‡†ç¡®çš„æ—¶é—´ï¼Œåˆ™å¯ä»¥æŸ¥æ‰¾å¿«æ·æ’å…¥æ—¥æœŸæ—¶é—´çš„æ–¹æ³•ï¼Œå› ä¸ºæ¯ä¸ªäººä½¿ç”¨çš„å·¥å…·ä¸åŒï¼Œè¿™é‡Œåªä»¥ vscode ä¸ºä¾‹è¯´æ˜ï¼š</p>
<ul>
<li>æ–¹æ³•ä¸€ï¼šä½¿ç”¨å¿«æ·é”®ï¼ŒmacOS: <code>âŒ˜ + â‡§ + I</code>ï¼›Windows æˆ– Linux: <code>Ctrl + Shift + I</code>ã€‚</li>
<li>æ–¹æ³•äºŒï¼šé€šè¿‡æŒ‰ <code>F1</code> æ‰“å¼€å‘½ä»¤é¢æ¿ï¼Œå¹¶é”®å…¥ <code>Insert DateTime</code>ï¼Œç„¶åæŒ‰å›è½¦é”®å³å¯ã€‚å¦‚æœæƒ³æŒ‡å®šæ ¼å¼ï¼Œåˆ™è¾“å…¥ <code>Insert Formatted DateTime</code>ï¼Œç„¶åæ›´æ”¹æˆä½ éœ€è¦çš„æ ¼å¼ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>å…¶å®ƒ</category>
      </categories>
      <tags>
        <tag>å…¶å®ƒ</tag>
        <tag>Hexo</tag>
        <tag>NexT</tag>
      </tags>
  </entry>
  <entry>
    <title>è‡ªå»ºè·¨åŸŸä»£ç†è§£å†³Gitalkæ— æ³•ç™»å½•çš„é—®é¢˜</title>
    <url>/post/3973669864.html</url>
    <content><![CDATA[<blockquote>
<p><code>Gitalk</code> ä¸€ä¸ªåŸºäº <code>Github issues</code> å’Œ <code>Preact</code> å¼€å‘çš„è¯„è®ºæ’ä»¶ï¼Œåœ¨ <code>Hexo NexT</code> ä¸»é¢˜ä¸­å¯ä»¥å¾ˆæ–¹ä¾¿çš„å¼€å¯ï¼Œå¹¶ä¸”ç®€æ´ã€è½»é‡ã€‚</p>
</blockquote>
<p>åˆšå¼€å§‹ä½¿ç”¨çš„æ—¶å€™æŒºç¨³çš„ï¼Œä½†æ˜¯è¿‘æœŸå‡ºç°ç™»å½•ä¸ä¸Šçš„é—®é¢˜ã€‚é€šè¿‡æŸ¥çœ‹æµè§ˆå™¨çš„ã€Œç½‘ç»œé¢æ¿ã€ï¼Œå‘ç° <a href="cors-anywhere.herokuapp.com">cors-anywhere.herokuapp.com</a> è¿™ä¸ªåœ°å€æŠ¥é”™ <code>403</code>ã€‚è¿™æ˜¯ä¸€ä¸ªå®ç°è·¨åŸŸè¯·æ±‚è½¬å‘çš„æœåŠ¡ï¼Œè€Œ Gitalk æ­£æ˜¯ä¾èµ–å®ƒä¸ Github è¿›è¡Œé€šä¿¡ã€‚ä¸ºä»€ä¹ˆä¼š <code>403</code> å‘¢ï¼Œæœ€åæ‰¾åˆ°<a href="https://github.com/Rob--W/cors-anywhere/issues/301">å®˜æ–¹è¯´æ˜</a>ï¼Œå¤§ä½“æ„æ€å°±æ˜¯ï¼š<code>è¿™ä¸ªåœ°å€åªæ˜¯ç”¨æ¥æ¼”ç¤ºçš„ï¼Œä½†æ˜¯å‘ç°æµé‡è¶Šæ¥è¶Šå¤§ï¼Œæ‰€ä»¥è¦è¿›è¡Œé™æµã€‚</code></p>
<p>è§£å†³è¿™ä¸ªé—®é¢˜æœ€å¥½çš„åŠæ³•æ˜¯ï¼š<strong>è‡ªå»º</strong>ã€‚</p>
<p>ä»Šå¤©æŸ¥çœ‹ NexT å®˜ç½‘ï¼Œå‘ç°æœ‰äººå·²ç»æä¾›äº†è§£å†³æ–¹æ¡ˆ<a href="https://github.com/next-theme/hexo-theme-next/pull/205">å‚è§è¿™é‡Œ</a>ã€‚</p>
<p>æœ¬æ–‡ä¸»è¦å°±æ˜¯ä»‹ç»å¦‚ä½•è‡ªå»ºè¿™ä¸ªè·¨åŸŸä»£ç†ï¼Œå®æµ‹å¯ç”¨çš„å®Œæ•´è¿‡ç¨‹å¦‚ä¸‹ä¸‹æ–‡ï¼š</p>
<span id="more"></span>

<h4 id="1-æ³¨å†Œ-heroku"><a href="#1-æ³¨å†Œ-heroku" class="headerlink" title="1. æ³¨å†Œ heroku"></a>1. æ³¨å†Œ heroku</h4><p>æ‰“å¼€å®˜ç½‘åœ°å€ï¼ˆéœ€è¦ç§‘å­¦ä¸Šç½‘ï¼‰ï¼š<a href="https://signup.heroku.com/">https://signup.heroku.com</a></p>
<h4 id="2-å®‰è£…-heroku-cli"><a href="#2-å®‰è£…-heroku-cli" class="headerlink" title="2. å®‰è£… heroku-cli"></a>2. å®‰è£… heroku-cli</h4><p>å®‰è£…è¯´æ˜ï¼š<a href="https://devcenter.heroku.com/articles/heroku-cli">https://devcenter.heroku.com/articles/heroku-cli</a></p>
<ul>
<li><p>Windows</p>
<ul>
<li><a href="https://cli-assets.heroku.com/heroku-x64.exe">x64</a></li>
<li><a href="https://cli-assets.heroku.com/heroku-x86.exe">x32</a></li>
</ul>
</li>
<li><p>Ubuntu</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install snap</span><br><span class="line">$ sudo snap install --classic heroku</span><br></pre></td></tr></table></figure></li>
<li><p>macOS</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ brew tap heroku/brew &amp;&amp; brew install heroku</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="3-åœ¨ç»ˆç«¯ä¸‹ç™»å½•-heroku"><a href="#3-åœ¨ç»ˆç«¯ä¸‹ç™»å½•-heroku" class="headerlink" title="3. åœ¨ç»ˆç«¯ä¸‹ç™»å½• heroku"></a>3. åœ¨ç»ˆç«¯ä¸‹ç™»å½• heroku</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ heroku login -i</span><br><span class="line"> â€º   Warning: heroku update available from 7.52.0 to 7.53.0.</span><br><span class="line">heroku: Enter your login credentials</span><br><span class="line">Email: xxxxx@gmail.com</span><br><span class="line">Password: *********</span><br><span class="line">Logged <span class="keyword">in</span> as xxxxx@gmail.com</span><br></pre></td></tr></table></figure>

<h4 id="4-åˆ›å»ºæ­¥éª¤"><a href="#4-åˆ›å»ºæ­¥éª¤" class="headerlink" title="4. åˆ›å»ºæ­¥éª¤"></a>4. åˆ›å»ºæ­¥éª¤</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/Rob--W/cors-anywhere.git</span><br><span class="line">$ <span class="built_in">cd</span> cors-anywhere/</span><br><span class="line">$ npm install</span><br><span class="line">$ heroku create</span><br><span class="line">$ git push heroku master</span><br><span class="line">remote: -----&gt; Compressing...</span><br><span class="line">remote:        Done: 32M</span><br><span class="line">remote: -----&gt; Launching...</span><br><span class="line">remote:        Released v3</span><br><span class="line">remote:        https://xxxxxxxxxx.herokuapp.com/ deployed to Heroku</span><br><span class="line">remote:</span><br><span class="line">remote: Verifying deploy... <span class="keyword">done</span>.</span><br><span class="line">To https://git.heroku.com/xxxxxxxxxx.git</span><br><span class="line"> * [new branch]      master -&gt; master</span><br></pre></td></tr></table></figure>

<h4 id="5-ä¿®æ”¹-Gitalk-è®¾ç½®"><a href="#5-ä¿®æ”¹-Gitalk-è®¾ç½®" class="headerlink" title="5. ä¿®æ”¹ Gitalk è®¾ç½®"></a>5. ä¿®æ”¹ Gitalk è®¾ç½®</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">gitalk:</span><br><span class="line">    proxy: https://xxxxxxxxxx.herokuapp.com/https://github.com/login/oauth/access_token</span><br></pre></td></tr></table></figure>

<h4 id="6-é‡æ–°éƒ¨ç½²-Hexo"><a href="#6-é‡æ–°éƒ¨ç½²-Hexo" class="headerlink" title="6. é‡æ–°éƒ¨ç½² Hexo"></a>6. é‡æ–°éƒ¨ç½² Hexo</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo clean &amp;&amp; hexo g -d</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>å…¶å®ƒ</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>NexT</tag>
        <tag>Gitalk</tag>
      </tags>
  </entry>
  <entry>
    <title>Python å¦‚ä½•å®‰è£… pip åŒ…ç®¡ç†å·¥å…·</title>
    <url>/post/4186504541.html</url>
    <content><![CDATA[<blockquote>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼š</p>
<ol>
<li><p>å¦‚æœä½ æ˜¯ macOS ç³»ç»Ÿï¼Œé»˜è®¤å®‰è£…çš„æ˜¯ python2.x ç‰ˆæœ¬ï¼Œåªéœ€æ‰§è¡Œ <code>sudo easy_install pip</code> å³å¯ã€‚</p>
</li>
<li><p>å¦‚æœä½ æ˜¯ macOS ä¸‹ä½¿ç”¨ <code>brew install python3</code> å®‰è£…çš„ python3ï¼Œåˆ™ pip å·²ç»å®‰è£…ã€‚</p>
</li>
<li><p>å¦‚æœä½ å®‰è£…äº† <code>virtualenv</code> æˆ– <code>pyvenv</code> ï¼Œåˆ™ pip ä¹Ÿå·²ç»å®‰è£…ã€‚</p>
</li>
</ol>
</blockquote>
<h3 id="1-å®‰è£…"><a href="#1-å®‰è£…" class="headerlink" title="1. å®‰è£…"></a>1. å®‰è£…</h3><p>å®˜æ–¹æ¨èçš„å®‰è£…æ–¹å¼æ˜¯é€šè¿‡ <strong><a href="https://bootstrap.pypa.io/get-pip.py">get-pip.py</a></strong> å®‰è£…ï¼Œ<a href="https://pip.readthedocs.io/en/stable/installing/">è¯¦è§è¿™é‡Œ</a></p>
<ol>
<li><p>ä¸‹è½½ <code>get-pip.py</code></p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py</span><br></pre></td></tr></table></figure></li>
<li><p>å®‰è£… pip</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># python2 --&gt; pip</span></span><br><span class="line"><span class="comment"># -V æ˜¯ --version çš„ç®€å†™</span></span><br><span class="line">âœ  python get-pip.py</span><br><span class="line">âœ  pip -V</span><br><span class="line"></span><br><span class="line"><span class="comment"># python3 --&gt; pip3</span></span><br><span class="line">âœ  python3 get-pip.py</span><br><span class="line">âœ  pip3 -V</span><br></pre></td></tr></table></figure></li>
</ol>
<span id="more"></span>

<h3 id="2-å‡çº§"><a href="#2-å‡çº§" class="headerlink" title="2. å‡çº§"></a>2. å‡çº§</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Linux æˆ– macOS</span></span><br><span class="line"><span class="comment"># -U æ˜¯ --upgrade çš„ç®€å†™</span></span><br><span class="line">âœ  pip install -U pip</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœå‡çº§ pip3 ï¼Œåˆ™æ‰§è¡Œ</span></span><br><span class="line"><span class="comment"># æ³¨æ„ï¼šåé¢çš„åŒ…å pip ä¸éœ€è¦åŠ  3</span></span><br><span class="line">âœ  pip3 install -U pip</span><br><span class="line"></span><br><span class="line"><span class="comment"># Windows</span></span><br><span class="line">âœ  python -m pip install -U pip</span><br></pre></td></tr></table></figure>

<h3 id="3-å¸¸ç”¨å‘½ä»¤"><a href="#3-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="3. å¸¸ç”¨å‘½ä»¤"></a>3. å¸¸ç”¨å‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹å¸®åŠ©</span></span><br><span class="line">âœ  pip --<span class="built_in">help</span></span><br><span class="line">âœ  pip3 --<span class="built_in">help</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ—å‡ºå·²å®‰è£…çš„åŒ…</span></span><br><span class="line">âœ  pip list</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å¯å‡çº§çš„åŒ…</span></span><br><span class="line">âœ  pip list -o</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå®‰è£…åŒ…ä¿¡æ¯</span></span><br><span class="line">âœ  pip show package_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æŒ‡å®šåŒ…çš„è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">âœ  pip show -f package_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># æœç´¢åŒ…</span></span><br><span class="line">âœ  pip search package_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…åŒ…ï¼ˆé»˜è®¤æœ€æ–°ç‰ˆæœ¬ï¼‰</span></span><br><span class="line"><span class="comment"># éƒ¨åˆ†åº“å¯èƒ½éœ€è¦è¾ƒé«˜çš„æƒé™ï¼Œæ‰§è¡Œå‘½ä»¤çš„æ—¶å€™è¿½åŠ  sudo æˆ–ä½¿ç”¨è¾ƒé«˜æƒé™çš„ç”¨æˆ·</span></span><br><span class="line">âœ  pip install package_name</span><br><span class="line"><span class="comment"># ä¹Ÿå¯ä»¥é€šè¿‡ == &gt;= &lt;= &gt; &lt; æ¥æŒ‡å®šä¸€ä¸ªç‰ˆæœ¬å·</span></span><br><span class="line">âœ  pip install package_name==1.0.5</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡çº§åŒ…</span></span><br><span class="line">âœ  pip install --upgrade package_name</span><br><span class="line">âœ  pip install --upgrade package_name==1.2</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¸è½½åŒ…</span></span><br><span class="line">âœ  pip uninstall package_name</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>åŒ…ç®¡ç†å·¥å…·</tag>
        <tag>Python</tag>
        <tag>pip</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•åšå¥½ä¸€åœºæŠ€æœ¯æ¼”è®²</title>
    <url>/post/2259619543.html</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡æ•´ç†è‡ªï¼š<a href="https://time.geekbang.org/column/61">æå®¢æ—¶é—´å¾®è¯¾ã€Šå¦‚ä½•åšå¥½ä¸€åœºæŠ€æœ¯æ¼”è®²ã€‹</a></p>
</blockquote>
<h3 id="1-ç²¾å¿ƒå‡†å¤‡"><a href="#1-ç²¾å¿ƒå‡†å¤‡" class="headerlink" title="1. ç²¾å¿ƒå‡†å¤‡"></a>1. ç²¾å¿ƒå‡†å¤‡</h3><h4 id="1-1-æ˜ç¡®æ¼”è®²ä¸»é¢˜"><a href="#1-1-æ˜ç¡®æ¼”è®²ä¸»é¢˜" class="headerlink" title="1.1. æ˜ç¡®æ¼”è®²ä¸»é¢˜"></a>1.1. æ˜ç¡®æ¼”è®²ä¸»é¢˜</h4><p>å¦‚åŒæ¶æ„è®¾è®¡ä¸€æ ·ï¼Œäº†è§£éœ€æ±‚æ°¸è¿œæ˜¯ç¬¬ä¸€ä½çš„ï¼Œä»»ä½•è„±ç¦»éœ€æ±‚çš„æ¶æ„è®¾è®¡éƒ½æ˜¯è€æµæ°“ã€‚</p>
<p>æƒ³è¦å¼€å§‹æ¼”è®²ï¼Œé¦–å…ˆéœ€è¦äº†è§£å¬ä¼—çš„è¯‰æ±‚ï¼Œç¡®è®¤ä¸‹é¢è¿™äº›é—®é¢˜ï¼š</p>
<ul>
<li>å¬ä¼—ç»„æˆï¼Ÿ</li>
<li>å¯¹è¦æ¼”è®²ä¸»é¢˜çš„äº†è§£ç¨‹åº¦ï¼Ÿ</li>
<li>å¬ä¼—æƒ³å¬ä»€ä¹ˆï¼Ÿ</li>
<li>æ¼”è®²èƒ½ç»™å¬ä¼—å¸¦æ¥ä»€ä¹ˆä»·å€¼ï¼Ÿ</li>
<li>â€¦â€¦</li>
</ul>
<h4 id="1-2-ç¡®å®šæ¼”è®²ä¸»çº¿"><a href="#1-2-ç¡®å®šæ¼”è®²ä¸»çº¿" class="headerlink" title="1.2. ç¡®å®šæ¼”è®²ä¸»çº¿"></a>1.2. ç¡®å®šæ¼”è®²ä¸»çº¿</h4><ol>
<li><strong>Who</strong> è‡ªæˆ‘ä»‹ç»ï¼Œè®©å¬ä¼—äº†è§£è‡ªå·±ï¼Œå»ºç«‹è¿æ¥ï¼›</li>
<li><strong>What&amp;When</strong> ä»Šå¤©è¦åˆ†äº«çš„ä¸»é¢˜ï¼Œé€šè¿‡ç®€çŸ­ä»‹ç»å¸å¼•å¬ä¼—çš„æ³¨æ„åŠ›ã€å¥½å¥‡å¿ƒï¼›</li>
<li><strong>Why</strong> ä¸ºä»€ä¹ˆè¦åšè¿™ä¸ªæ¶æ„æ”¹é€ ã€æŠ€æœ¯å‡çº§ï¼Œæ•´ä¸ªé¡¹ç›®çš„èƒŒæ™¯æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œç»“åˆå¯¹å¬ä¼—çš„äº†è§£ï¼Œåšç‰¹å®šçš„ä»‹ç»ï¼›</li>
<li><strong>How</strong> æ·±å…¥æµ…å‡º 3ï½4 ä¸ªæœ€æ ¸å¿ƒçš„å†…å®¹ç‚¹ï¼Œå½“ç„¶ä¸ºäº†å…¨é¢æ€§ï¼Œä½ å¯ä»¥éƒ½ç½—åˆ—å‡ºæ¥ï¼Œä½†ä»‹ç»çš„é‡ç‚¹å»ºè®®æ§åˆ¶åœ¨ 3ï½4 é¡¹ï¼›</li>
<li><strong>Future</strong> è®©å¤§å®¶äº†è§£ä½ æœªæ¥çš„è®¡åˆ’ï¼Œä½ å¯¹æŠ€æœ¯è¶‹åŠ¿çš„çœ‹æ³•ç­‰ï¼›</li>
<li><strong>Recap</strong> å¯¹ä»Šå¤©çš„ä¸»é¢˜å†åšä¸€ä¸ªå›é¡¾ï¼Œè®©å¬ä¼—åŠ æ·±å¯¹æ ¸å¿ƒå†…å®¹è®°å¿†ã€‚</li>
</ol>
<h4 id="1-3-å…³äº-PPT"><a href="#1-3-å…³äº-PPT" class="headerlink" title="1.3. å…³äº PPT"></a>1.3. å…³äº PPT</h4><ul>
<li>åšä¸€ä¸ª<strong>æ¼”è®²å‹</strong>ï¼ˆæ³¨é‡ä½“éªŒå’Œåˆ›æ„ï¼‰çš„å¹»ç¯ç‰‡ï¼Œé£æ ¼ä¿æŒâ€œç®€æ´ã€å¹²å‡€ã€ä¸€è‡´ã€è·³è„±â€ã€‚</li>
<li>å­—ä½“å’Œé£æ ¼çš„é€‰æ‹©è¦ä¿æŒä¸€è‡´æ€§ï¼Œæœ€å¥½ä¸è¦ç”¨ä¸‰ä¸ªä»¥ä¸Šçš„é¢œè‰²ã€‚</li>
<li>åˆç†çš„æ’ç‰ˆï¼›</li>
<li>åˆç†è€Œæœ‰æ„ä¹‰çš„åŠ¨æ•ˆï¼ˆä¸€å®šä¸è¦å¤ªå¤šï¼‰ï¼›</li>
<li>é¡µæ•°å°½é‡æ§åˆ¶åœ¨ 15ï½20 é¡µï¼Œå¯æ ¹æ®å®é™…æƒ…å†µå†è¿½åŠ ï¼Œä½†ä¸€å®šä¸è¦å¤ªå¤šï¼›<ul>
<li>Who 1 é¡µ</li>
<li>What&amp;When 1ï½2 é¡µ</li>
<li>Why 1 é¡µ</li>
<li>How å±•å¼€ 3ï½4 ç‚¹ï¼Œæ¯ç‚¹ 2ï½3 é¡µ</li>
<li>Future 1 é¡µ</li>
<li>Recap 1 é¡µ</li>
</ul>
</li>
<li>å‡å°‘å¤§ç¯‡å¹…æ–‡å­—ï¼Œç”¨æœ€<strong>ç®€æ´çš„æ–‡å­—</strong>+<strong>å›¾è¡¨</strong>ï¼ˆ<em>ä¸€å›¾èƒœåƒè¨€</em>ï¼‰æ¥è¡¨ç¤ºï¼›</li>
<li>ä»¥ keyword ä¸ºæŒ‡å¼•ï¼Œé€‚å½“çš„ä¸´åœºå‘æŒ¥ï¼Œ<strong>åˆ‡å‹¿ç…§æœ¬å®£ç§‘</strong>ã€‚</li>
</ul>
<span id="more"></span>

<h3 id="2-åˆ»æ„è®­ç»ƒ"><a href="#2-åˆ»æ„è®­ç»ƒ" class="headerlink" title="2. åˆ»æ„è®­ç»ƒ"></a>2. åˆ»æ„è®­ç»ƒ</h3><ul>
<li>æ‰¾å®‰é™çš„åœ°æ–¹ï¼Œè‡ªæˆ‘ç»ƒä¹ ã€‚</li>
<li>è¯·ä¿¡ä»»çš„æœ‹å‹æ¥è¯•å¬ã€‚</li>
<li>å…¬å¸å†…éƒ¨è¯•è®²ã€‚</li>
<li>å†¥æƒ³ã€‚</li>
</ul>
<p><strong>æ³¨æ„ï¼Œåˆ»æ„è®­ç»ƒä¸ç­‰äºé‡å¤è®­ç»ƒï¼Œä¸¤è€…æœ€å¤§çš„å·®åˆ«åœ¨äºæ˜¯å¦æ ¹æ®åé¦ˆä¸æ–­è¿›è¡Œè¿­ä»£æ”¹è¿›ã€‚</strong></p>
<h3 id="3-æ¼”è®²ä¸­çš„è‚¢ä½“è¯­è¨€"><a href="#3-æ¼”è®²ä¸­çš„è‚¢ä½“è¯­è¨€" class="headerlink" title="3. æ¼”è®²ä¸­çš„è‚¢ä½“è¯­è¨€"></a>3. æ¼”è®²ä¸­çš„è‚¢ä½“è¯­è¨€</h3><p>åœ¨æ²Ÿé€šæ•ˆæœä¸Šï¼Œ<strong>è®²è¯çš„æ–¹å¼</strong>æ¯”è®²è¯çš„å†…å®¹é‡è¦å¾—å¤šã€‚ä½ çš„æ€ç»´å†…å®¹ä»¥è¯­è¨€çš„å½¢å¼ä¼ é€’å‡ºå»ï¼Œè€Œéè¯­è¨€çš„æš—ç¤ºå´ä¼šä»¥å®ƒåå€çš„æ„ŸæŸ“åŠ›è®©å¬ä¼—æ·±ä¿¡ä¸ç–‘ã€‚</p>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li><p>å§¿æ€</p>
<p>  å§¿æ€å…¶å®æ˜¯ç”¨ä¸€ç§å¾ˆè‡ªç„¶å¾ˆèˆ’æœçš„äº¤æµæ€åŠ¿å‘å°ä¸‹çš„å¬ä¼—ä¼ é€’ä¿¡æ¯çš„æ–¹å¼ã€‚æ‰€è°“æœ€å¥½çš„è®¾è®¡å°±æ˜¯è®©äººæ„Ÿè§‰ä¸åˆ°è®¾è®¡çš„å­˜åœ¨ï¼Œå¦‚æœä½ çš„å§¿æ€è®©äººæ„Ÿåˆ°åšä½œå’Œä¸è‡ªç„¶ï¼Œé‚£å°±æ˜¯å¤±è´¥çš„è¡¨ç°ã€‚</p>
<p>  <strong>ä¿æŒè‡ªç„¶</strong>ï¼Œ<strong>ç›®å…‰åšå®š</strong>ï¼Œå‹‡æ•¢åœ°é¢å¯¹å°ä¸‹åƒç™¾åŒçœ¼ç›çš„æ³¨è§†å¹¶ç†Ÿè§†æ— ç¹ï¼Œå°±æ˜¯æˆåŠŸçš„ç¬¬ä¸€æ­¥ã€‚</p>
</li>
<li><p>æ‰‹åŠ¿</p>
<p>  ä¸€ä¸ªéå¸¸è‡ªç„¶çš„<strong>æ‰‹åŠ¿</strong>æ˜¯â€œåˆ‡è¥¿ç“œâ€ï¼Œä¼¸å‡ºæ‰‹è‡‚ï¼Œæ‘Šå¼€æ‰‹æŒï¼Œè®©æ‰‹æŒä¸åœ°é¢å‚ç›´ï¼Œç„¶åå°å¹…åº¦ä¸Šä¸‹æŒ¥åŠ¨ã€‚</p>
<p>  å‚è§ä¸‹å›¾çš„ä¹”è€å¸ˆï¼š</p>
<p>  <img data-src="https://oscimg.oschina.net/oscnet/25619ed99f181010fcf6d89126a2627ed20.jpg" alt="ä¹”å¸ƒæ–¯"></p>
<p>  æˆ‘ä»¬è¿˜å¯ä»¥åŒæ‰‹åˆ‡ï¼Œå·¦æ‰‹åˆ‡ï¼Œå³æ‰‹åˆ‡ï¼Œåƒå˜ä¸‡åŒ–ï¼Œæ— å¾€ä¸åˆ©ã€‚ä½†æ˜¯åˆ‡è®°ï¼Œ<strong>åƒä¸‡ä¸è¦åšå‡ºè¿‡äºå¤¸å¼ çš„èº«ä½“å§¿åŠ¿</strong>ã€‚</p>
</li>
<li><p>å£°éŸ³</p>
<p>  æŒæ¡ä½ è¯´è¯ä¸­çš„é˜´é˜³å¹³ä»„ã€æŠ‘æ‰¬é¡¿æŒ«éå¸¸é‡è¦ã€‚</p>
<p>  äººä»¬å·²ç»ä¹ æƒ¯äº†åœ¨å£°éŸ³å’ŒéŸ³è°ƒä¸­å¯»æ‰¾ä¿¡æ¯çš„ç»“æ„ï¼Œå‡è°ƒè®©äººè§‰å¾—å……æ»¡ç–‘è™‘ï¼Œé™è°ƒè®©äººåšå®šè€Œå……æ»¡ä¿¡å¿ƒã€‚</p>
<p>  åœ¨æ¼”è®²çš„è¿‡ç¨‹ä¸­ï¼Œæ—¶åˆ»æé†’è‡ªå·±è¦<strong>æ”¾æ…¢è¯­é€Ÿ</strong>ï¼Œè¯­é€Ÿæ…¢ä¸€ç‚¹ï¼Œä¼šè®©å¬ä¼—è§‰å¾—æ¼”è®²äººæ›´ç¨³é‡ï¼Œä¹Ÿç»™äº†è‡ªå·±æ›´å¤šçš„æ€è€ƒæ—¶é—´ï¼Œä»¥æŠŠæ§å¥½æ¼”è®²çš„æ•´ä½“èŠ‚å¥ã€‚</p>
</li>
</ul>
<h3 id="4-å¦‚ä½•ç¼“è§£æ¼”è®²å‰çš„ç„¦è™‘å’Œç´§å¼ "><a href="#4-å¦‚ä½•ç¼“è§£æ¼”è®²å‰çš„ç„¦è™‘å’Œç´§å¼ " class="headerlink" title="4. å¦‚ä½•ç¼“è§£æ¼”è®²å‰çš„ç„¦è™‘å’Œç´§å¼ "></a>4. å¦‚ä½•ç¼“è§£æ¼”è®²å‰çš„ç„¦è™‘å’Œç´§å¼ </h3><ul>
<li>é¦–å…ˆä»å¿ƒé‡Œè¦æ˜ç¡®çš„æ˜¯ï¼Œè¿™ç§ç„¦è™‘ä¸ç´§å¼ æ˜¯æ™®éå­˜åœ¨çš„ï¼Œå½“é¢å¯¹é‚£ä¹ˆå¤šåŒç›¯ç€ä½ çš„çœ¼ç›ï¼Œæ¯ä¸ªäººéƒ½ä¼šé‡åˆ°ï¼Œå¹¶ä¸æ˜¯åªæœ‰ä½ æ‰æœ‰ï¼›</li>
<li>å¾®ç¬‘å’Œçƒ­æƒ…èƒ½è®©äººæ›´åŠ è‡ªä¿¡ï¼Œä¹Ÿèƒ½åœ¨ä¸€å®šç¨‹åº¦ä¸Šæ¶ˆé™¤ç´§å¼ æ„Ÿï¼›</li>
<li><strong>åšå¥½å‰é¢æåˆ°çš„å‡†å¤‡å’Œè®­ç»ƒå·¥ä½œï¼Œè¿™æ˜¯å…³é”®</strong>ï¼›</li>
<li>æå‰ç†Ÿæ‚‰åœºåœ°ï¼Œæå‰åˆ°åœºï¼Œç†Ÿæ‚‰ä¼šåœºå’Œå¬ä¼—æƒ…å†µï¼Œä»¥ä¾¿å¿«é€Ÿè¿›è¡Œè°ƒæ•´ï¼›</li>
<li>å¼€åœºäº’åŠ¨ï¼Œä¸€æ–¹é¢æ´»è·ƒç°åœºæ°”æ°›ï¼Œå¦ä¸€æ–¹é¢äº†è§£å¬ä¼—æƒ…å†µï¼Œä»¥ä¾¿æ¼”è®²æ—¶å¯¹å†…å®¹è¿›è¡Œè°ƒæ•´ï¼›</li>
<li>ä¹Ÿå¯ä»¥æå‰å‡†å¤‡ä¸€äº›å¹½é»˜æ®µå­ï¼Œé€‚å½“çš„æ—¶å€™ç©¿æ’åˆ°æ¼”è®²ä¸­ã€‚</li>
</ul>
<h3 id="5-å…¶ä»–"><a href="#5-å…¶ä»–" class="headerlink" title="5. å…¶ä»–"></a>5. å…¶ä»–</h3><h4 id="5-1-è®²æ•…äº‹"><a href="#5-1-è®²æ•…äº‹" class="headerlink" title="5.1. è®²æ•…äº‹"></a>5.1. è®²æ•…äº‹</h4><p>ä»¥<strong>ç±»æ¯”</strong>å’Œè®²<strong>æ•…äº‹</strong>çš„æ–¹å¼è¿›è¡Œæ¼”è®²ï¼Œæ›´å®¹æ˜“æŠŠä½ çš„è§‚ç‚¹æ·±æ·±åœ°åˆ»åœ¨åˆ«äººçš„è„‘æµ·ä¸­ã€‚</p>
<p>è€Œæ•…äº‹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ<strong>å‡¡æ˜¯èƒ½è®©äººåœ¨è„‘æµ·ä¸­äº§ç”Ÿç”»é¢æ„Ÿçš„è¯è¯­æˆ–æ–‡å­—å°±æ˜¯æ•…äº‹ã€‚</strong></p>
<p>è€Œæ•…äº‹ä¹‹æ‰€ä»¥æˆä¸ºæ•…äº‹ï¼Œæœ€é‡è¦çš„è¯€çªå°±æ˜¯ â€”â€” â€œå…·ä½“â€ï¼š</p>
<ul>
<li>é¦–å…ˆï¼Œå…·ä½“è®©äººäº§ç”Ÿç”»é¢æ„Ÿï¼Œäº§ç”Ÿæ›´å¤šçš„é’©å­ã€‚</li>
<li>å…¶æ¬¡ï¼Œå…·ä½“è®©äººæ›´å®¹æ˜“äº§ç”Ÿæƒ…ç»ªã€‚</li>
<li>ç¬¬ä¸‰ï¼Œå…·ä½“è®©äººäº§ç”Ÿå¯ä¿¡æ„Ÿã€‚</li>
</ul>
<h4 id="5-2-æ”¶å°¾"><a href="#5-2-æ”¶å°¾" class="headerlink" title="5.2. æ”¶å°¾"></a>5.2. æ”¶å°¾</h4><p>ä¸€åœºæ¼”è®²é€šå¸¸æ¶‰åŠæ¯”å¦‚æ¶æ„ã€æµç¨‹ã€æ–¹æ¡ˆç­‰ä¼—å¤šæŠ€æœ¯ç»†èŠ‚ï¼ŒçœŸæ­£èƒ½è¢«è®°ä½çš„å†…å®¹å…¶å®æ²¡æœ‰å¤šå°‘ï¼Œæ‰€ä»¥éšç€æ¼”è®²è¿›å…¥å°¾å£°ï¼Œæœ€ååšä¸€ä¸ªæ€»ç»“å°±æ˜¾å¾—æ ¼å¤–é‡è¦ã€‚</p>
<p>æ ¹æ®å¿ƒç†å­¦ä¸­çš„â€œè¿‘å› æ•ˆåº”â€ï¼š<strong>äººå¯¹æ¼”è®²æœ«å°¾éƒ¨åˆ†çš„å°è±¡æœ€ä¸ºæ·±åˆ»ï¼Œè®°å¿†ä¹Ÿæœ€ä¸ºæ¸…æ™°ã€‚</strong></p>
<p>æ€»ç»“éƒ¨åˆ†çš„å†…å®¹<strong>åœ¨ç²¾ä¸åœ¨å¤š</strong>ï¼Œè®©å¬ä¼—è®°ä½ä½ æœŸæœ›ä»–è®°ä½çš„ 2-3 ä¸ªå…³é”®ç‚¹ï¼Œå¬ä¼—æœ‰æ”¶è·å°±è¾¾åˆ°ç›®çš„äº†ã€‚å¹¶ä¸”æ€»ç»“çš„æ—¶å€™å¯ä»¥åå¤å¼ºè°ƒç»“è®ºã€å¼ºè°ƒå®è·µã€‚</p>
<h4 id="5-3-å›ç­”é—®é¢˜"><a href="#5-3-å›ç­”é—®é¢˜" class="headerlink" title="5.3. å›ç­”é—®é¢˜"></a>5.3. å›ç­”é—®é¢˜</h4><ul>
<li><p>å°†ä¸å¤ªç†Ÿæ‚‰çš„é—®é¢˜è½¬åŒ–æˆè‡ªå·±æ“…é•¿çš„ã€‚</p>
</li>
<li><p>é¢å¯¹è‡ªå·±ä¸æ“…é•¿çš„é—®é¢˜ï¼Œä¹Ÿå¤§æ–¹æ‰¿è®¤è‡ªå·±ä¸ç¡®å®šç­”æ¡ˆï¼Œä½†å¯ä»¥è®²è®²è‡ªå·±çš„æ€è·¯ã€‚</p>
</li>
<li><p>å§”å©‰é¿å¼€å°´å°¬çš„é—®é¢˜</p>
<blockquote>
<p>è¿™æ˜¯ä¸ªå¾ˆå¥½çš„é—®é¢˜ï¼Œä½†å‡ å¥è¯å¯èƒ½è®²ä¸æ¸…æ¥šï¼Œæ„Ÿå…´è¶£çš„è¯ï¼Œæˆ‘ä»¬çº¿ä¸‹äº¤æµä¸€ä¸‹ã€‚</p>
</blockquote>
<p>  åˆ‡è®°ä¸è¦ä¸æé—®è€…èµ·å†²çªï¼Œç‰¹åˆ«æ˜¯é’ˆå¯¹â€œä½ è®²çš„æˆ‘å®Œå…¨ä¸èµåŒâ€è¿™ç±»è§‚ç‚¹ã€‚</p>
</li>
</ul>
]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>æŠ€æœ¯æ¼”è®²</tag>
        <tag>æ¼”è®²</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸€å ‚æŠ€æœ¯ç®¡ç†è¯¾</title>
    <url>/post/895189460.html</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡æ•´ç†è‡ªï¼š æå®¢æ—¶é—´ä¸“æ <a href="https://oscimg.oschina.net/oscnet/ae44a6b6fee0388014c6335dc070317e18e.jpg" title="ã€Šæœ±èµŸï¼ˆyÅ«nï¼‰çš„æŠ€æœ¯ç®¡ç†è¯¾ã€‹">ã€Šæœ±èµŸï¼ˆyÅ«nï¼‰çš„æŠ€æœ¯ç®¡ç†è¯¾ã€‹</a> ï¼ˆå¾®ä¿¡æ‰«ç è¿›å…¥è¯¾ç¨‹ï¼‰</p>
</blockquote>
<h3 id="ä»ç»™ç­”æ¡ˆåˆ°åšå¼•å¯¼"><a href="#ä»ç»™ç­”æ¡ˆåˆ°åšå¼•å¯¼" class="headerlink" title="ä»ç»™ç­”æ¡ˆåˆ°åšå¼•å¯¼"></a>ä»ç»™ç­”æ¡ˆåˆ°åšå¼•å¯¼</h3><p>æ¯æ¬¡åˆ«äººå‘ä½ è¯·æ•™é—®é¢˜ï¼Œä½ éƒ½æœ‰ç°æˆçš„ç­”æ¡ˆæˆ–å¿«é€Ÿæ‰¾åˆ°ç­”æ¡ˆï¼Œå°±ä¼šæ¸æ¸å¯¼è‡´ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>å‘ä½ é—®é—®é¢˜å’Œå„ç§çäº‹çš„äººè¶Šæ¥è¶Šå¤šï¼›</li>
<li>å› ä¸ºä½ ç»™çš„æ˜¯ç­”æ¡ˆï¼Œä¸‹æ¬¡å¦‚æœæœ‰ç±»ä¼¼çš„é—®é¢˜ï¼Œåˆ«äººè¿˜ä¼šæ¥æ‰¾ä½ ã€‚</li>
</ol>
<p>é‚£ä¹ˆå¦‚ä½•æ”¹å˜å‘¢ï¼Ÿ <strong>æˆäººä»¥é±¼ï¼Œä¸å¦‚æˆäººä»¥æ¸”</strong>ã€‚</p>
<ul>
<li><p>é¦–å…ˆï¼Œéœ€è¦æ˜ç¡®ä»€ä¹ˆæ—¶å€™é€‚åˆç›´æ¥ç»™ç­”æ¡ˆï¼Œä»€ä¹ˆæ—¶å€™é€‚åˆç»™çº¿ç´¢ï¼Œè®©å¯¹æ–¹è‡ªå·±æ‰¾ç­”æ¡ˆã€‚</p>
<p>  å¯æ ¹æ®é—®é¢˜ç±»å‹ï¼ˆç®€å•ã€å¤æ‚ã€å¸¸è§ã€ä¸å¸¸è§ç­‰ï¼‰ï¼Œæé—®äººæ‰€å¤„é˜¶æ®µï¼ˆæ–°äººã€ç•¥æœ‰ç»éªŒã€ç†Ÿæ‰‹ï¼‰æ¥å†³å®šã€‚</p>
</li>
<li><p>å…¶æ¬¡ï¼Œå¦‚ä½•å¼•å¯¼ï¼Ÿ</p>
<p>  å¯ä»¥æ ¹æ®å¯¹æ–¹çš„é—®é¢˜ï¼Œæå‡ºä¸€äº›ç›¸å…³çš„é—®é¢˜ï¼Œé€šè¿‡é—®é¢˜å»å¼•å¯¼å¯¹æ–¹è¿›è¡Œæ·±å…¥æ€è€ƒã€‚</p>
</li>
<li><p>æœ€åï¼Œå¼•å¯¼çš„å¥½å¤„ã€‚</p>
<p>  å¦‚æœæ˜¯é€šè¿‡åˆ«äººçš„å¼•å¯¼ï¼Œè‡ªå·±æ‘¸ç´¢å‡ºæ¥çš„ï¼Œé‚£ä¹ˆä»–è§£å†³ç±»ä¼¼é—®é¢˜çš„èƒ½åŠ›åç»­å°±ä¼šæå‡ã€‚åŒæ—¶ï¼Œä¹Ÿä¼šè°ƒåŠ¨ä»–å·¥ä½œçš„ç§¯ææ€§ï¼Œè®©å…¶äº§ç”Ÿä¸€ç§è‡ªå·±è§£å†³æ¥é—®é¢˜çš„æˆå°±æ„Ÿã€‚</p>
</li>
</ul>
<span id="more"></span>

<h3 id="Bugå¼•å‘äº‹æ•…ï¼Œè¯¥ä¸è¯¥è¿½ç©¶è´£ä»»ï¼Ÿ"><a href="#Bugå¼•å‘äº‹æ•…ï¼Œè¯¥ä¸è¯¥è¿½ç©¶è´£ä»»ï¼Ÿ" class="headerlink" title="Bugå¼•å‘äº‹æ•…ï¼Œè¯¥ä¸è¯¥è¿½ç©¶è´£ä»»ï¼Ÿ"></a>Bugå¼•å‘äº‹æ•…ï¼Œè¯¥ä¸è¯¥è¿½ç©¶è´£ä»»ï¼Ÿ</h3><h4 id="è¿½ç©¶"><a href="#è¿½ç©¶" class="headerlink" title="è¿½ç©¶"></a>è¿½ç©¶</h4><p>å‡å¦‚æ¯ä¸ªé”™è¯¯éƒ½ä¼šå—åˆ°æƒ©ç½šï¼Œä¸éš¾æƒ³è±¡ï¼Œä»¥ä¸‹æƒ…å†µä¸€å®šéš¾ä»¥é¿å…ï¼š</p>
<ul>
<li>å¤§å®¶éƒ½æ€•é—¯ç¥¸ï¼Œæ‰€ä»¥é£é™©é«˜çš„äº‹æ²¡äººåšï¼Œæˆ–è€…æ€»æ˜¯é‚£å‡ ä¸ªé è°±çš„â€œè€å¸æœºâ€åšï¼Œå…¶ä»–äººåˆ™æ°¸è¿œæ²¡æœ‰æœºä¼šå¾—åˆ°é”»ç‚¼ã€‚</li>
<li>å¦‚æœæœ‰äººæç ¸äº†ä»€ä¹ˆäº‹æƒ…ï¼Œä¼šå› ä¸ºæ‹…å¿ƒæ‰¿æ‹…åæœè€Œæ¨å¸è´£ä»»ï¼Œä»è€Œå°½å¯èƒ½æ©ç›–é”™è¯¯çš„åå½±å“ï¼Œä¸è®©äººçŸ¥é“ã€‚</li>
<li>å¦‚æœåˆ«äººçŠ¯äº†é”™ï¼Œä¼šè§‰å¾—ä¸å…³è‡ªå·±çš„äº‹ã€‚</li>
<li>æŒ‡å‡ºåˆ«äººçš„é”™è¯¯å°±ä¼šå¯¼è‡´åˆ«äººè¢«è¿½ç©¶è´£ä»»ï¼Œå› æ­¤çœ‹åˆ°æœ‰é—®é¢˜ä¹Ÿä¼šçŠ¹è±«è¦ä¸è¦æŒ‡å‡ºã€‚</li>
</ul>
<h4 id="ä¸è¿½ç©¶"><a href="#ä¸è¿½ç©¶" class="headerlink" title="ä¸è¿½ç©¶"></a>ä¸è¿½ç©¶</h4><p>åä¹‹ï¼Œå¦‚æœæ— è®ºå‘ç”Ÿä»€ä¹ˆé”™è¯¯ï¼Œéƒ½ä¸éœ€è¦æ‰¿æ‹…åæœæˆ–è¿›è¡Œåçœï¼Œæ²¡æœ‰ä»»ä½•æ‹…å½“ï¼Œé‚£å¯èƒ½åˆä¼šå‡ºç°ä»¥ä¸‹æƒ…å†µï¼š</p>
<ul>
<li>åŒæ ·çš„é”™è¯¯å¯èƒ½ä¼šä¸€å†å‘ç”Ÿã€‚</li>
<li>å°é”™é…¿æˆå¤§é”™ã€‚</li>
<li>åšäº‹ä»”ç»†çš„äººä¼šè§‰å¾—ä¸å…¬å¹³ã€‚</li>
</ul>
<h4 id="æ€ä¹ˆåšï¼Ÿ"><a href="#æ€ä¹ˆåšï¼Ÿ" class="headerlink" title="æ€ä¹ˆåšï¼Ÿ"></a>æ€ä¹ˆåšï¼Ÿ</h4><p>å¯¹äºå·¥ä½œä¸­çš„é”™è¯¯ï¼Œå°¤å…¶æ˜¯ Bug å¯¼è‡´çš„é”™è¯¯ï¼Œæˆ‘ä»¬åº”è¯¥é‡‡å–ä»€ä¹ˆæ€åº¦å’Œæªæ–½å‘¢ï¼Ÿ</p>
<ol>
<li>è¿½ç©¶è´£ä»»ï¼Œä½†ä¸æ˜¯æƒ©ç½šã€‚</li>
<li>å¯¹äº‹å„¿ä¸å¯¹äººã€‚</li>
<li>åå¤é—®â€œä¸ºä»€ä¹ˆâ€ï¼Œä»æ ¹æœ¬ä¸Šå‘ç°é—®é¢˜ã€‚</li>
<li>å‘˜å·¥å…³ç³»çš„å»ºç«‹ä¹Ÿå¾ˆå…³é”®ã€‚æˆ‘ä»¬éœ€è¦åŸ¹å…»çš„æ˜¯å¤§å®¶ç›¸äº’ä¿¡ä»»ã€äº’å¸®äº’åŠ©ï¼Œä¸ºäº†å…±åŒçš„ç›®æ ‡åŠªåŠ›çš„æ°›å›´ï¼Œè€Œä¸æ˜¯ä¸€ç§ä¸å®‰å…¨æ„Ÿã€‚</li>
</ol>
<h3 id="å¦‚ä½•å¸®åŠ©å›¢é˜Ÿæˆå‘˜æˆé•¿ï¼Ÿ"><a href="#å¦‚ä½•å¸®åŠ©å›¢é˜Ÿæˆå‘˜æˆé•¿ï¼Ÿ" class="headerlink" title="å¦‚ä½•å¸®åŠ©å›¢é˜Ÿæˆå‘˜æˆé•¿ï¼Ÿ"></a>å¦‚ä½•å¸®åŠ©å›¢é˜Ÿæˆå‘˜æˆé•¿ï¼Ÿ</h3><p>åŒ…æ‹¬é€šè¿‡æŒ‡å¯¼ã€åé¦ˆã€ç›‘ç£ã€äº¤æµã€åè°ƒèµ„æºç­‰æ–¹å¼å¸®åŠ©ä¸‹å±æå‡èƒ½åŠ›ï¼Œè¿…é€Ÿæˆé•¿ã€‚</p>
<p>ä½œä¸ºç®¡ç†è€…ï¼Œåº”è¯¥ç»å¸¸æ€è€ƒçš„æ˜¯ï¼š</p>
<ul>
<li>æ€æ ·åšèƒ½å¤Ÿè®©å‘˜å·¥è¿›æ­¥åˆ°æ›´é«˜å±‚æ¬¡ï¼Ÿ</li>
<li>ä»–çš„æ½œåŠ›åœ¨å“ªï¼Œå“ªäº›åœ°æ–¹æ˜¯å¯ä»¥åŸ¹å…»å’ŒæŒ–æ˜çš„ï¼Ÿ</li>
<li>æ€ä¹ˆå¸®åŠ©å‘˜å·¥æ”¹è¿›ä»–ä¸ç»„å†…ç»„å¤–åŒäº‹çš„å…³ç³»ï¼Œè®©ä»–æœ‰æœºä¼šæ›´å¥½åœ°å‘æŒ¥ä»–çš„é•¿å¤„ï¼Ÿ</li>
<li>æ€æ ·å°½æ—©åœ°å‘ç°ä»–çš„é”™è¯¯å’Œç¼ºç‚¹ï¼Œå¹¶å¸®åŠ©ä»–è®¤è¯†å’Œæ”¹è¿›ï¼Œè€Œä¸æ˜¯åœ¨é”™è¯¯å˜æˆåæœåï¼Œå»è¿½ç©¶è´£ä»»ã€‚</li>
<li>æ€æ ·å¸®åŠ©ä»–åœ¨ä¸æ“…é•¿çš„é¢†åŸŸå»ºç«‹ä¿¡å¿ƒï¼Ÿ</li>
<li>æ€æ ·å¸®åŠ©ä»–å­¦ä¼šå¤„ç†å„ç§å‹åŠ›å’ŒçŸ›ç›¾ï¼Ÿ</li>
</ul>
<p>åˆ‡å¿Œé™·å…¥é™æ€æ€ç»´å»çœ‹å¾…åŠ¨æ€å‘å±•çš„é—®é¢˜ã€‚</p>
<ul>
<li>å¤šå’Œè‡ªå·±å¯¹è¯ï¼Œæƒ³æƒ³è‡ªå·±å“ªäº›æ—¶å€™ã€å“ªäº›æ–¹é¢ä¼šç”¨é™æ€çš„çœ¼å…‰å»çœ‹å¾…åˆ«äººçš„èƒ½åŠ›ã€‚</li>
<li>æŠŠè‡ªå·±æœ‰è¿™ç§å¿ƒæ€æ—¶çš„è¡¨ç°æˆ–å†…å¿ƒçš„ä¸€äº›æƒ³æ³•å†™å‡ºæ¥ã€‚</li>
<li>å†é‡åˆ°ç±»ä¼¼çš„æƒ…å†µï¼Œåœä¸€ä¸‹ï¼Œæƒ³ä¸€æƒ³æ˜¯ä¸æ˜¯è‡ªå·±å¯ä»¥æœ‰æ‰€æ”¹å˜ã€‚</li>
<li>è¯šæ³åœ°å‘Šè¯‰ç»„å‘˜å¸Œæœ›å¸®åŠ©ä»–æˆé•¿ï¼Œå¤šäº¤æµå¹¶å¬å–å¯¹æ–¹çš„æƒ³æ³•ã€‚</li>
</ul>
<blockquote>
<p><strong>ä¸€ä¸ªæŠ€æœ¯ç®¡ç†è€…çš„æˆåŠŸå¹¶ä¸åœ¨äºè‡ªå·±ä»£ç å¤šå¥½ã€èƒ½åŠ›å¤šå¼ºï¼Œä»–çš„æˆåŠŸä¸€å®šå»ºç«‹åœ¨å›¢é˜ŸæˆåŠŸçš„åŸºç¡€ä¹‹ä¸Šã€‚åªæœ‰å›¢é˜Ÿæˆå‘˜ä¸æ–­æˆé•¿ï¼Œè¿™ä¸ªå›¢é˜Ÿæ‰å¯ä»¥åšæˆæ›´å¤§çš„äº‹æƒ…ï¼Œè€Œä½ æ‰å¯ä»¥åœ¨å›¢é˜Ÿçš„åŸºç¡€ä¸Šï¼Œç«™å¾—æ›´é«˜ã€çœ‹å¾—æ›´è¿œã€‚</strong></p>
</blockquote>
<h3 id="å½“æˆ‘ä»¬ç»™åˆ«äººææ„è§æ—¶ï¼Œè¦æ³¨æ„äº›ä»€ä¹ˆï¼Ÿ"><a href="#å½“æˆ‘ä»¬ç»™åˆ«äººææ„è§æ—¶ï¼Œè¦æ³¨æ„äº›ä»€ä¹ˆï¼Ÿ" class="headerlink" title="å½“æˆ‘ä»¬ç»™åˆ«äººææ„è§æ—¶ï¼Œè¦æ³¨æ„äº›ä»€ä¹ˆï¼Ÿ"></a>å½“æˆ‘ä»¬ç»™åˆ«äººææ„è§æ—¶ï¼Œè¦æ³¨æ„äº›ä»€ä¹ˆï¼Ÿ</h3><ul>
<li><p>é¦–å…ˆï¼Œè¦æ€è€ƒè‡ªå·±æ˜¯ä¸æ˜¯åˆé€‚æè¿™ä¸ªæ„è§ã€‚</p>
<p>  ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹æ–¹ä¼šä¸ä¼šäº§ç”Ÿ â€œå°±å‡­ä½ â€ çš„é€†åå¿ƒç†ã€‚</p>
<p>  åœ¨å·¥ä½œä¸­é€‚å½“æ”¾ä½å§¿æ€ï¼Œå¾€å¾€æ›´å®¹æ˜“è·å¾—å°Šé‡ã€‚</p>
<p>  <strong>ä¸è¦æ€»æ˜¯è¯•å›¾å±…é«˜ä¸´ä¸‹åœ°ææ„è§ï¼Œå°¤å…¶æ˜¯ä½ åœ¨å¯¹æ–¹å¿ƒé‡Œè¿˜æ²¡æœ‰å»ºç«‹ä»»ä½•ä¿¡ä»»å’Œå¨ä¿¡çš„æ—¶å€™ï¼Œä¸è¦è´¸ç„¶ç»™åˆ«äººæè´Ÿé¢æ„è§ã€‚</strong></p>
</li>
<li><p>å…¶æ¬¡ï¼Œææ„è§è¦è®²ç©¶åˆé€‚çš„æ—¶æœº</p>
<p>  ç¡®å®šä»€ä¹ˆæ—¶å€™åº”è¯¥æä»€ä¹ˆæ ·çš„æ„è§ã€‚</p>
<p>  ç›´æ¥ç»™å‡ºæ„è§æ—¶ï¼Œéœ€æ³¨æ„ï¼š</p>
<ol>
<li>åœ°ç‚¹å¾ˆé‡è¦ï¼Œå°½é‡æ‰¾ä¸ªå®‰é™çš„åœ°æ–¹ï¼Œé¿å¼€å…¶ä»–äººï¼›</li>
<li>å¯èƒ½çš„è¯ï¼Œç¨å¾®ç”¨å‡ å¥é—²èŠæ¥å¯¼å…¥æ­£é¢˜ï¼›</li>
<li>ææ„è§æ—¶ï¼Œè¯­æ°”ä¸åº”è¯¥æ˜¯è´£å¤‡ï¼Œè€Œæ˜¯æè¿°é—®é¢˜ï¼›</li>
<li>ä¸è¦åŠ å…¥å¤ªå¤šä¸ªäººæ„Ÿè§‰ã€è§‚ç‚¹å’Œæƒ…ç»ªï¼Œé¿å…ä½¿ç”¨ä¸€äº›åƒ â€œä½ æ€»æ˜¯â€â€œä½ ä»æ¥éƒ½â€ çš„è¯„ä»·ã€‚</li>
</ol>
<p>  <strong>æœ‰æ•ˆçš„è®¨è®ºéœ€è¦å¿ƒå¹³æ°”å’Œ</strong>ï¼Œæ‰¾å‡ºé—®é¢˜çš„æœ€ä¼˜è§£æ‰æ˜¯å…³é”®ã€‚</p>
</li>
<li><p>æœ€åï¼Œå¤šå¤¸å¤¸å¯¹æ–¹åšå¾—å¥½çš„åœ°æ–¹ï¼Œå¤šç»™äºˆæ­£å‘åé¦ˆ</p>
<p>  å¾ˆå¤šæ—¶å€™ï¼Œæ­£å‘åé¦ˆèƒ½æ›´å¥½åœ°å¸®åŠ©å¯¹æ–¹æˆé•¿ã€‚è¡¨æ‰¬çš„åŠ›é‡æ°¸è¿œå¤§äºæ‰¹è¯„ï¼Œä»–ä¼šè¯•å›¾æŠŠäº‹æƒ…åšå¾—æ›´å¥½ã€‚</p>
<p>  æ­£å‘çš„æ²Ÿé€šè¿˜èƒ½å¸®åŠ©ä½ ä¸å¯¹æ–¹æ„å»ºè‰¯å¥½çš„æ²Ÿé€šæ¸ é“ï¼Œè®©ä½ ä»¬æœªæ¥çš„åˆä½œæ›´ä¸ºé¡ºç•…å’Œæœ‰æ•ˆã€‚</p>
</li>
</ul>
<h3 id="å½“åˆ«äººç»™æˆ‘ä»¬ææ„è§æ—¶ï¼Œè¯¥å¦‚ä½•åº”å¯¹ï¼Ÿ"><a href="#å½“åˆ«äººç»™æˆ‘ä»¬ææ„è§æ—¶ï¼Œè¯¥å¦‚ä½•åº”å¯¹ï¼Ÿ" class="headerlink" title="å½“åˆ«äººç»™æˆ‘ä»¬ææ„è§æ—¶ï¼Œè¯¥å¦‚ä½•åº”å¯¹ï¼Ÿ"></a>å½“åˆ«äººç»™æˆ‘ä»¬ææ„è§æ—¶ï¼Œè¯¥å¦‚ä½•åº”å¯¹ï¼Ÿ</h3><ol>
<li><p>å°½é‡æ’é™¤æƒ…ç»ªä»¥åŠåè§å¯¹æˆ‘ä»¬çš„å¹²æ‰°ã€‚</p>
</li>
<li><p>å‡å®šå¯¹æ–¹æ˜¯å–„æ„çš„ã€‚</p>
<p> å°½å¯èƒ½ä»¥æ„Ÿæ¿€çš„å¿ƒæ€å»å¬å–æ„è§ï¼Œå°½ç®¡è¿™ä¸€ç‚¹å¾ˆéš¾ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯è¦å°½åŠ›ä¸ºä¹‹ã€‚</p>
</li>
<li><p>äº†è§£æ„è§çš„å…·ä½“ç»†èŠ‚ï¼ŒæŠŠå…³æ³¨ç‚¹æ”¾åœ¨å¯¹æ–¹çš„å‡ºå‘ç‚¹ï¼Œä»¥åŠå¯¹æ–¹å¸Œæœ›æˆ‘ä»¬æ”¹è¿›çš„åœ°æ–¹ã€‚</p>
</li>
<li><p>å¯¹æ„è§é‡Œçš„ä¿¡æ¯è¿›è¡Œåˆ†ç±»å’Œè¿‡æ»¤ã€‚</p>
<p> æ€è€ƒä¸€ä¸‹ï¼šå“ªäº›æ˜¯è¯¯è§£ï¼Œå“ªäº›æ˜¯è‡ªå·±çš„ä¸è¶³ï¼Œå“ªäº›æ˜¯è‡ªå·±å¯ä»¥é€šè¿‡æ²Ÿé€šå»æ”¹å˜çš„ï¼Œå“ªäº›æ˜¯è‡ªå·±éœ€è¦å°è¯•æ”¹è¿›çš„ã€‚</p>
<p> å†ä¸‰ç¡®å®šåï¼Œå¦‚æœç¡®å®ä¸æ˜¯è‡ªå·±çš„é—®é¢˜ï¼Œä¹Ÿä¸ç”¨åæ„Ÿï¼Œä¸€ç¬‘è€Œè¿‡å°±å¥½ã€‚</p>
</li>
</ol>
<h3 id="é¡¹ç›®å»¶æœŸäº†ï¼Œä½œä¸ºè´Ÿè´£äººè¯¥æ€ä¹ˆåŠï¼Ÿ"><a href="#é¡¹ç›®å»¶æœŸäº†ï¼Œä½œä¸ºè´Ÿè´£äººè¯¥æ€ä¹ˆåŠï¼Ÿ" class="headerlink" title="é¡¹ç›®å»¶æœŸäº†ï¼Œä½œä¸ºè´Ÿè´£äººè¯¥æ€ä¹ˆåŠï¼Ÿ"></a>é¡¹ç›®å»¶æœŸäº†ï¼Œä½œä¸ºè´Ÿè´£äººè¯¥æ€ä¹ˆåŠï¼Ÿ</h3><blockquote>
<p>å…ˆé—®è‡ªå·±å‡ ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆé¡¹ç›®å»¶æœŸäº†ï¼Œä½ æ˜¯ä»€ä¹ˆæ—¶å€™ç¬¬ä¸€æ¬¡æ„Ÿè§‰åˆ°é¡¹ç›®å¯èƒ½ä¼šå»¶æœŸï¼Œåœ¨æ­¤ä¹‹åä½ åšäº†ä»€ä¹ˆï¼Ÿ</p>
</blockquote>
<p>å¯¹äº<strong>ä¸å¯æ§å› ç´ </strong>ï¼Œæˆ‘ä»¬èƒ½åšçš„å¹¶ä¸å¤šï¼Œåªèƒ½æƒè¡¡å–èˆï¼Œå¯¹é¡¹ç›®æœŸé™ã€äººå‘˜æˆ–è€…éœ€æ±‚èŒƒå›´åšå‡ºè°ƒæ•´ã€‚</p>
<p>å¦‚æœæ˜¯è®¡åˆ’æœ¬èº«çš„é—®é¢˜ï¼Œæˆ–è€…æ˜¯å› ä¸ºé¡¹ç›®æˆå‘˜æ²¡æœ‰å¾ˆå¥½åœ°è·Ÿè¿›åŒä¸€ä¸ªè®¡åˆ’å¹¶ä¿æŒä¸€è‡´ï¼Œé‚£æˆ‘ä»¬åº”è¯¥å°½æœ€å¤§å¯èƒ½é¿å…è¿™äº›é—®é¢˜çš„å‘ç”Ÿã€‚</p>
<p>å…·ä½“æªæ–½ï¼š</p>
<ol>
<li><p>å»ºç«‹ä¸€å®šçš„æµç¨‹ã€‚</p>
<p> è¿™é‡ŒåŒ…æ‹¬è®¡åˆ’åˆ¶å®šæµç¨‹å’Œè®¡åˆ’è·Ÿè¿›æµç¨‹ï¼Œä¹Ÿè®¸æ˜¯æ¯å‘¨ä¸€æ¬¡çš„åŒæ­¥ä¼šè®®ï¼Œä¹Ÿè®¸æ˜¯ä¸€ä¸ªå…±äº«çš„ä»»åŠ¡ç®¡ç†å·¥å…·ï¼Œä¸è¦è¿‡åˆ†ç›¸ä¿¡è‡ªå·±éšæœºè·Ÿè¿›çš„èƒ½åŠ›ã€‚</p>
</li>
<li><p>åœ¨æ•´ä¸ªé¡¹ç›®è®¡åˆ’ä¸­ï¼Œè¦æœ‰æ˜ç¡®çš„ä¼˜å…ˆçº§ã€‚</p>
<p> çŸ¥é“å“ªäº›ä»»åŠ¡æ˜¯éåšä¸å¯çš„ï¼›å“ªäº›ä»»åŠ¡æ˜¯åˆ«çš„ä»»åŠ¡æ‰€ä¾èµ–ï¼Œéœ€è¦æå‰å®Œæˆçš„ç­‰ç­‰ã€‚</p>
<p> äººä»¬å¾€å¾€æœ‰å…ˆå¤„ç†ç®€å•ä»»åŠ¡çš„æƒ°æ€§ï¼Œå¦‚æœæ²¡æœ‰ææ¸…æ¥šè½»é‡ç¼“æ€¥ï¼Œé‚£å°±æœ‰å¯èƒ½å‡ºç°ä¸å¤ªé‡è¦çš„æ‚äº‹éƒ½åšå®Œäº†ï¼Œè€Œé‡è¦çš„äº‹å´æ²¡æœ‰å¤ªå¤§è¿›å±•çš„æƒ…å†µã€‚</p>
</li>
<li><p>åˆ¶ä½œä¸€ä¸ªå…±äº«çš„é¡¹ç›®çŠ¶æ€è¡¨ï¼Œè®©å›¢é˜Ÿæˆå‘˜å¯ä»¥ä¸€çœ¼å°±çœ‹æ¸…æ¥šé¡¹ç›®è¿›å±•ï¼Œå¹¶ä¿æŒè¯¥å›¾è¡¨çš„æ›´æ–°ã€‚</p>
<p> è¿›åº¦è¡¨å¯ä»¥ä½œä¸ºå¤§å®¶å¯¹è¿›åº¦è¯„ä¼°çš„å·¥å…·ï¼Œä¹Ÿå¯ä»¥æ˜¯è´Ÿè´£äººåˆ¤æ–­å“ªé‡Œéœ€è¦é‡ç‚¹è·Ÿè¿›çš„ä¾æ®ã€‚</p>
<p> ç¡®ä¿è¿™ä¸ªè®¡åˆ’æ˜¯æ¯ä¸ªä¸»è¦ç›¸å…³è€…éƒ½ç¡®è®¤å¹¶åŒæ„çš„ï¼Œå¹¶åœ¨åŒæ„åè®©ä»–ä»¬æ¯å¤©éƒ½èƒ½çœ‹åˆ°è¿™ä¸ªè®¡åˆ’çš„æ‰€æœ‰æ›´æ–°ã€‚</p>
</li>
<li><p>ä¸è¦æ¼æ‰ä»»ä½•ä¸€ä¸ªäººã€‚</p>
<p> ä¸è¦è§‰å¾—æš‚æ—¶è¿˜æ²¡æœ‰ä»–çš„æ´»å„¿ï¼Œå¯ä»¥å…ˆä¸ç”¨è·Ÿä»–æ²Ÿé€šã€‚å½“ä¸€ä¸ªé¡¹ç›®çš„è®¡åˆ’è½å®åï¼Œåº”è¯¥ç¬¬ä¸€æ—¶é—´è®©æ‰€æœ‰ç›¸å…³çš„äººäº†è§£åˆ°ã€‚ä¸´æ—¶é€šçŸ¥ä¼šè®©åˆä½œè€…æˆ–å¸®å¿™çš„äººæ²¡æœ‰å‚ä¸æ„Ÿï¼Œå¹¶ä¸”å¾ˆå®¹æ˜“å› ä¸ºå¯¹æ–¹æ²¡æœ‰æå‰å‡†å¤‡åœ¨æ—¶é—´ä¸Šæ— æ³•è¾¾æˆä¸€è‡´ã€‚</p>
</li>
<li><p>æä¾›ä¸€ä¸ªæœ‰æ•ˆçš„åé¦ˆæ¸ é“ã€‚</p>
<p> ä»»ä½•äººåœ¨ä»»ä½•æ—¶å€™å¯¹é¡¹ç›®æœ‰æ‹…å¿ƒæˆ–è€…è´¨ç–‘ï¼Œç¡®ä¿ä»–å¯ä»¥é€šè¿‡æœ‰æ•ˆçš„é€”å¾„è®©ä½ ç¬¬ä¸€æ—¶é—´çŸ¥é“ä»–çš„æ‹…å¿ƒã€‚</p>
</li>
</ol>
<h3 id="ç®¡ç†è€…åœ¨è¿›è¡Œå·¥ä½œåˆ†é…æ—¶ï¼Œä¼šè€ƒè™‘å“ªäº›é—®é¢˜ï¼Ÿ"><a href="#ç®¡ç†è€…åœ¨è¿›è¡Œå·¥ä½œåˆ†é…æ—¶ï¼Œä¼šè€ƒè™‘å“ªäº›é—®é¢˜ï¼Ÿ" class="headerlink" title="ç®¡ç†è€…åœ¨è¿›è¡Œå·¥ä½œåˆ†é…æ—¶ï¼Œä¼šè€ƒè™‘å“ªäº›é—®é¢˜ï¼Ÿ"></a>ç®¡ç†è€…åœ¨è¿›è¡Œå·¥ä½œåˆ†é…æ—¶ï¼Œä¼šè€ƒè™‘å“ªäº›é—®é¢˜ï¼Ÿ</h3><ol>
<li><p>å»ºç«‹å‚è€ƒåŸºçº¿</p>
<p> å½“å’Œä¸€ä¸ªäººæ²¡æœ‰ä»»ä½•ç›´æ¥æ¥è§¦çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç¬¬ä¸‰æ–¹è¯„ä»·ã€ä¸ªäººå±¥å†ä»¥åŠè¯¥å‘˜å·¥åšè¿‡çš„é¡¹ç›®æˆ–äº§å“æ¥è¡¡é‡ä»–çš„èƒ½åŠ›ã€‚</p>
</li>
<li><p>é—®å¯¹é—®é¢˜æ¯”æ­£ç¡®ç­”æ¡ˆæ›´é‡è¦</p>
<p> æŠŠä»»åŠ¡äº¤åˆ°å‘˜å·¥æ‰‹é‡Œä¹‹å‰ï¼Œè¦å’Œä»–è¿›è¡Œå……åˆ†çš„æ²Ÿé€šã€‚å‘Šè¯‰ä»–ä»»åŠ¡çš„è¯¦ç»†æƒ…å½¢ï¼Œçœ‹ä»–ä¼šé—®å‡ºä»€ä¹ˆæ ·çš„é—®é¢˜ï¼Œæå‡ºå“ªäº›æƒ³æ³•ã€‚</p>
<p> è¿™èƒ½å¸®åŠ©æˆ‘ä»¬è¿›ä¸€æ­¥è¯„ä¼°ä»–æ˜¯ä¸æ˜¯çœŸçš„äº†è§£ä»»åŠ¡çš„çŠ¶å†µï¼Œæœ‰æ²¡æœ‰ç»¼åˆå»è€ƒè™‘ä»»åŠ¡ä¸­çš„é—®é¢˜ã€‚</p>
</li>
<li><p>å·¥æœŸä¼°ç®—</p>
<p> ä¼°ç®—å®Œæˆä»»åŠ¡çš„å·¥æœŸæ˜¯åˆ†é…ä»»åŠ¡ä¸­å¿…ä¸å¯å°‘çš„ç¯èŠ‚ã€‚å¯ä»¥è®©æ¥å—ä»»åŠ¡çš„å‘˜å·¥è¯•ç€å»ä¼°ç®—ï¼šéœ€è¦å¤šä¹…å®Œæˆï¼Œå¤§æ¦‚ä»€ä¹ˆæ—¶å€™å®Œæˆï¼Œéœ€è¦ä»€ä¹ˆæ ·çš„èµ„æºç­‰ã€‚</p>
<p> å¦‚æœä¸€ä¸ªäººä¸èƒ½èŠ±è´¹è¶³å¤Ÿçš„æ—¶é—´å»äº†è§£è‡ªå·±æœªçŸ¥çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬å¾ˆéš¾æ”¾å¿ƒåœ°æŠŠä»»åŠ¡äº¤ç»™ä»–ç‹¬ç«‹å®Œæˆã€‚</p>
</li>
<li><p>æ‰§è¡ŒåŠ›</p>
<p> å·¥ä½œä¸­æœ‰ä¸€äº›äººï¼Œä»–ä»¬çš„æ²Ÿé€šèƒ½åŠ›ã€è®¡åˆ’èƒ½åŠ›éƒ½å¾ˆå¼ºï¼Œä½†æ˜¯æ‰§è¡ŒåŠ›å´æ¯”è¾ƒå·®ï¼Œæˆ–è€…æ²¡æœ‰ç²˜æ»åŠ›ï¼Œæ‰§è¡Œè¿‡ç¨‹ä¸­å®¹æ˜“é‡éš¾å°±é€€ã€è™å¤´è›‡å°¾ã€‚è¿™äº›äººå±äºèƒ½è¯´ä½†ä¸èƒ½æŠŠäº‹æƒ…åšå¥½çš„äººï¼Œéš¾ä»¥æ‰˜ä»˜å¤§äº‹ã€‚å¦‚æœä½ çš„é¡¹ç›®ä¸­æœ‰é‡è¦çš„ä»»åŠ¡ï¼Œåˆ‡è®°ä¸è¦äº¤ç»™è¿™æ ·çš„äººå»åšã€‚</p>
</li>
<li><p>åæœŸç»´æŠ¤</p>
<p> å®Œæˆä¸€ä¸ªé¡¹ç›®å¹¶ä¸æ„å‘³ç€é¡¹ç›®çš„ç»“æŸï¼Œå¾ˆå¤šæ—¶å€™ï¼Œé¡¹ç›®ä¸Šçº¿äº†è¿˜éœ€è¦ä¸€æ®µæ—¶é—´çš„ç»´æŠ¤å·¥ä½œã€‚è¿™åŒ…æ‹¬äº† Bug ä¿®å¤ï¼Œæ’æŸ¥ç”¨æˆ·åé¦ˆçš„é—®é¢˜ï¼Œå®Œæˆåç»­çš„è¿­ä»£å¼€å‘ç­‰ç­‰ã€‚</p>
<p> äºæ˜¯ï¼Œä½ éœ€è¦å»è§‚å¯Ÿï¼šä¸€ä¸ªäººæ˜¯ä¸æ˜¯å¯ä»¥è‡ªè§‰åœ°ç»´æŠ¤äº§å“ï¼Œæœ‰æ²¡æœ‰è´£ä»»æ„Ÿï¼Œä¼šä¸ä¼šæ¨å¸è´£ä»»ï¼Œå‡ºäº†é—®é¢˜ï¼Œèƒ½ä¸èƒ½ç¬¬ä¸€æ—¶é—´å†²åˆ°ä¸€çº¿è§£å†³ã€‚è¿™äº›éƒ½æ˜¯å¾ˆé‡è¦çš„å“è´¨ï¼Œä¹Ÿæ˜¯ä½ åˆ¤æ–­ä»–æ˜¯å¦èƒ½å¤Ÿæ‰¿æ‹…æ›´é‡è¦ä»»åŠ¡çš„å‚è€ƒã€‚</p>
</li>
</ol>
<p>åœ¨åˆ†é…å·¥ä½œçš„è¿‡ç¨‹ä¸­ï¼Œä½ è¿˜éœ€è¦æ³¨æ„ä¸€äº›ç»†èŠ‚é—®é¢˜ï¼š</p>
<ul>
<li><p>å¦‚ä½•å¯¹å¾…èŒåœºæ–°äºº</p>
<p>  ä¸€äº›èŒåœºæ–°äººå¾ˆæœ‰æ½œåŠ›ï¼Œä½†ç»éªŒä¸è¶³ï¼Œä¹Ÿè®¸ä»–ä»¬åœ¨é¡¹ç›®åˆæœŸæœ‰å¾ˆå¤šåœ°æ–¹è€ƒè™‘ä¸å®Œå–„ã€‚è¿™ä¸ªæ—¶å€™ï¼Œä¸è¦è½»æ˜“åœ°å¦å®šä»–ä»¬çš„å·¥ä½œã€‚å¦‚æœä½ å¯ä»¥è€å¿ƒåœ°èŠ±äº›æ—¶é—´æ‚‰å¿ƒæŒ‡å¯¼ï¼Œä»–ä»¬å¯ä»¥å¿«é€Ÿåœ°å­¦ä¹ å¹¶ä¸”è¿›æ­¥ã€‚</p>
</li>
<li><p>å¦‚ä½•é’ˆå¯¹ä¸åŒç±»å‹çš„å‘˜å·¥åˆ†é…å·¥ä½œ</p>
<p>  åœ¨åˆ†é…ä»»åŠ¡çš„æ—¶å€™ï¼Œä½ éœ€è¦æ ¹æ®æ¯ä¸ªäººçš„ç‰¹ç‚¹å®‰æ’ä¸åŒç±»å‹çš„ä»»åŠ¡ï¼Œå¹¶æä¾›ç›¸åº”çš„æ”¯æŒå’Œå¸®åŠ©ï¼Œæ‰¬é•¿é¿çŸ­ï¼Œæ‰èƒ½å‘æŒ¥äººå‘˜çš„æœ€å¤§æ•ˆåŠ›ã€‚</p>
</li>
<li><p>å¤§é¡¹ç›®çš„å·¥ä½œåˆ†é…</p>
<p>  æŒ‡å®šé¡¹ç›®è´Ÿè´£äººï¼Œå…¶åŒæ ·éœ€è¦æ‹¥æœ‰åˆ†é…ä»»åŠ¡çš„èƒ½åŠ›ï¼Œå¯¹äºå¤§éƒ¨åˆ†äº‹æƒ…ä¸è¦äº²åŠ›äº²ä¸ºï¼Œè€Œæ˜¯åˆ†é…ç»™åˆé€‚çš„äººï¼Œæ•´ä¸ªè¿‡ç¨‹ä¸­æ²Ÿé€šã€åè°ƒä¸ºä¸»ã€‚</p>
</li>
</ul>
<h3 id="ç®¡ç†è€…ä¸ç”¨äº²åŠ›äº²ä¸ºï¼šå…³é”®æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ç®¡ç†è€…ä¸ç”¨äº²åŠ›äº²ä¸ºï¼šå…³é”®æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ç®¡ç†è€…ä¸ç”¨äº²åŠ›äº²ä¸ºï¼šå…³é”®æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ç®¡ç†è€…ä¸ç”¨äº²åŠ›äº²ä¸ºï¼šå…³é”®æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>æŠŠå…³æ³¨ç‚¹æ”¾åœ¨å¦‚ä½•å¸®åŠ©åˆ«äººæŠŠäº‹æƒ…åšå¥½ä¸Šé¢ã€‚æ¯”å¦‚ï¼Œæ¥å—ä»»åŠ¡çš„äººéœ€è¦å“ªäº›æ”¯æŒå’Œå¸®åŠ©æ‰èƒ½å¾ˆå¥½çš„å®Œæˆä»»åŠ¡å‘¢ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨ä»€ä¹ˆæ ·çš„æ—¶é—´ç‚¹å»æä¾›è¿™æ ·çš„å¸®åŠ©ã€‚</p>
<p>ä½œä¸ºä¸€ä¸ªç®¡ç†è€…ï¼Œæˆ‘ä»¬åœ¨æˆæƒå’Œåˆ†é…ä»»åŠ¡çš„æ—¶å€™åº”è¯¥æ³¨æ„ï¼š</p>
<ul>
<li>è®©å¯¹æ–¹æ˜ç¡®ç›®æ ‡ï¼ŒçŸ¥é“æœ€ç»ˆæƒ³è¦è¾¾åˆ°çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Œå¯¹è¿™ä¸ªä»»åŠ¡å®Œæˆçš„æœŸæœ›å€¼æ˜¯æ€æ ·çš„ã€‚</li>
<li>åˆ¶å®šä¸€ä¸ªè®¡åˆ’ï¼Œå¹¶ä¿æŒè·Ÿè¿›ã€‚</li>
<li>ç»™å‡ºåé¦ˆï¼Œå°¤å…¶æ˜¯æ­£é¢çš„åé¦ˆã€‚</li>
</ul>
<p>é¡¹ç›®ç®¡ç†ä¸­çš„ä¸‰ä¸ªæŠ€å·§ï¼š</p>
<ol>
<li><p>åœ¨åšé¡¹ç›®è®¡åˆ’çš„æ—¶å€™ï¼Œè¦å¯¹å¤šä¸ªé¡¹ç›®è¿›è¡Œç»†åˆ†é‡ç»„</p>
<p> å¯¹è¦åšçš„ä»»åŠ¡é‡æ–°ç»†åˆ†é‡ç»„ï¼ŒæŠŠå¤§ä»»åŠ¡å˜æˆä¸€ä¸ªä¸ªå‡åŒ€çš„å°ä»»åŠ¡ï¼Œç„¶åæ ¹æ®ä¸ªäººèƒ½åŠ›ï¼Œä»»åŠ¡çš„ç›¸äº’ä¾èµ–æƒ…å†µç­‰é‡æ–°åˆ†é…ä¸‹å»ã€‚</p>
</li>
<li><p>å·¥æœŸä¼°ç®—</p>
<p> ç®¡ç†è€…å’Œä»»åŠ¡çš„è´Ÿè´£äººè¦è¾¾æˆä¸€è‡´ï¼Œå¹¶ä¸”æ³¨æ„åˆ°ï¼Œå·¥ç¨‹å¸ˆé—¨åœ¨è¿›è¡Œæ—¶é—´é¢„ç®—çš„æ—¶å€™éƒ½æ˜¯æ¯”è¾ƒä¹è§‚ã€ç†æƒ³çš„ï¼Œæœ€å¥½ä¸ºé¡¹ç›®é¢„ç•™ç¼“å†²çš„æ—¶é—´ã€‚</p>
</li>
<li><p>å®æ—¶è·Ÿè¿›ï¼Œå¹¶å‡†å¤‡å¥½ B è®¡åˆ’</p>
<p> ä¸ºé¡¹ç›®åˆç†è®¾ç½®é‡Œç¨‹ç¢‘ï¼Œå¹¶å®æ—¶è·Ÿè¿›ï¼Œä¸€æ—¦å‡ºç°é—®é¢˜ï¼Œå°±è¦å¯åŠ¨ B è®¡åˆ’ã€‚</p>
</li>
</ol>
<p>å¦‚ä½•å¤„ç†å·¥ä½œä¸­çš„äººé™…å…³ç³»ï¼Ÿ</p>
<p>äººé™…å…³ç³»æ˜¯ä¸€ä¸ªç‰¹åˆ«å¤æ‚çš„è¯é¢˜ï¼Œå› äººè€Œå¼‚ï¼Œæ›´å› æƒ…å½¢è€Œå¼‚ã€‚</p>
<p>é‚£ä¹ˆå¦‚ä½•å¤„ç†äººé™…å…³ç³»å‘¢ï¼Ÿåœ¨è¿™é‡Œï¼Œæˆ‘æœ‰å‡ ç‚¹å»ºè®®ï¼Œå†…å®¹å¯èƒ½æ›´åå‘äºä¸ªäººæ„Ÿæ‚Ÿï¼Œä»…ä¾›ä½ çš„å‚è€ƒï¼š</p>
<ol>
<li>å¯¹äºè‡ªå·±çš„ä¸Šä¸‹çº§ï¼Œä¿æŒå¼€æ”¾çš„å¿ƒæ€å’Œæ„¿æ„æ²Ÿé€šçš„æ€åº¦ååˆ†é‡è¦ã€‚</li>
<li>åœ¨äº¤å¾€è¿‡ç¨‹ä¸­ï¼Œå°½å¯èƒ½å¯¹åˆ«äººçš„åˆ†äº«ã€å·¥ä½œã€äº¤æµæŒä¸€ç§ç§¯æã€å‹å–„å’Œé¼“åŠ±çš„æ€åº¦ã€‚</li>
<li>åŠ å…¥ä¸€äº›æœ‰åˆ©äºè‡ªå·±æˆé•¿çš„ç¤¾äº¤åœˆå­ã€‚</li>
<li>é€‚å½“çš„å¯»æ±‚å¸®åŠ©ã€‚</li>
<li>å¯¹äºåˆ«äººçš„æ„è§è¦å°½å¯èƒ½è®¤çœŸå¯¹å¾…ã€‚</li>
</ol>
<h3 id="å¦‚ä½•æ¿€å‘å›¢é˜Ÿäººå‘˜çš„è´£ä»»å¿ƒï¼Ÿ"><a href="#å¦‚ä½•æ¿€å‘å›¢é˜Ÿäººå‘˜çš„è´£ä»»å¿ƒï¼Ÿ" class="headerlink" title="å¦‚ä½•æ¿€å‘å›¢é˜Ÿäººå‘˜çš„è´£ä»»å¿ƒï¼Ÿ"></a>å¦‚ä½•æ¿€å‘å›¢é˜Ÿäººå‘˜çš„è´£ä»»å¿ƒï¼Ÿ</h3><ol>
<li><p>æ˜ç¡®è´£ä»»åˆ¶ï¼Œå°½å¯èƒ½é€šè¿‡è§„åˆ™æ¥æ˜ç¡®å’Œè§„èŒƒä¸è´£ä»»å¿ƒã€è´£ä»»æ„Ÿç›¸å…³çš„äº‹æƒ…ï¼›</p>
<p> é€‚å½“æ”¾æƒï¼Œè®©ä»–å»ä¸»å¯¼ä¸€äº›äº‹æƒ…ã€‚</p>
<p> é€‚å½“çš„å¥–åŠ±æœºåˆ¶ï¼Œå¯¹äºä¸»åŠ¨æ‰¿æ‹…è´£ä»»çš„å‘˜å·¥è¡¨ç¤ºè®¤å¯å’Œæ„Ÿæ¿€ã€‚</p>
</li>
<li><p>è®©è´£ä»»åˆ¶å˜å¾—æœ‰æ•ˆï¼Œè€Œä¸æ˜¯å½¢åŒè™šè®¾ã€‚</p>
<p> æœ‰æ•ˆçš„è´£ä»»åˆ¶ï¼Œåœ¨å¼€å§‹çš„æ—¶å€™å°±è¦è®©æ‰€æœ‰äººæ˜ç¡®è´£ä»»ä¸æƒåˆ©ï¼Œè€Œä¸æ˜¯æœ€åè¿½ç©¶è´£ä»»æˆ–æ¨å¸è´£ä»»ã€‚</p>
<p> åœ¨è¿™ä¸ªåŸºç¡€ä¸Šï¼Œæ ¹æ®æ¯ä¸ªäººçš„ä¸åŒæƒ…å†µï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­é€‚åº¦è·Ÿè¿›ã€‚</p>
</li>
<li><p>å°½å¯èƒ½åœ°è®©å›¢é˜Ÿæˆå‘˜å……æ»¡å½’å±æ„Ÿï¼Œè¿›è€Œæ¿€å‘ä»–ä»¬çš„è´£ä»»å¿ƒã€‚</p>
<p> å½’å±æ„Ÿæ˜¯æŒ‡ä¸€ä¸ªäººå¯¹æŸæ ·äº‹ç‰©ã€ç»„ç»‡çš„ä»å±æ„Ÿè§‰ï¼Œæ˜¯ä¸€ç§ä¸»è§‚çš„ä¸ªäººæ„Ÿå—ã€‚</p>
<p> å¦‚ä½•å¢åŠ å‘˜å·¥çš„å½’å±æ„Ÿå‘¢ï¼Ÿ</p>
<ul>
<li>åœ¨æœ‰åˆ©å…¬å¸å‘å±•çš„åŸºç¡€ä¸Šå»ºç«‹ç‹¬ç‰¹çš„ä¼ä¸šæ–‡åŒ–ï¼Œåˆ›æ–°ã€å…¬å¼€é€æ˜ã€ç§¯æå‘ä¸Šã€‚</li>
<li>ç®¡ç†è€…è¿˜åº”è¯¥ä»¥èº«ä½œåˆ™ï¼Œè®©å‘˜å·¥çœ‹åˆ°è‡ªå·±çš„åŠªåŠ›ï¼Œå¯¹å…¬å¸ç›®æ ‡çš„è¿½æ±‚ï¼Œå¯¹ä¼ä¸šæ–‡åŒ–çš„è·µè¡Œã€‚</li>
<li>çœŸè¯šå¯¹äººï¼Œèƒ½å¤Ÿä»å‘˜å·¥è§’åº¦è€ƒè™‘é—®é¢˜ï¼Œå¯¹å¥½çš„è¡Œä¸ºè®¤å¯å¹¶åŠ ä»¥é¼“åŠ±ã€‚</li>
<li>åŒæ—¶åšä¸€äº›ä»ªå¼æ„Ÿæ¯”è¾ƒå¼ºçš„å›¢é˜Ÿæ´»åŠ¨å’Œå»ºè®¾ã€‚</li>
</ul>
</li>
</ol>
<h3 id="ç†è§£å¹¶å»ºç«‹è‡ªå·±çš„å·¥ä½œå¼¹æ€§"><a href="#ç†è§£å¹¶å»ºç«‹è‡ªå·±çš„å·¥ä½œå¼¹æ€§" class="headerlink" title="ç†è§£å¹¶å»ºç«‹è‡ªå·±çš„å·¥ä½œå¼¹æ€§"></a>ç†è§£å¹¶å»ºç«‹è‡ªå·±çš„å·¥ä½œå¼¹æ€§</h3><p>äººä¸ºä»€ä¹ˆä¼šç„¦è™‘å‘¢ï¼Ÿå¯èƒ½æ˜¯è‡ªèº«çš„å¼¹æ€§èƒ½åŠ›ä¸å¤Ÿï¼Œäº‹å®ä¸Šäººçš„å¼¹æ€§èƒ½åŠ›ä¹Ÿæ˜¯å¯ä»¥é”»ç‚¼å’Œæå‡çš„ï¼š</p>
<ul>
<li>æ­£ç¡®æ€è€ƒè€Œä¸æ˜¯é’»ç‰›è§’å°–ï¼Œæ‰¾åˆ°éœ€è¦æ”¹è¿›çš„åœ°æ–¹æŒç»­æ”¹è¿›ï¼›</li>
<li>å¶å°”æ”¾çºµï¼Œä¸æ‹…å¿ƒçŠ¯é”™ï¼Œä»é”™è¯¯ä¸­æˆé•¿ï¼›</li>
<li>å¤šç»“è¯†ä¹è§‚ç§¯æå‘ä¸Šçš„æœ‹å‹ï¼›</li>
<li>ä¸€ç›´åšè‡ªå·±è®¤ä¸ºæœ‰ä»·å€¼çš„äº‹æƒ…ã€‚</li>
</ul>
<p>æƒ³è¦æ„å»ºå‡ºè‡ªå·±çš„å¼¹æ€§èƒ½åŠ›ï¼Œè¿˜è¦å…·å¤‡ä»¥ä¸‹ä¸¤ä¸ªå¿ƒæ€ï¼š</p>
<ol>
<li>ä¸è®ºä½ å¤šåŠªåŠ›ï¼Œä¹Ÿä¸æ˜¯æ‰€æœ‰çš„ä»˜å‡ºéƒ½ä¼šæœ‰å›æŠ¥ï¼Œæˆ–è€…æœ‰ç­‰æ¯”çš„å›æŠ¥ã€‚</li>
<li>ä¸åªæ˜¯ä½ ï¼Œæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±æä¸å®šçš„æ—¶å€™ã€‚</li>
</ol>
<p><strong>æ—¥æ‹±ä¸€å’ï¼Œä¸æœŸé€Ÿæˆã€‚</strong></p>
<h3 id="å¦‚ä½•å¯¹æ›´å¤šçš„å·¥ä½œè¯´â€œä¸â€ï¼Ÿ"><a href="#å¦‚ä½•å¯¹æ›´å¤šçš„å·¥ä½œè¯´â€œä¸â€ï¼Ÿ" class="headerlink" title="å¦‚ä½•å¯¹æ›´å¤šçš„å·¥ä½œè¯´â€œä¸â€ï¼Ÿ"></a>å¦‚ä½•å¯¹æ›´å¤šçš„å·¥ä½œè¯´â€œä¸â€ï¼Ÿ</h3><p>è¦å¯¹æ›´å¤šçš„å·¥ä½œè¯´â€œä¸â€ï¼Œéœ€è¦ææ¸…æ¥šä¸¤ä»¶äº‹ï¼š</p>
<ol>
<li>åˆ†æ¸…äº‹æƒ…çš„è½»é‡ç¼“æ€¥ï¼Œæœ‰äº›ç´§æ€¥çš„äº‹æƒ…å’Œä¼˜å…ˆçº§é«˜çš„äº‹æƒ…å¾ˆéš¾æ‹’ç»ï¼›</li>
<li>æ­£ç¡®è¯„ä¼°è‡ªå·±çš„èƒ½åŠ›å’Œæ—¶é—´èµ„æºã€‚</li>
</ol>
<p>ä¸ç”Ÿæ´»ä¸­ç›¸æ¯”ï¼Œåœ¨å·¥ä½œä¸­è¯´â€œä¸â€éœ€è¦æ›´ç†æ€§ï¼Œé¿å…å¼ºç¡¬æ‹’ç»ï¼Œè®©å¯¹æ–¹è§‰å¾—ä½ æ˜¯å› ä¸ºä¸æ„¿å¸®å¿™æ‰æ‹’ç»çš„ã€‚</p>
<p>åº”å¼€é—¨è§å±±ï¼ŒæŠŠè‡ªå·±çš„æƒ³æ³•å’Œäº‹å®æ¸…æ™°çš„è¡¨è¾¾å‡ºæ¥ã€‚</p>
<p>å¯¹è‡ªå·±åŠ›ä¸èƒ½åŠçš„äº‹æƒ…ï¼Œææ—©è¯´â€œä¸â€ï¼Œæ— è®ºå¯¹äººå¯¹å·±ï¼Œéƒ½æ˜¯è´Ÿè´£ä»»çš„è¡¨ç°ã€‚</p>
<p>ç­”åº”ä¸€ä»¶äº‹æƒ…ä¹‹åï¼Œå°½å¯èƒ½åœ°å…‘ç°è‡ªå·±çš„æ‰¿è¯ºï¼Œå¦‚æœå‡ºç°è®¡åˆ’å¤–çš„æƒ…å†µæˆ–è€…éš¾å¤„ï¼Œè¦åŠæ—¶çš„è¿›è¡Œæ²Ÿé€šã€‚</p>
]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>æŠ€æœ¯ç®¡ç†</tag>
        <tag>ç®¡ç†</tag>
      </tags>
  </entry>
  <entry>
    <title>jdk1.8ã€jdk11å®‰è£…æ–‡ä»¶ä¸‹è½½</title>
    <url>/post/1948692156.html</url>
    <content><![CDATA[<blockquote>
<p>è¿™é‡Œæä¾›çš„å®‰è£…æ–‡ä»¶æ˜¯ä»å®˜ç½‘ä¸‹è½½ï¼Œå¯æ¯”å¯¹ sha256 è¿›è¡Œç¡®è®¤ã€‚</p>
<p>åªæä¾› jdk çš„ <strong>LTS</strong> ç‰ˆæœ¬ï¼Œå¹¶ä¸”å¯¹åº”ç³»ç»Ÿåªæä¾› <strong>Windows</strong>ã€<strong>macOS</strong>ã€<strong>Linux</strong>ã€‚</p>
<p>å…³äºå®˜ç½‘ä¸‹è½½çš„è¯´æ˜ï¼š</p>
<ol>
<li><p>éæœ€æ–°ç»´æŠ¤ç‰ˆæœ¬ï¼Œéœ€è¦ç™»å½•è´¦å·æ‰èƒ½ä¸‹è½½ï¼Œè¿™ä¸ªå¯ä»¥æœä¸€ä¸‹ï¼Œæœ‰åˆ«äººåˆ†äº«å‡ºæ¥çš„è´¦å·ï¼›</p>
</li>
<li><p>ä¸‹è½½é€Ÿåº¦ç•¥æ…¢ï¼Œéœ€è¦æŒ‚ä»£ç†æ‰èƒ½æœ€å¿«ä¸‹è½½ã€‚</p>
</li>
</ol>
</blockquote>
<span id="more"></span>

<h3 id="jdk-11-0-5"><a href="#jdk-11-0-5" class="headerlink" title="jdk-11.0.5"></a>jdk-11.0.5</h3><ul>
<li><p>å®˜ç½‘ä¸‹è½½åœ°å€ï¼š<a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk11-downloads-5066655.html">https://www.oracle.com/technetwork/java/javase/downloads/jdk11-downloads-5066655.html</a></p>
</li>
<li><p>Checksum åœ°å€ï¼š<a href="https://www.oracle.com/webfolder/s/digest/11-0-5-checksum.html">https://www.oracle.com/webfolder/s/digest/11-0-5-checksum.html</a></p>
</li>
<li><p>ç™¾åº¦ç½‘ç›˜é“¾æ¥:<a href="https://pan.baidu.com/s/1d_c2rlCh7jfgOtgeES5zHg">https://pan.baidu.com/s/1d_c2rlCh7jfgOtgeES5zHg</a>  å¯†ç :jsd2</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Filename</th>
<th>Checksum</th>
</tr>
</thead>
<tbody><tr>
<td>jdk-11.0.5_linux-x64_bin.deb</td>
<td>sha256: e97ed71931e733e312925464890cbfc9fc4d07fed13d63c5d6b26065d122e360</td>
</tr>
<tr>
<td>jdk-11.0.5_linux-x64_bin.rpm</td>
<td>sha256: d0ce6501e47b776590bfe297c8ea4854e0fd1e2d3d7f8dcacba5c0a37c4c12d5</td>
</tr>
<tr>
<td>jdk-11.0.5_linux-x64_bin.tar.gz</td>
<td>sha256: 387e60bdad6d6fc20d41cd712536f0f7adbb086fa73bc3cb225b3edad0bfa0a6</td>
</tr>
<tr>
<td>jdk-11.0.5_osx-x64_bin.dmg</td>
<td>sha256: 05e41051d023af9c3ae94933f452a16121969cc700e44e6254bf8c6388a49552</td>
</tr>
<tr>
<td>jdk-11.0.5_osx-x64_bin.tar.gz</td>
<td>sha256: a18a038cd76982fd99384b77c8c87bd661eac3035c6b7e6e163d4479a9c9a0ec</td>
</tr>
<tr>
<td>jdk-11.0.5_windows-x64_bin.exe</td>
<td>sha256: 184b73cb3e6c63102c9ad4a914da11faf3bd9ea8caafbe0a0c79d7f94ed3685f</td>
</tr>
<tr>
<td>jdk-11.0.5_windows-x64_bin.zip</td>
<td>sha256: 8cda919c402e92d6782e9a68bcb9fe462ac29304de48b4377eb4112891f351b2</td>
</tr>
</tbody></table>
<h3 id="jdk-8u231"><a href="#jdk-8u231" class="headerlink" title="jdk-8u231"></a>jdk-8u231</h3><ul>
<li><p>å®˜ç½‘ä¸‹è½½åœ°å€ï¼š<a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a></p>
</li>
<li><p>Checksum åœ°å€ï¼š<a href="https://www.oracle.com/webfolder/s/digest/8u231checksum.html">https://www.oracle.com/webfolder/s/digest/8u231checksum.html</a></p>
</li>
<li><p>ç™¾åº¦ç½‘ç›˜é“¾æ¥:<a href="https://pan.baidu.com/s/1knhAqfsj2Q1VCVpPQdId3Q">https://pan.baidu.com/s/1knhAqfsj2Q1VCVpPQdId3Q</a>  å¯†ç :y5vj</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Filename</th>
<th>Checksum</th>
</tr>
</thead>
<tbody><tr>
<td>jdk-8u231-linux-i586.rpm</td>
<td>sha256: 9b5e22a987eba90c2487e2f7a6e3a3a304db0ae366bd1971a3d017069fd74639</td>
</tr>
<tr>
<td>jdk-8u231-linux-i586.tar.gz</td>
<td>sha256: 875207cd152b6c445234b20c2b5824b6a736b659eb8aab83f2a107a179d198a5</td>
</tr>
<tr>
<td>jdk-8u231-linux-x64.rpm</td>
<td>sha256: cfa09684b6a797e15b0369c480cb9a7ecafe01e464606a7df9c250d9c2da311d</td>
</tr>
<tr>
<td>jdk-8u231-linux-x64.tar.gz</td>
<td>sha256: a011584a2c9378bf70c6903ef5fbf101b30b08937441dc2ec67932fb3620b2cf</td>
</tr>
<tr>
<td>jdk-8u231-macosx-x64.dmg</td>
<td>sha256: f808d11b34fa9ee7b6326b5b6dd18544496e02c84b839d94e062bd4493df5d45</td>
</tr>
<tr>
<td>jdk-8u231-windows-i586.exe</td>
<td>sha256: 2395128a66cb2cbc0824bbc59657f249dc4f6d3bb00ec752c094ef4f97d3d28d</td>
</tr>
<tr>
<td>jdk-8u231-windows-x64.exe</td>
<td>sha256: 1a88b2054ebe972c5618d4199f79afdd5a4cba87fffdd1f1a4f1eddff9fb56c1</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>jdk</tag>
        <tag>jre</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨ macOS ä¸‹æ€ä¹ˆæ ·å®‰è£…ã€å¿«é€Ÿåˆ‡æ¢å¤šä¸ª jdk ç‰ˆæœ¬</title>
    <url>/post/1961322743.html</url>
    <content><![CDATA[<blockquote>
<p>è¯´æ˜ï¼š</p>
<ol>
<li><p>jdk åœ¨ macOS ä¸‹çš„å®‰è£…è·¯å¾„ä¸º <code>/Library/Java/JavaVirtualMachines/</code>ï¼›</p>
</li>
<li><p><code>/usr/libexec/java_home</code> æ˜¯ macOS ä¸‹æä¾›çš„å·¥å…·ï¼Œç±»ä¼¼ä¸€ä¸ªç®€å•çš„ java ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œå¯ä½¿ç”¨ <code>-h</code> å‚æ•°æŸ¥çœ‹ä½¿ç”¨å¸®åŠ©ã€‚</p>
</li>
</ol>
</blockquote>
<span id="more"></span>

<h5 id="1-å®‰è£…"><a href="#1-å®‰è£…" class="headerlink" title="1. å®‰è£…"></a>1. å®‰è£…</h5><p>jdk çš„å®‰è£…åŒ…å¯ä»¥å‚è€ƒã€Š<a href="/post/1948692156.html" title="jdk1.8ã€jdk11å®‰è£…æ–‡ä»¶ä¸‹è½½">jdk1.8ã€jdk11å®‰è£…æ–‡ä»¶ä¸‹è½½</a>ã€‹ä¸‹è½½ï¼Œå®‰è£…æ–¹å¼æ¯”è¾ƒç®€å•ï¼Œä¸€è·¯ä¸‹ä¸€æ­¥å³å¯ã€‚</p>
<h5 id="2-ä¿®æ”¹ç¯å¢ƒå˜é‡"><a href="#2-ä¿®æ”¹ç¯å¢ƒå˜é‡" class="headerlink" title="2. ä¿®æ”¹ç¯å¢ƒå˜é‡"></a>2. ä¿®æ”¹ç¯å¢ƒå˜é‡</h5><ol>
<li>ä½¿ç”¨ vim æ‰“å¼€ <code>ï½/.bash_profile</code>ï¼ˆæ²¡æœ‰åˆ™æ–°å»ºï¼‰ï¼Œå¦‚æœä½ ç”¨çš„æ˜¯ zshï¼Œåˆ™å¯¹åº”çš„æ–‡ä»¶æ˜¯ <code>~/.zshrc</code>ã€‚</li>
<li>åŠ å…¥ä»¥ä¸‹è®¾ç½®</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># --------------------</span></span><br><span class="line"><span class="comment"># Java</span></span><br><span class="line"><span class="comment"># --------------------</span></span><br><span class="line"><span class="comment"># å„ç‰ˆæœ¬å¯¹åº”çš„è·¯å¾„</span></span><br><span class="line"><span class="built_in">export</span> JAVA_8_HOME=`/usr/libexec/java_home -v 1.8`</span><br><span class="line"><span class="built_in">export</span> JAVA_11_HOME=`/usr/libexec/java_home -v 11`</span><br><span class="line"><span class="comment"># è®¾ç½®é»˜è®¤çš„ jdk ç‰ˆæœ¬</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=<span class="variable">$JAVA_8_HOME</span></span><br><span class="line"><span class="comment"># åŠ¨æ€åˆ‡æ¢ç‰ˆæœ¬çš„å¿«æ·å‘½ä»¤</span></span><br><span class="line"><span class="built_in">alias</span> jdk8=<span class="string">&quot;export JAVA_HOME=<span class="variable">$JAVA_8_HOME</span>&quot;</span></span><br><span class="line"><span class="built_in">alias</span> jdk11=<span class="string">&quot;export JAVA_HOME=<span class="variable">$JAVA_11_HOME</span>&quot;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œä½¿ä¿®æ”¹çš„é…ç½®ç«‹å³ç”Ÿæ•ˆ</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.bash_profile</span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure>

<h5 id="3-åŠ¨æ€åˆ‡æ¢"><a href="#3-åŠ¨æ€åˆ‡æ¢" class="headerlink" title="3. åŠ¨æ€åˆ‡æ¢"></a>3. åŠ¨æ€åˆ‡æ¢</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">âœ  jdk8</span><br><span class="line">âœ  java -version</span><br><span class="line">java version &quot;1.8.0_231&quot;</span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_231-b11)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.231-b11, mixed mode)</span><br><span class="line">âœ  jdk11</span><br><span class="line">âœ  java -version</span><br><span class="line">java version &quot;11.0.5&quot; 2019-10-15 LTS</span><br><span class="line">Java(TM) SE Runtime Environment 18.9 (build 11.0.5+10-LTS)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.5+10-LTS, mixed mode)</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>jdk</tag>
        <tag>macOS</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Šæœ€åçš„èˆåŠ¨ The Last Danceã€‹</title>
    <url>/post/3209780963.html</url>
    <content><![CDATA[<table>
  <thead>
    <tr>
      <th colspan="2">
        ç‰‡åï¼šæœ€åçš„èˆåŠ¨ The Last Danceï¼ˆ2020ï¼‰
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td rowspan="5">
      <img class="poster" data-src="https://static.sqiang.net/image/post/poster_last_dance.jpg">
      </td>
      <td><b>å¯¼æ¼”</b>ï¼šæ°æ£®Â·æµ·å¸Œå°”</td>
    </tr>
    <tr>
      <td><b>ä¸»æ¼”</b>ï¼šè¿ˆå…‹å°”Â·ä¹”ä¸¹ã€æ–¯ç§‘è’‚Â·çš®è“¬ã€è²å°”Â·æ°å…‹é€Šã€å²è’‚å¤«Â·ç§‘å°”</td>
    </tr>
    <tr>
      <td><b>ç±»å‹</b>ï¼šçºªå½•ç‰‡</td>
    </tr>
    <tr>
      <td><b>åœ°åŒº</b>ï¼šæ¬§ç¾</td>
    </tr>
    <tr>
      <td><b>ç®€ä»‹</b>ï¼š1997 å¹´ç§‹å¤©ï¼Œè¿ˆå…‹å°”Â·ä¹”ä¸¹å’ŒèŠåŠ å“¥å…¬ç‰›é˜Ÿå¼€å§‹äº†ä»–ä»¬å…«å¹´æ¥ç¬¬å…­ä¸ª NBA æ€»å† å†›çš„è¿½é€ã€‚ä½†æ˜¯ï¼Œå°½ç®¡ä¹”ä¸¹è‡ª 13 å¹´å‰å¤§æ”¾å¼‚å½©ä»¥æ¥å–å¾—äº†éå‡¡æˆå°±ï¼Œä½†ä¸»æ•™ç»ƒè²å°”Â·æ°å…‹é€Šç§°ä¹‹ä¸ºâ€œæœ€åçš„èˆåŠ¨â€çš„è¿™æ¬¡æ¯”èµ›è¢«ä¿±ä¹éƒ¨é«˜å±‚ä¸­çš„ç´§å¼ æ°”æ°›æ‰€ç¬¼ç½©ï¼Œå› ä¸ºè¿™æ˜¯æœ€åä¸€æ¬¡çœ‹åˆ°æœ‰å²ä»¥æ¥æœ€ä¼Ÿå¤§çš„çƒå‘˜å’Œä»–æ°å‡ºçš„é˜Ÿå‹ä»¬ä¸€èµ·å¥‹åŠ›æ‹¼æã€‚</td>
    </tr>
  </tbody>
  <tfoot>
    <tr>
      <td colspan="2">
        ä¸‹è½½ï¼ˆç£åŠ›é“¾æ¥ï¼‰ï¼š
        <a href="magnet:?xt=urn:btih:375855b96e874205a3e1aa7fd6e9c89bb4dd42a9&tr=http://tr.cili001.com:8070/announce&tr=udp://p4p.arenabg.com:1337&tr=udp://tracker.opentrackr.org:1337/announce&tr=udp://open.demonii.com:1337">S01E01</a>
        <a href="magnet:?xt=urn:btih:5b5a3bd7e7083658a6d0953a0737a8558721eca1&tr=http://tr.cili001.com:8070/announce&tr=udp://p4p.arenabg.com:1337&tr=udp://tracker.opentrackr.org:1337/announce&tr=udp://open.demonii.com:1337">S01E02</a>
        <a href="magnet:?xt=urn:btih:cb0235cd5b3fc6c4bc3f2b501d70096c7eaec01c&tr=http://tr.cili001.com:8070/announce&tr=udp://p4p.arenabg.com:1337&tr=udp://tracker.opentrackr.org:1337/announce&tr=udp://open.demonii.com:1337">S01E03</a>
        <a href="magnet:?xt=urn:btih:86f945f44e7a9dc1a7a4d4adcfef18cef3085e03&tr=http://tr.cili001.com:8070/announce&tr=udp://p4p.arenabg.com:1337&tr=udp://tracker.opentrackr.org:1337/announce&tr=udp://open.demonii.com:1337">S01E04</a>
        <a href="magnet:?xt=urn:btih:fff7fc9e1056941cd6e9e1053b0ffe638ad3aad2&tr=http://tr.cili001.com:8070/announce&tr=udp://p4p.arenabg.com:1337&tr=udp://tracker.opentrackr.org:1337/announce&tr=udp://open.demonii.com:1337">S01E05</a>
        <a href="magnet:?xt=urn:btih:0ce19de594e3093d4ecf26da87cb71eed9386f18&tr=http://tr.cili001.com:8070/announce&tr=udp://p4p.arenabg.com:1337&tr=udp://tracker.opentrackr.org:1337/announce&tr=udp://open.demonii.com:1337">S01E06</a>
        <a href="magnet:?xt=urn:btih:07fc4fecec9ef89e6cf0e2b7c05430397cc9f847&tr=http://tr.cili001.com:8070/announce&tr=udp://p4p.arenabg.com:1337&tr=udp://tracker.opentrackr.org:1337/announce&tr=udp://open.demonii.com:1337">S01E07</a>
        <a href="magnet:?xt=urn:btih:e9c2f925762a4aa0e8659c2d3b30219f6c6ef2bb&tr=http://tr.cili001.com:8070/announce&tr=udp://p4p.arenabg.com:1337&tr=udp://tracker.opentrackr.org:1337/announce&tr=udp://open.demonii.com:1337">S01E08</a>
        <a href="magnet:?xt=urn:btih:f7bdbef6a8b240d206ac9a0035f1cb8eea1e835f&tr=http://tr.cili001.com:8070/announce&tr=udp://p4p.arenabg.com:1337&tr=udp://tracker.opentrackr.org:1337/announce&tr=udp://open.demonii.com:1337">S01E09</a>
        <a href="magnet:?xt=urn:btih:853d5900caad0fcbc23f6561d9f5beac25e57fe6&tr=http://tr.cili001.com:8070/announce&tr=udp://p4p.arenabg.com:1337&tr=udp://tracker.opentrackr.org:1337/announce&tr=udp://open.demonii.com:1337">S01E10</a>
      </td>
    </tr>
  </tfoot>
</table>]]></content>
      <categories>
        <category>å½±è§†éŸ³ä¹</category>
      </categories>
      <tags>
        <tag>è¿ˆå…‹å°”Â·ä¹”ä¸¹</tag>
        <tag>ç¾å‰§</tag>
      </tags>
  </entry>
  <entry>
    <title>Emmet åŸºç¡€ä½¿ç”¨ä¹‹ HTML ç¯‡</title>
    <url>/post/4009129433.html</url>
    <content><![CDATA[<blockquote>
<p><strong>Emmet</strong>ï¼ˆä»¥å‰åä¸º <em>Zen Coding</em>ï¼‰æ˜¯ä¸€å¥—é¢å‘æ–‡æœ¬ç¼–è¾‘å™¨çš„æ’ä»¶ï¼Œå®ƒå…è®¸é€šè¿‡å†…å®¹è¾…åŠ©é«˜é€Ÿåº¦çš„ç¼–å†™å’Œç¼–è¾‘HTMLã€XMLã€XSLå’Œå…¶ä»–ç»“æ„åŒ–çš„ä»£ç æ ¼å¼ã€‚</p>
<p>æœ¬æ–‡ä¸»è¦ä»‹ç» HTML ç›¸å…³å¿«æ·æ“ä½œã€‚</p>
</blockquote>
<span id="more"></span>

<hr>
<h3 id="1-å†…åµŒå…ƒç´ "><a href="#1-å†…åµŒå…ƒç´ " class="headerlink" title="1. å†…åµŒå…ƒç´ "></a>1. å†…åµŒå…ƒç´ </h3><h4 id="1-1-gt-å­å…ƒç´ "><a href="#1-1-gt-å­å…ƒç´ " class="headerlink" title="1.1. &gt; å­å…ƒç´ "></a>1.1. <code>&gt;</code> å­å…ƒç´ </h4><p>å¦‚ï¼š<code>div&gt;ul&gt;li</code></p>
<p>è¾“å‡ºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="1-2-å…„å¼Ÿå…ƒç´ "><a href="#1-2-å…„å¼Ÿå…ƒç´ " class="headerlink" title="1.2. + å…„å¼Ÿå…ƒç´ "></a>1.2. <code>+</code> å…„å¼Ÿå…ƒç´ </h4><p>å¦‚ï¼š<code>div+p+bq</code></p>
<p>è¾“å‡ºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">blockquote</span>&gt;</span><span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h4 id="1-3-æå‡å…ƒç´ çº§æ¬¡"><a href="#1-3-æå‡å…ƒç´ çº§æ¬¡" class="headerlink" title="1.3. ^ æå‡å…ƒç´ çº§æ¬¡"></a>1.3. <code>^</code> æå‡å…ƒç´ çº§æ¬¡</h4><p>å¦‚ï¼š<code>div+div&gt;p&gt;span+em</code></p>
<p>è¾“å‡ºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿½åŠ  <code>^</code> åï¼Œå¦‚ <code>div+div&gt;p&gt;span+em^bq</code> è¾“å‡ºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">blockquote</span>&gt;</span><span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿½åŠ å¤šä¸ª <code>^</code> åï¼Œå¦‚ <code>div+div&gt;p&gt;span+em^^^bq</code> è¾“å‡ºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">blockquote</span>&gt;</span><span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="1-4-n-é‡å¤è¾“å‡º-n-ä¸ªå…ƒç´ "><a href="#1-4-n-é‡å¤è¾“å‡º-n-ä¸ªå…ƒç´ " class="headerlink" title="1.4. *n é‡å¤è¾“å‡º n ä¸ªå…ƒç´ "></a>1.4. <code>*n</code> é‡å¤è¾“å‡º <strong>n</strong> ä¸ªå…ƒç´ </h4><p>å¦‚ï¼š<code>ul&gt;li*3</code></p>
<p>è¾“å‡ºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h4 id="1-5-åˆ†ç»„å­å…ƒç´ ï¼Œç”¨ä»¥ç”Ÿæˆæ¯”è¾ƒå¤æ‚çš„-Dom-ç»“æ„"><a href="#1-5-åˆ†ç»„å­å…ƒç´ ï¼Œç”¨ä»¥ç”Ÿæˆæ¯”è¾ƒå¤æ‚çš„-Dom-ç»“æ„" class="headerlink" title="1.5. () åˆ†ç»„å­å…ƒç´ ï¼Œç”¨ä»¥ç”Ÿæˆæ¯”è¾ƒå¤æ‚çš„ Dom ç»“æ„"></a>1.5. <code>()</code> åˆ†ç»„å­å…ƒç´ ï¼Œç”¨ä»¥ç”Ÿæˆæ¯”è¾ƒå¤æ‚çš„ Dom ç»“æ„</h4><p>å¦‚ï¼š<code>div&gt;(header&gt;ul&gt;li*2&gt;a)+footer&gt;p</code></p>
<p>è¾“å‡ºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ”¯æŒåµŒå¥—ï¼Œå¦‚ <code>(div&gt;dl&gt;(dt+dd)*2)+footer&gt;p</code> è¾“å‡ºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dt</span>&gt;</span><span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dt</span>&gt;</span><span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-å…ƒç´ å±æ€§"><a href="#2-å…ƒç´ å±æ€§" class="headerlink" title="2. å…ƒç´ å±æ€§"></a>2. å…ƒç´ å±æ€§</h3><h4 id="2-1-å…ƒç´ çš„åé¢è·Ÿ-id-æˆ–-classï¼Œç”Ÿæˆå…ƒç´ çš„åŒæ—¶å°†æ·»åŠ æŒ‡å®šåç§°çš„å±æ€§"><a href="#2-1-å…ƒç´ çš„åé¢è·Ÿ-id-æˆ–-classï¼Œç”Ÿæˆå…ƒç´ çš„åŒæ—¶å°†æ·»åŠ æŒ‡å®šåç§°çš„å±æ€§" class="headerlink" title="2.1. å…ƒç´ çš„åé¢è·Ÿ #id æˆ– .classï¼Œç”Ÿæˆå…ƒç´ çš„åŒæ—¶å°†æ·»åŠ æŒ‡å®šåç§°çš„å±æ€§"></a>2.1. å…ƒç´ çš„åé¢è·Ÿ #id æˆ– .classï¼Œç”Ÿæˆå…ƒç´ çš„åŒæ—¶å°†æ·»åŠ æŒ‡å®šåç§°çš„å±æ€§</h4><p>å¦‚ï¼š<code>div#header+div.page+div#footer.class1.class2.class3</code></p>
<p>è¾“å‡ºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;header&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;page&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;footer&quot;</span> <span class="attr">class</span>=<span class="string">&quot;class1 class2 class3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h4 id="2-2-ä½¿ç”¨-attr-æ·»åŠ å…¶å®ƒå±æ€§"><a href="#2-2-ä½¿ç”¨-attr-æ·»åŠ å…¶å®ƒå±æ€§" class="headerlink" title="2.2. ä½¿ç”¨ [attr] æ·»åŠ å…¶å®ƒå±æ€§"></a>2.2. ä½¿ç”¨ <code>[attr]</code> æ·»åŠ å…¶å®ƒå±æ€§</h4><p>å¦‚ï¼š<code>td[title=&quot;Hello world!&quot; colspan=3]</code></p>
<p>è¾“å‡ºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">td</span> <span class="attr">title</span>=<span class="string">&quot;Hello world!&quot;</span> <span class="attr">colspan</span>=<span class="string">&quot;3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æç¤ºï¼š</p>
<ul>
<li>æ–¹æ‹¬å·å†…çš„å±æ€§å¯ä»¥æ·»åŠ ä»»æ„å¤šä¸ªã€‚</li>
<li>å±æ€§ä¹Ÿå¯ä»¥ä¸æŒ‡å®šå€¼ï¼Œå¦‚ <code>td[colspan title]</code> å°†è¾“å‡º <code>&lt;td colspan=&quot;&quot; title=&quot;&quot;&gt;&lt;/td&gt;</code>ï¼Œç„¶åä½¿ç”¨ tab é”®å¯ä¾æ¬¡åˆ‡æ¢å±æ€§å¡«å……å€¼ã€‚</li>
<li>å±æ€§å€¼ç”¨å•å¼•å·æˆ–åŒå¼•å·éƒ½å¯ä»¥ã€‚</li>
<li>å¦‚æœå±æ€§å€¼æ²¡æœ‰ç©ºæ ¼ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨æ·»åŠ å¼•å·ã€‚</li>
</ul>
<h4 id="2-3-ä½¿ç”¨-ç»™å±æ€§å€¼ç¼–å·"><a href="#2-3-ä½¿ç”¨-ç»™å±æ€§å€¼ç¼–å·" class="headerlink" title="2.3. ä½¿ç”¨ $ ç»™å±æ€§å€¼ç¼–å·"></a>2.3. ä½¿ç”¨ $ ç»™å±æ€§å€¼ç¼–å·</h4><p>å¦‚ï¼š<code>ul&gt;li.item$*5</code></p>
<p>è¾“å‡ºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item4&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item5&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨å¤šä¸ª $ å¯å¡«å…… 0 ï¼Œå¦‚ <code>ul&gt;li.item$$$*5</code> è¾“å‡º</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item001&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item002&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item003&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item004&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item005&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>@-</code> å¯ä»¥æ”¹å˜ç¼–å·çš„æ–¹å‘ï¼ˆé€’å¢ã€é€’å‡ï¼‰ï¼Œå¦‚ <code>ul&gt;li.item$@-*5</code> è¾“å‡º</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item5&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item4&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>@n</code> å¯ä»¥ä¿®æ”¹ç¼–å·çš„åŸºæ•°å€¼ï¼Œå¦‚ <code>ul&gt;li.item$@3*5</code> è¾“å‡º</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item4&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item5&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item6&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item7&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¸€ä¸ªç»¼åˆç¤ºä¾‹ï¼Œå¦‚ <code>ul&gt;li.item$@-3*5</code> è¾“å‡º</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item7&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item6&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item5&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item4&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="3-å…ƒç´ æ–‡æœ¬å†…å®¹"><a href="#3-å…ƒç´ æ–‡æœ¬å†…å®¹" class="headerlink" title="3. å…ƒç´ æ–‡æœ¬å†…å®¹"></a>3. å…ƒç´ æ–‡æœ¬å†…å®¹</h3><h4 id="3-1-ä½¿ç”¨-text-è·Ÿå…ƒç´ æ·»åŠ å†…å®¹"><a href="#3-1-ä½¿ç”¨-text-è·Ÿå…ƒç´ æ·»åŠ å†…å®¹" class="headerlink" title="3.1 ä½¿ç”¨ {text} è·Ÿå…ƒç´ æ·»åŠ å†…å®¹"></a>3.1 ä½¿ç”¨ <code>&#123;text&#125;</code> è·Ÿå…ƒç´ æ·»åŠ å†…å®¹</h4><p>å¦‚ï¼š<code>a&#123;Click me&#125;</code></p>
<p>è¾“å‡ºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>Click me<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¸€ä¸ªå¤æ‚ç‚¹çš„ä¾‹å­ï¼Œå¦‚ <code>p&gt;&#123;Click &#125;+a&#123;here&#125;+&#123; to continue&#125;</code> è¾“å‡º</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Click <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>here<span class="tag">&lt;/<span class="name">a</span>&gt;</span> to continue<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æç¤ºï¼š<code>&#123;text&#125;</code> æ”¾åœ¨ç´§è·Ÿç€å…ƒç´ åˆ†éš”ç¬¦çš„å³ä¾§ï¼Œåˆ™ä¸ä¼šå½±å“çˆ¶çº§çš„ Dom çº§æ¬¡ã€‚å¦‚ä¸Šä¾‹ä¸­çš„ <code>p&gt;&#123;Click &#125;</code> ä¸ä¼šå½±å“ <strong>&gt;</strong> å³è¾¹çš„æ‰€æœ‰å…ƒç´ ä½œä¸º <strong>p</strong> çš„ä¸‹çº§ã€‚</p>
]]></content>
      <categories>
        <category>å¼€å‘å·¥å…·</category>
      </categories>
      <tags>
        <tag>å¼€å‘å·¥å…·</tag>
        <tag>Emmet</tag>
        <tag>Zen Coding</tag>
      </tags>
  </entry>
  <entry>
    <title>Homebrew å¸¸ç”¨å‘½ä»¤</title>
    <url>/post/980470740.html</url>
    <content><![CDATA[<h3 id="1-å®‰è£…ã€å¸è½½"><a href="#1-å®‰è£…ã€å¸è½½" class="headerlink" title="1. å®‰è£…ã€å¸è½½"></a>1. å®‰è£…ã€å¸è½½</h3><h4 id="1-1-å®‰è£…"><a href="#1-1-å®‰è£…" class="headerlink" title="1.1. å®‰è£…"></a>1.1. å®‰è£…</h4><p>ä¾èµ–ï¼š</p>
<ul>
<li>Intel CPU</li>
<li>OS X 10.10 or higher</li>
<li>Command Line Tools (CLT) for Xcode: <code>xcode-select --install</code>, developer.apple.com/downloads or Xcode</li>
<li>A Bourne-compatible shell for installation (e.g. bash or zsh)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/usr/bin/ruby -e <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="1-2-å¸è½½"><a href="#1-2-å¸è½½" class="headerlink" title="1.2. å¸è½½"></a>1.2. å¸è½½</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ruby -e <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/uninstall)</span>&quot;</span></span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h3 id="2-ä½¿ç”¨"><a href="#2-ä½¿ç”¨" class="headerlink" title="2. ä½¿ç”¨"></a>2. ä½¿ç”¨</h3><h4 id="2-1-ä¿¡æ¯æŸ¥è¯¢"><a href="#2-1-ä¿¡æ¯æŸ¥è¯¢" class="headerlink" title="2.1. ä¿¡æ¯æŸ¥è¯¢"></a>2.1. ä¿¡æ¯æŸ¥è¯¢</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹ Homebrew ç‰ˆæœ¬</span></span><br><span class="line">âœ  ~ brew -v</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ—å‡ºå·²å®‰è£…çš„è½¯ä»¶</span></span><br><span class="line">âœ  ~ brew list</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€ Homebrew å®˜ç½‘</span></span><br><span class="line">âœ  ~ brew home</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹åŒ…çš„è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">âœ  ~ brew info åŒ…å</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æµ‹ç³»ç»Ÿä¸­ä¸Homebrewæœ‰å…³çš„æ½œåœ¨é—®é¢˜</span></span><br><span class="line">âœ  ~ brew doctor</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹åŒ…çš„æ‰€æœ‰ç‰ˆæœ¬</span></span><br><span class="line">âœ  ~ brew list --versions | grep åŒ…å</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»¥æ ‘å½¢å±•ç¤ºæ‰€æœ‰å·²å®‰è£…åŒ…çš„ä¾èµ–</span></span><br><span class="line">âœ  ~ brew deps --installed --tree</span><br></pre></td></tr></table></figure>

<h4 id="2-2-æŸ¥æ‰¾è½¯ä»¶åŒ…"><a href="#2-2-æŸ¥æ‰¾è½¯ä»¶åŒ…" class="headerlink" title="2.2. æŸ¥æ‰¾è½¯ä»¶åŒ…"></a>2.2. æŸ¥æ‰¾è½¯ä»¶åŒ…</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ brew search git</span><br><span class="line">âœ  ~ brew search /^git$/</span><br></pre></td></tr></table></figure>

<h4 id="2-3-å®‰è£…è½¯ä»¶åŒ…"><a href="#2-3-å®‰è£…è½¯ä»¶åŒ…" class="headerlink" title="2.3. å®‰è£…è½¯ä»¶åŒ…"></a>2.3. å®‰è£…è½¯ä»¶åŒ…</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ brew install åŒ…å</span><br></pre></td></tr></table></figure>

<h4 id="2-4-å¸è½½è½¯ä»¶åŒ…"><a href="#2-4-å¸è½½è½¯ä»¶åŒ…" class="headerlink" title="2.4. å¸è½½è½¯ä»¶åŒ…"></a>2.4. å¸è½½è½¯ä»¶åŒ…</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ brew uninstall åŒ…å</span><br></pre></td></tr></table></figure>

<h4 id="2-5-è‡ªèº«æ›´æ–°"><a href="#2-5-è‡ªèº«æ›´æ–°" class="headerlink" title="2.5. è‡ªèº«æ›´æ–°"></a>2.5. è‡ªèº«æ›´æ–°</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ brew update</span><br></pre></td></tr></table></figure>

<h4 id="2-6-æ›´æ–°åŒ…"><a href="#2-6-æ›´æ–°åŒ…" class="headerlink" title="2.6. æ›´æ–°åŒ…"></a>2.6. æ›´æ–°åŒ…</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹å“ªäº›åŒ…æœ‰æ–°ç‰ˆæœ¬å¯æ›´æ–°</span></span><br><span class="line">âœ  ~ brew outdated</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–°æ‰€æœ‰åŒ…</span></span><br><span class="line">âœ  ~ brew upgrade</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–°æŒ‡å®šåŒ…</span></span><br><span class="line">âœ  ~ brew upgrade åŒ…å</span><br></pre></td></tr></table></figure>

<h4 id="2-7-æ¸…ç†æ—§çš„å‡çº§åŒ…"><a href="#2-7-æ¸…ç†æ—§çš„å‡çº§åŒ…" class="headerlink" title="2.7. æ¸…ç†æ—§çš„å‡çº§åŒ…"></a>2.7. æ¸…ç†æ—§çš„å‡çº§åŒ…</h4><blockquote>
<p>âš ï¸ æ³¨æ„ï¼šå¦‚æœä¸€ä¸ªåŒ…å½“å‰æœ‰å¯æ›´æ–°çš„ç‰ˆæœ¬æ²¡æœ‰æ›´æ–°ï¼Œæ‰§è¡Œæ¸…ç†æ—¶å€™åªä¼šæç¤ºä¸€ä¸ªè­¦å‘Šï¼Œè€Œä¸ä¼šæ‰§è¡Œæ¸…ç†æ“ä½œã€‚éœ€è¦å…ˆå‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œå€¼æ‰§è¡Œæ¸…ç†ã€‚</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹å“ªäº›åŒ…å¯æ¸…ç†</span></span><br><span class="line">âœ  ~ brew cleanup -n</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¸…ç†æ‰€æœ‰</span></span><br><span class="line">âœ  ~ brew cleanup</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¸…ç†æŒ‡å®šåŒ…</span></span><br><span class="line">âœ  ~ brew cleanup åŒ…å</span><br></pre></td></tr></table></figure>

<h4 id="2-8-é”å®šä¸æƒ³æ›´æ–°çš„åŒ…"><a href="#2-8-é”å®šä¸æƒ³æ›´æ–°çš„åŒ…" class="headerlink" title="2.8. é”å®šä¸æƒ³æ›´æ–°çš„åŒ…"></a>2.8. é”å®šä¸æƒ³æ›´æ–°çš„åŒ…</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é”å®š</span></span><br><span class="line">âœ  ~ brew pin åŒ…å</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£é”</span></span><br><span class="line">âœ  ~ brew unpin åŒ…å</span><br></pre></td></tr></table></figure>

<h4 id="2-9-å…³è”åŒ…"><a href="#2-9-å…³è”åŒ…" class="headerlink" title="2.9. å…³è”åŒ…"></a>2.9. å…³è”åŒ…</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ¸…ç†æ— æ•ˆçš„å…³è”ï¼Œä¸”æ¸…ç†ä¸ä¹‹ç›¸å…³çš„ä½äº/Applicationså’Œ~/Applicationsä¸­çš„æ— ç”¨Appé“¾æ¥</span></span><br><span class="line">âœ  ~ brew prune</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†æŒ‡å®šè½¯ä»¶çš„å®‰è£…æ–‡ä»¶symlinkåˆ°Homebrewä¸Š</span></span><br><span class="line">âœ  ~ brew link åŒ…å</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>å¼€å‘å·¥å…·</category>
      </categories>
      <tags>
        <tag>macOS</tag>
        <tag>å¼€å‘å·¥å…·</tag>
        <tag>Homebrew</tag>
      </tags>
  </entry>
  <entry>
    <title>JetBrainså…¨ç³»åˆ—äº§å“30å¤©è¯•ç”¨æœŸé‡ç½®æ’ä»¶</title>
    <url>/post/1904459089.html</url>
    <content><![CDATA[<blockquote>
<p>æ­¤æ’ä»¶æ¥è‡ª <a href="https://zhile.io/2020/11/18/jetbrains-eval-reset-da33a93d.html">https://zhile.io</a>ï¼Œä»…ä¾›å­¦ä¹ ç ”ç©¶é¡¹ç›®çš„ï¼Œè¯·å‹¿æ— ä¼‘æ­¢çš„ä¸€ç›´è¯•ç”¨ï¼Œæ›´å¤šè¯´æ˜ä¿¡æ¯è¯¦è§åŸæ–‡ã€‚</p>
</blockquote>
<blockquote>
<p>å¤‡æ³¨ï¼šè¿™æ˜¯ä¸ªå­¦ä¹ ç ”ç©¶é¡¹ç›®ï¼Œ<strong>åªæ”¯æŒåˆ° 2021.2.2 åŠä»¥ä¸‹ç‰ˆæœ¬</strong>ã€‚å› ä¸ºå¤§ä½¬è§‰å¾—è¿™ä¸œè¥¿å·²ç»æå¾—æŒºå¥½ï¼Œæ²¡å•¥å¥½å­¦ä¹ ç ”ç©¶çš„äº†ï¼Œæ‰€ä»¥è½¬åˆ°äº†æ–°çš„å­¦ä¹ é¢†åŸŸï¼Œé’ˆå¯¹ 2021.3.x+ å‚ç…§æœ€æ–°æ–¹æ³• ã€Š<a href="/post/3632131313.html">ä¸€ä¸ªNBé—ªé—ªçš„å¼€æºåº“ja-netfilter</a>ã€‹ã€‚</p>
</blockquote>
<h3 id="1-å¦‚ä½•å®‰è£…"><a href="#1-å¦‚ä½•å®‰è£…" class="headerlink" title="1. å¦‚ä½•å®‰è£…"></a>1. å¦‚ä½•å®‰è£…</h3><h4 id="1-1-åœ¨çº¿å®‰è£…"><a href="#1-1-åœ¨çº¿å®‰è£…" class="headerlink" title="1.1. åœ¨çº¿å®‰è£…"></a>1.1. åœ¨çº¿å®‰è£…</h4><ol>
<li>æ‰“å¼€æ’ä»¶å¸‚åœº <code>Settings/Preferences... -&gt; Plugins</code>ï¼›</li>
<li>æ‰‹åŠ¨æ·»åŠ ç¬¬ä¸‰æ–¹æ’ä»¶ä»“åº“åœ°å€ï¼š<code>https://plugins.zhile.io</code>ï¼›</li>
<li>æœç´¢æ’ä»¶åç§° <code>IDE Eval Reset</code> è¿›è¡Œå®‰è£…ã€‚</li>
</ol>
<h4 id="1-2-ä¸‹è½½å®‰è£…"><a href="#1-2-ä¸‹è½½å®‰è£…" class="headerlink" title="1.2. ä¸‹è½½å®‰è£…"></a>1.2. ä¸‹è½½å®‰è£…</h4><ol>
<li><p>ç‚¹å‡» <a href="https://plugins.zhile.io/files/ide-eval-resetter-2.2.4-4959c6.zip">ide-eval-resetter-2.2.4-4959c6.zip</a> ä¸‹è½½ï¼Œæˆ–åˆ°<a href="https://gitee.com/pengzhile/ide-eval-resetter">å®˜æ–¹ä»“åº“</a>ä¸‹è½½æœ€æ–°ç‰ˆæœ¬ï¼ˆæ³¨æ„ï¼šå¦‚æœæ˜¯ <code>macOS</code> ç³»ç»Ÿï¼Œå¯èƒ½ä¼šä¸‹è½½å®Œè‡ªåŠ¨è§£å‹ï¼‰ã€‚</p>
</li>
<li><p>é€šå¸¸å¯ä»¥ç›´æ¥æŠŠä¸‹è½½åˆ°çš„ zip åŒ…æ‹–è¿› IDE çª—å£è¿›è¡Œæ’ä»¶çš„å®‰è£…ã€‚å¦‚æœæ— æ³•æ‹–åŠ¨å®‰è£…ï¼Œå¯ä»¥åœ¨ <code>Settings/Preferences... -&gt; Plugins</code> é‡Œé€‰æ‹©æ‰‹åŠ¨å®‰è£…ï¼ˆ<code>Install Plugin From Disk...</code>ï¼‰ã€‚</p>
</li>
</ol>
<span id="more"></span>

<h3 id="2-å¦‚ä½•ä½¿ç”¨"><a href="#2-å¦‚ä½•ä½¿ç”¨" class="headerlink" title="2. å¦‚ä½•ä½¿ç”¨"></a>2. å¦‚ä½•ä½¿ç”¨</h3><p>ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨IDEçª—å£åˆ‡å‡ºå»æˆ–åˆ‡å›æ¥æ—¶ï¼ˆçª—å£å¤±å»/å¾—åˆ°ç„¦ç‚¹ï¼‰ä¼šè§¦å‘äº‹ä»¶ï¼Œæ£€æµ‹æ˜¯å¦é•¿æ—¶é—´ï¼ˆ25 å¤©ï¼‰æ²¡æœ‰é‡ç½®ï¼Œç»™é€šçŸ¥è®©ä½ é€‰æ‹©ã€‚å¦‚æœæ˜¯åˆæ¬¡å®‰è£…å› ä¸ºæ— æ³•è·å–ä¸Šæ¬¡é‡ç½®æ—¶é—´ï¼Œä¼šç›´æ¥ç»™äºˆæç¤ºã€‚</p>
<p>ä¹Ÿå¯ä»¥æ‰‹åŠ¨å”¤å‡ºæ’ä»¶çš„ä¸»ç•Œé¢ï¼š</p>
<ul>
<li>å¦‚æœ IDE æ²¡æœ‰æ‰“å¼€é¡¹ç›®ï¼Œåœ¨ Welcome ç•Œé¢ç‚¹å‡»èœå• <code>Get Help -&gt; Eval Reset</code></li>
<li>å¦‚æœ IDE æ‰“å¼€äº†é¡¹ç›®ï¼Œç‚¹å‡»èœå• <code>Help -&gt; Eval Reset</code></li>
</ul>
<p>å”¤å‡ºçš„æ’ä»¶ä¸»ç•Œé¢ä¸­åŒ…å«äº†ä¸€äº›æ˜¾ç¤ºä¿¡æ¯ï¼Œ2 ä¸ªæŒ‰é’®ï¼Œ1 ä¸ªå‹¾é€‰é¡¹ï¼š</p>
<ul>
<li>æŒ‰é’® <code>Reload</code>ï¼šç”¨æ¥åˆ·æ–°ç•Œé¢ä¸Šçš„æ˜¾ç¤ºä¿¡æ¯ã€‚</li>
<li>æŒ‰é’® <code>Reset</code> ï¼šç‚¹å‡»ä¼šè¯¢é—®ã€Œæ˜¯å¦é‡ç½®è¯•ç”¨ä¿¡æ¯å¹¶é‡å¯ IDEã€ã€‚é€‰æ‹© <code>Yes</code> åˆ™æ‰§è¡Œé‡ç½®æ“ä½œå¹¶é‡å¯ IDE ç”Ÿæ•ˆï¼›é€‰æ‹© <code>No</code> åˆ™ä»€ä¹ˆä¹Ÿä¸åšï¼ˆæ­¤ä¸º<strong>æ‰‹åŠ¨é‡ç½®</strong>æ–¹å¼ï¼‰ã€‚</li>
<li>å‹¾é€‰é¡¹ <code>Auto reset before per restart</code>ï¼šå¦‚æœå‹¾é€‰äº†ï¼Œåˆ™è‡ªå‹¾é€‰åæ¯æ¬¡é‡å¯/é€€å‡º IDE æ—¶ä¼šè‡ªåŠ¨é‡ç½®è¯•ç”¨ä¿¡æ¯ï¼Œä½ æ— éœ€åšé¢å¤–çš„äº‹æƒ…ï¼ˆæ­¤ä¸º<strong>è‡ªåŠ¨é‡ç½®</strong>æ–¹å¼ï¼‰ã€‚</li>
</ul>
<h3 id="3-å¦‚ä½•æ›´æ–°"><a href="#3-å¦‚ä½•æ›´æ–°" class="headerlink" title="3. å¦‚ä½•æ›´æ–°"></a>3. å¦‚ä½•æ›´æ–°</h3><blockquote>
<p>æ³¨æ„ï¼šæ’ä»¶æ›´æ–°éœ€è¦é‡å¯ IDEã€‚</p>
</blockquote>
<h4 id="3-1-æ’ä»¶æ›´æ–°æœºåˆ¶ï¼ˆæ¨èï¼‰"><a href="#3-1-æ’ä»¶æ›´æ–°æœºåˆ¶ï¼ˆæ¨èï¼‰" class="headerlink" title="3.1. æ’ä»¶æ›´æ–°æœºåˆ¶ï¼ˆæ¨èï¼‰"></a>3.1. æ’ä»¶æ›´æ–°æœºåˆ¶ï¼ˆæ¨èï¼‰</h4><p>IDE ä¼šè‡ªè¡Œæ£€æµ‹å…¶è‡ªèº«å’Œæ‰€å®‰è£…æ’ä»¶çš„æ›´æ–°å¹¶ç»™äºˆæç¤ºã€‚å¦‚æœæœ¬æ’ä»¶æœ‰æ›´æ–°ï¼Œä½ ä¼šæ”¶åˆ°æç¤ºçœ‹åˆ°æ›´æ–°æ—¥å¿—ï¼Œè‡ªè¡Œé€‰æ‹©æ˜¯å¦æ›´æ–°ã€‚</p>
<p>ç‚¹å‡» IDE çš„ <code>Check for Updates...</code> èœå•å¯ä»¥æ‰‹åŠ¨æ£€æµ‹ IDE å’Œæ‰€å®‰è£…æ’ä»¶çš„æ›´æ–°ã€‚</p>
<h4 id="3-2-æ‰‹åŠ¨æ›´æ–°"><a href="#3-2-æ‰‹åŠ¨æ›´æ–°" class="headerlink" title="3.2. æ‰‹åŠ¨æ›´æ–°"></a>3.2. æ‰‹åŠ¨æ›´æ–°</h4><p>ä»æœ¬é¡µé¢ï¼ˆä¸ä¸€å®šæœ€æ–°ï¼‰æˆ–<a href="https://gitee.com/pengzhile/ide-eval-resetter">å®˜æ–¹ä»“åº“</a>ä¸‹è½½æœ€æ–°çš„æ’ä»¶ zip åŒ…å®‰è£…æ›´æ–°ã€‚</p>
]]></content>
      <categories>
        <category>å¼€å‘å·¥å…·</category>
      </categories>
      <tags>
        <tag>å¼€å‘å·¥å…·</tag>
        <tag>JetBrains</tag>
        <tag>IDEA</tag>
        <tag>PHPStorm</tag>
        <tag>WebStorm</tag>
        <tag>Pycharm</tag>
      </tags>
  </entry>
  <entry>
    <title>JetBrainså…¨ç³»åˆ—è½¯ä»¶æ¿€æ´»æ•™ç¨‹</title>
    <url>/post/1936578867.html</url>
    <content><![CDATA[<blockquote>
<p>å£°æ˜ï¼šæœ¬æ–‡æ¥æºç½‘ç»œï¼Œä¸»è¦å‚è€ƒ <a href="https://zhile.io/2018/08/25/jetbrains-license-server-crack.html">zhile.io</a>ï¼Œåªåšä¸ªäººå­¦ä¹ ç ”ç©¶ä¹‹ç”¨ï¼Œä¸å¾—ç”¨äºå•†ä¸šç”¨é€”ï¼</p>
<ul>
<li><p>è‹¥èµ„é‡‘å…è®¸ï¼Œè¯·<a href="https://www.jetbrains.com/idea/buy/">ç‚¹å‡»é“¾æ¥</a>è´­ä¹°æ­£ç‰ˆã€‚</p>
</li>
<li><p>å­¦ç”Ÿå‡­å­¦ç”Ÿè¯å¯<a href="https://sales.jetbrains.com/hc/zh-cn/articles/207154369-%E5%AD%A6%E7%94%9F%E6%8E%88%E6%9D%83%E7%94%B3%E8%AF%B7%E6%96%B9%E5%BC%8F">å…è´¹ç”³è¯·</a>æ­£ç‰ˆæˆæƒã€‚</p>
</li>
<li><p>åˆ›ä¸šå…¬å¸å¯<a href="https://www.jetbrains.com/shop/eform/startup">5æŠ˜è´­ä¹°</a>æ­£ç‰ˆæˆæƒã€‚</p>
</li>
</ul>
</blockquote>
<span id="more"></span>

<blockquote>
<p>é€‚åº”äºæœ€æ–°ç‰ˆçš„æ¿€æ´»æ–¹å¼ï¼Œè¯·å‚ç…§ï¼š<a href="/post/1904459089.html">JetBrainså…¨ç³»åˆ—äº§å“30å¤©è¯•ç”¨æœŸé‡ç½®æ’ä»¶</a></p>
</blockquote>
<h3 id="æ”¯æŒç‰ˆæœ¬"><a href="#æ”¯æŒç‰ˆæœ¬" class="headerlink" title="æ”¯æŒç‰ˆæœ¬"></a>æ”¯æŒç‰ˆæœ¬</h3><p>è¯¥æ–¹æ³•å£°ç§°æ”¯æŒ <strong>2020.1</strong> åŠä»¥ä¸‹ç‰ˆæœ¬ï¼Œå·²æµ‹è¯•ï¼š</p>
<ul>
<li>IDEA 2019.3.4</li>
<li>PHPStorm 2019.3.4</li>
<li>WebStorm 2020.1</li>
<li>Pycharm 2020.1</li>
</ul>
<h3 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h3><p><strong>ç‰ˆæœ¬</strong>ï¼š<code>v3.2.0</code><br><strong>æ›´æ–°</strong>ï¼š<code>2020-04-10</code><br><strong>sha1sum</strong>: <code>832e9a35df3ea690d4165099619d1adac725e144</code></p>
<ul>
<li><a href="https://pan.baidu.com/s/1AdUjEPMVDplsK3I0LFajEw">ç™¾åº¦ç½‘ç›˜ä¸‹è½½</a>ï¼Œæå–ç ï¼š<code>ijtm</code></li>
</ul>
<p>å…·ä½“ä½¿ç”¨æ–¹æ³•å·²å†™åœ¨å‹ç¼©åŒ…çš„ <code>README.pdf</code> / <code>README.txt</code> å†…ï¼ˆåŒ…å†…å¦é™„æ“ä½œæˆªå›¾ï¼‰ã€‚<br>ä¸‹è½½çš„åŒ…ä¸­éƒ½æ˜¯å¸¦æœ‰ <code>important.txt</code> çš„ï¼Œç¼ºå¤±è¿™ä¸ªæ–‡ä»¶ä¼šä¸å®šæ—¶æœ‰å¼¹æ¡†å‡ºç°ï¼Œè¯·æ³¨æ„çœ‹å¼¹æ¡†å†…å®¹ã€‚</p>
]]></content>
      <categories>
        <category>å¼€å‘å·¥å…·</category>
      </categories>
      <tags>
        <tag>å¼€å‘å·¥å…·</tag>
        <tag>JetBrains</tag>
        <tag>IDEA</tag>
        <tag>PHPStorm</tag>
        <tag>WebStorm</tag>
        <tag>Pycharm</tag>
      </tags>
  </entry>
  <entry>
    <title>JetBrainsç³»è½¯ä»¶è®¾ç½®å’Œä½¿ç”¨æŠ€å·§ç¬”è®°</title>
    <url>/post/2109815221.html</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡é€‚ç”¨äº JetBrains ç³»è½¯ä»¶ï¼ŒåŒ…å«é€šç”¨åŠå•ä¸ªè½¯ä»¶çš„è®¾ç½®ã€ä½¿ç”¨æŠ€å·§ç­‰ï¼Œä¸»è¦æ˜¯åœ¨å·¥ä½œä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹å¼ç¬”è®°ã€‚</p>
</blockquote>
<h3 id="1-è®¾ç½®"><a href="#1-è®¾ç½®" class="headerlink" title="1. è®¾ç½®"></a>1. è®¾ç½®</h3><h4 id="1-1-é€šç”¨è®¾ç½®"><a href="#1-1-é€šç”¨è®¾ç½®" class="headerlink" title="1.1. é€šç”¨è®¾ç½®"></a>1.1. é€šç”¨è®¾ç½®</h4><h5 id="å…³é—­è‡ªåŠ¨ä¿å­˜"><a href="#å…³é—­è‡ªåŠ¨ä¿å­˜" class="headerlink" title="å…³é—­è‡ªåŠ¨ä¿å­˜"></a>å…³é—­è‡ªåŠ¨ä¿å­˜</h5><p>èœå•ï¼š<code>Appearance &amp; Behavior &gt; System Settings &gt; Synchronization</code></p>
<p>å–æ¶ˆå‹¾é€‰ï¼š</p>
<ul>
<li><input disabled="" type="checkbox"> <code>Synchronize files on frame or editor tab activation</code></li>
<li><input disabled="" type="checkbox"> <code>Save files on frame deactiation</code></li>
<li><input disabled="" type="checkbox"> <code>Use &quot;safe write&quot;(save changes to a temporary file first)</code></li>
</ul>
<h5 id="æ‰“å¼€ä¿®æ”¹æ–‡ä»¶æœªä¿å­˜æ ‡è¯†"><a href="#æ‰“å¼€ä¿®æ”¹æ–‡ä»¶æœªä¿å­˜æ ‡è¯†" class="headerlink" title="æ‰“å¼€ä¿®æ”¹æ–‡ä»¶æœªä¿å­˜æ ‡è¯†"></a>æ‰“å¼€ä¿®æ”¹æ–‡ä»¶æœªä¿å­˜æ ‡è¯†</h5><p>èœå•ï¼š<code>Editor &gt; General &gt; Editor Tabs &gt; Appearance</code></p>
<p>å‹¾é€‰ï¼š</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> <code>Mark modified (*)</code></li>
</ul>
<span id="more"></span>

<h5 id="æ³¨é‡Šæ—¶ä½¿ç”¨ç¼©è¿›ï¼ˆè€Œä¸ç›´æ¥æ·»åŠ åˆ°è¡Œé¦–ï¼‰"><a href="#æ³¨é‡Šæ—¶ä½¿ç”¨ç¼©è¿›ï¼ˆè€Œä¸ç›´æ¥æ·»åŠ åˆ°è¡Œé¦–ï¼‰" class="headerlink" title="æ³¨é‡Šæ—¶ä½¿ç”¨ç¼©è¿›ï¼ˆè€Œä¸ç›´æ¥æ·»åŠ åˆ°è¡Œé¦–ï¼‰"></a>æ³¨é‡Šæ—¶ä½¿ç”¨ç¼©è¿›ï¼ˆè€Œä¸ç›´æ¥æ·»åŠ åˆ°è¡Œé¦–ï¼‰</h5><ol>
<li><p>èœå•ï¼š<code>Editor &gt; Code Style &gt; Java &gt; Wrapping and Braces &gt; Keep when reformatting</code></p>
<p> å–æ¶ˆå‹¾é€‰</p>
<ul>
<li><input disabled="" type="checkbox"> <code>Comment at first column</code></li>
</ul>
</li>
<li><p>èœå•ï¼š<code>Editor &gt; Code Style &gt; Java &gt; Code Generation &gt; Comment Code</code></p>
<p> å–æ¶ˆå‹¾é€‰</p>
<ul>
<li><input disabled="" type="checkbox"> <code>Line comment at first column</code></li>
<li><input disabled="" type="checkbox"> <code>Block comment at first column</code></li>
</ul>
<p> å¦‚æœéœ€è¦åœ¨æ³¨é‡Šçš„å¼€å§‹ä½ç½®åé¢è¿½åŠ ä¸€ä¸ªç©ºæ ¼ï¼ˆæ¯”å¦‚ <code>// è¿™æ˜¯æ³¨é‡Š</code>ï¼‰ï¼Œåˆ™å‹¾é€‰</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> <code>Add a space at comment start</code></li>
</ul>
</li>
</ol>
<h5 id="è®¾ç½®åˆ—å®½æç¤ºçº¿"><a href="#è®¾ç½®åˆ—å®½æç¤ºçº¿" class="headerlink" title="è®¾ç½®åˆ—å®½æç¤ºçº¿"></a>è®¾ç½®åˆ—å®½æç¤ºçº¿</h5><p>èœå•ï¼š<code>Editor &gt; Code Style &gt; General</code></p>
<p>åˆ†åˆ«ä¿®æ”¹ï¼š</p>
<ul>
<li><code>Hard wrap at</code></li>
<li><code>Visual guides</code></li>
</ul>
<h5 id="å–æ¶ˆä¸€äº›è­¦å‘Šæç¤º"><a href="#å–æ¶ˆä¸€äº›è­¦å‘Šæç¤º" class="headerlink" title="å–æ¶ˆä¸€äº›è­¦å‘Šæç¤º"></a>å–æ¶ˆä¸€äº›è­¦å‘Šæç¤º</h5><ul>
<li><p>å…³é—­æ‹¼å†™æ£€æŸ¥</p>
<ul>
<li><input disabled="" type="checkbox"> <code>Editor &gt; Code Style &gt; Inspections &gt; Spelling</code></li>
</ul>
</li>
</ul>
<h4 id="1-2-IDEAè®¾ç½®"><a href="#1-2-IDEAè®¾ç½®" class="headerlink" title="1.2. IDEAè®¾ç½®"></a>1.2. IDEAè®¾ç½®</h4><h5 id="å–æ¶ˆä¸€äº›è­¦å‘Šæç¤º-1"><a href="#å–æ¶ˆä¸€äº›è­¦å‘Šæç¤º-1" class="headerlink" title="å–æ¶ˆä¸€äº›è­¦å‘Šæç¤º"></a>å–æ¶ˆä¸€äº›è­¦å‘Šæç¤º</h5><ul>
<li><p><code>field injection is not recommended</code></p>
<ul>
<li><input checked="" disabled="" type="checkbox"> <code>Spring &gt; Spring Core &gt; Code &gt; Autowiring for Bean Class</code> è®¾ç½® <code>Severity</code> ä¸º <code>Warning</code>ã€‚</li>
</ul>
</li>
<li><p><code>could not autowire. No beans of &#39;SysLogininforMapper&#39; type found.</code></p>
<ul>
<li><input disabled="" type="checkbox"> <code>Spring &gt; Spring Core &gt; Code &gt; Field injection warning</code></li>
</ul>
</li>
<li><p>å»é™¤ MyBatis XML æ–‡ä»¶ä¸­çš„é»„ã€ç»¿èƒŒæ™¯</p>
<ul>
<li><input disabled="" type="checkbox"> <code>Prefernces &gt; Editor &gt; Inspections &gt; SQL &gt; No data sources configure</code></li>
<li><input disabled="" type="checkbox"> <code>Prefernces &gt; Editor &gt; Inspections &gt; SQL &gt; SQL dialect detection</code></li>
<li><input disabled="" type="checkbox"> <code>Prefernces &gt; Editor &gt; Colors Scheme &gt; General &gt; Code &gt; Injected language fragment &gt; Background</code></li>
</ul>
</li>
</ul>
<h4 id="1-3-WebStormè®¾ç½®"><a href="#1-3-WebStormè®¾ç½®" class="headerlink" title="1.3. WebStormè®¾ç½®"></a>1.3. WebStormè®¾ç½®</h4><h5 id="ä¸è¯†åˆ«Vueé¡¹ç›®çš„-è·¯å¾„åˆ«å"><a href="#ä¸è¯†åˆ«Vueé¡¹ç›®çš„-è·¯å¾„åˆ«å" class="headerlink" title="ä¸è¯†åˆ«Vueé¡¹ç›®çš„@è·¯å¾„åˆ«å"></a>ä¸è¯†åˆ«Vueé¡¹ç›®çš„@è·¯å¾„åˆ«å</h5><ol>
<li><p>ç¡®ä¿ <code>vue.config.js</code> ä¸­æœ‰å¦‚ä¸‹è®¾ç½®ï¼š</p>
 <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">resolve</span>(<span class="params">dir</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> path.join(__dirname, dir)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">    <span class="attr">configureWebpack</span>: &#123;</span><br><span class="line">      <span class="comment">//...</span></span><br><span class="line">      <span class="comment">// ä¸»è¦æ˜¯è¿™éƒ¨åˆ†</span></span><br><span class="line">      <span class="attr">resolve</span>: &#123;</span><br><span class="line">        <span class="attr">alias</span>: &#123;</span><br><span class="line">          <span class="string">&#x27;@&#x27;</span>: resolve(<span class="string">&#x27;src&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>æ‰“å¼€ WebStorm çš„ç³»ç»Ÿè®¾ç½®ï¼Œæœç´¢å…³é”®å­— <code>Webpack</code>;</p>
</li>
<li><p>æ‰‹åŠ¨é€‰æ‹© Webpack çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚ï¼š<code>/Users/user1/www/demo-vue/node_modules/@vue/cli-service/webpack.config.js</code>ï¼Œå…¶ä¸­ï¼š</p>
<ul>
<li>å¿…é¡»æ˜¯<strong>ç»å¯¹è·¯å¾„</strong>ã€‚</li>
<li><code>node_modules/@vue/cli-service/webpack.config.js</code> åœ¨é¡¹ç›®å®‰è£…å¥½ä¹‹åæ‰æœ‰ã€‚</li>
</ul>
</li>
<li><p>ä¿å­˜ï¼Œç¨ç­‰ä¸€ä¼šå„¿ã€‚</p>
</li>
</ol>
<h3 id="2-å¿«æ·é”®"><a href="#2-å¿«æ·é”®" class="headerlink" title="2. å¿«æ·é”®"></a>2. å¿«æ·é”®</h3><h4 id="2-1-é€šç”¨å¿«æ·é”®"><a href="#2-1-é€šç”¨å¿«æ·é”®" class="headerlink" title="2.1. é€šç”¨å¿«æ·é”®"></a>2.1. é€šç”¨å¿«æ·é”®</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åœ¨å½“å‰æ–‡ä»¶ä¸­æŸ¥æ‰¾å­—ç¬¦</span></span><br><span class="line"><span class="built_in">command</span> + F</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…¨å±€æŸ¥æ‰¾</span></span><br><span class="line"><span class="built_in">command</span> + <span class="built_in">shift</span> + F</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨å½“å‰æ–‡ä»¶ä¸­æŸ¥æ‰¾å¹¶æ›¿æ¢</span></span><br><span class="line"><span class="built_in">command</span> + R</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…¨å±€æŸ¥æ‰¾å¹¶æ›¿æ¢</span></span><br><span class="line"><span class="built_in">command</span> + <span class="built_in">shift</span> + R</span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ€è¿‘æ‰“å¼€è¿‡çš„æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">command</span> + E</span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ€è¿‘ç¼–è¾‘è¿‡çš„æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">command</span> + <span class="built_in">shift</span> + E</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¹æ®ç±»åå¿«é€Ÿæ‰“å¼€æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">command</span> + O</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¹æ®æ–‡ä»¶åå¿«é€Ÿæ‰“å¼€æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">command</span> + <span class="built_in">shift</span> + O</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¹æ®æ–¹æ³•åæ‰“å¼€æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">command</span> + alt + O</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·³è½¬åˆ°è¡Œå’Œåˆ—ï¼Œè¾“å…¥å¦‚ï¼š200:3 è¡¨ç¤ºç¬¬ 200 è¡Œï¼Œç¬¬3åˆ—</span></span><br><span class="line"><span class="built_in">command</span> + L</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤åˆ¶å½“å‰æ–‡ä»¶ç»å¯¹è·¯å¾„</span></span><br><span class="line"><span class="built_in">command</span> + <span class="built_in">shift</span> + C</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»å†å²è®°å½•ä¸­ç²˜è´´</span></span><br><span class="line"><span class="built_in">command</span> + <span class="built_in">shift</span> + V</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¿«é€ŸæŸ¥çœ‹ã€é€‰æ‹©å½“å‰ç±»ç»“æ„</span></span><br><span class="line"><span class="built_in">command</span> + F12</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·³åˆ°é¡¶éƒ¨é¢åŒ…å±‘å¯¼èˆªæ¡ï¼Œä½¿ç”¨æ–¹å‘é”®åˆ‡æ¢ï¼Œå›è½¦ä¸‹æ‹‰èœå•</span></span><br><span class="line"><span class="built_in">command</span> + â¬†ï¸</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹æ–‡ä»¶åï¼ŒåŠæ‰€æœ‰å¼•ç”¨å®ƒçš„åœ°æ–¹</span></span><br><span class="line"><span class="built_in">shift</span> + F6</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠ˜å æ•´ä¸ªç±»ï¼Œå±•å¼€æ–¹æ³•ï¼Œæ–¹æ³•ä½“è¿˜æŠ˜å </span></span><br><span class="line"><span class="built_in">command</span> + <span class="built_in">shift</span> + -</span><br><span class="line"><span class="built_in">command</span> + +</span><br></pre></td></tr></table></figure>

<h4 id="2-2-IDEAå¿«æ·é”®"><a href="#2-2-IDEAå¿«æ·é”®" class="headerlink" title="2.2. IDEAå¿«æ·é”®"></a>2.2. IDEAå¿«æ·é”®</h4><h5 id="ç±»ç›¸å…³ï¼ˆåœ¨ä¸€ä¸ªç±»æ–‡ä»¶ä¸­ï¼‰"><a href="#ç±»ç›¸å…³ï¼ˆåœ¨ä¸€ä¸ªç±»æ–‡ä»¶ä¸­ï¼‰" class="headerlink" title="ç±»ç›¸å…³ï¼ˆåœ¨ä¸€ä¸ªç±»æ–‡ä»¶ä¸­ï¼‰"></a>ç±»ç›¸å…³ï¼ˆåœ¨ä¸€ä¸ªç±»æ–‡ä»¶ä¸­ï¼‰</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¿«é€Ÿä¿®å¤</span></span><br><span class="line"><span class="comment"># åœ¨ç±»åã€å±æ€§åã€æ–¹æ³•åä¸Šæ‰§è¡Œ</span></span><br><span class="line">alt + enter</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯ä»¥é€‰æ‹©å¿«é€Ÿç”Ÿæˆå½“å‰ç±»çš„æ„é€ æ–¹æ³•ã€getterã€setterã€é‡å†™æ–¹æ³•ç­‰</span></span><br><span class="line">ctrl + enter</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¿«é€Ÿé€‰æ‹©éœ€è¦é‡å†™çš„æ–¹æ³•</span></span><br><span class="line">ctrl + o</span><br><span class="line"></span><br><span class="line"><span class="comment"># å»é™¤æœªä½¿ç”¨çš„å¼•å…¥åŒ…</span></span><br><span class="line">ctrl + alt + o</span><br></pre></td></tr></table></figure>

<h3 id="3-ä½¿ç”¨æŠ€å·§"><a href="#3-ä½¿ç”¨æŠ€å·§" class="headerlink" title="3. ä½¿ç”¨æŠ€å·§"></a>3. ä½¿ç”¨æŠ€å·§</h3><h4 id="3-1-é€šç”¨"><a href="#3-1-é€šç”¨" class="headerlink" title="3.1. é€šç”¨"></a>3.1. é€šç”¨</h4><h5 id="å¿«é€Ÿå®šä½å½“å‰æ‰“å¼€æ–‡ä»¶çš„ä½ç½®"><a href="#å¿«é€Ÿå®šä½å½“å‰æ‰“å¼€æ–‡ä»¶çš„ä½ç½®" class="headerlink" title="å¿«é€Ÿå®šä½å½“å‰æ‰“å¼€æ–‡ä»¶çš„ä½ç½®"></a>å¿«é€Ÿå®šä½å½“å‰æ‰“å¼€æ–‡ä»¶çš„ä½ç½®</h5><ul>
<li>æ–¹å¼ä¸€ï¼šå•å‡»ä¾§è¾¹æ é¡¶éƒ¨çš„ã€Œ<strong>å‡†æ˜Ÿ</strong>ã€æŒ‰é’®ï¼ˆå¦‚æœæ²¡æœ‰ï¼Œåˆ™æ˜¯å¼€å¯äº†æ–¹å¼äºŒï¼‰ï¼›</li>
<li>æ–¹å¼äºŒï¼šå•å‡»ä¾§è¾¹æ é¡¶éƒ¨çš„ã€Œ<strong>è®¾ç½®</strong>ã€æŒ‰é’®ï¼Œå‹¾é€‰ã€ŒAlways Select Opened Fileã€ï¼Œåˆ™æ‰“å¼€æ–°æ–‡ä»¶æ—¶ï¼Œå·¦ä¾§æ ‘å½¢èœå•è‡ªåŠ¨å®šä½ç›®å½•ä½ç½®ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>å¼€å‘å·¥å…·</category>
      </categories>
      <tags>
        <tag>å¼€å‘å·¥å…·</tag>
        <tag>JetBrains</tag>
        <tag>IDEA</tag>
        <tag>PHPStorm</tag>
        <tag>WebStorm</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸€ä¸ªNBé—ªé—ªçš„å¼€æºåº“ja-netfilter</title>
    <url>/post/3632131313.html</url>
    <content><![CDATA[<p>æ­£å¦‚æ ‡é¢˜ï¼Œè¿™æ˜¯ä¸€ä¸ªNBé—ªé—ªçš„å¼€æºåº“ï¼Œåå­—ä¸º <code>ja-netfilter</code>ï¼Œå…³äºè¿™ä¸ªå¼€æºåº“çš„è¯¦ç»†è¯´æ˜ï¼Œå‚è§è¿™é‡Œ <a href="https://zhile.io/2021/11/29/ja-netfilter-javaagent-lib.html">zhile.io</a></p>
<p>æœ¬æ–‡ä»¥ IDEA ä¸ºä¾‹ï¼Œè¯´ä¸€ä¸‹è¿™ä¸ªå·¥å…·æ€ä¹ˆç”¨ï¼š</p>
<blockquote>
<p>é€‚ç”¨ç‰ˆæœ¬ï¼šjb 2021.3.x +<br>è¿™ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œè¿˜å¯ä»¥ç»§ç»­ä½¿ç”¨ <a href="/post/1904459089.html">IDE Eval Reset</a> æ’ä»¶ã€‚</p>
</blockquote>
<h3 id="1-ä¸‹è½½"><a href="#1-ä¸‹è½½" class="headerlink" title="1. ä¸‹è½½"></a>1. ä¸‹è½½</h3><p>ä»ä»“åº“ä¸‹è½½æœ€æ–°ç¨‹åºåŒ… <a href="https://gitee.com/ja-netfilter/ja-netfilter/releases">https://gitee.com/ja-netfilter/ja-netfilter/releases</a></p>
<h3 id="2-è§£å‹åå¼€å§‹é…ç½®"><a href="#2-è§£å‹åå¼€å§‹é…ç½®" class="headerlink" title="2. è§£å‹åå¼€å§‹é…ç½®"></a>2. è§£å‹åå¼€å§‹é…ç½®</h3><h4 id="2-1-é…ç½®-xx-vmoptions"><a href="#2-1-é…ç½®-xx-vmoptions" class="headerlink" title="2.1. é…ç½® xx.vmoptions"></a>2.1. é…ç½® xx.vmoptions</h4><p>ä»¥ä¸‹ä¸¤ç§æ–¹å¼å¯é€‰ï¼š</p>
<ul>
<li>æ–¹å¼ä¸€ï¼šæ‰‹åŠ¨å®šä½åˆ°å¯¹åº”è½¯ä»¶çš„ <code>xx.vmoptions</code> æ–‡ä»¶ï¼Œæ·»åŠ ä¸‹é¢è¿™ä¸€è¡Œ <code>-javaagent:/absolute/path/to/ja-netfilter.jar</code>ï¼›</li>
<li>æ–¹å¼äºŒï¼šæ‰§è¡Œå‘½ä»¤ <code>java -jar /path/to/ja-netfilter.jar</code> è¿›è¡Œæ³¨å…¥ï¼›</li>
</ul>
<p>å¦‚æœä½ ä½¿ç”¨æœ€æ–°çš„ Java 17ï¼Œè¿˜éœ€è¦æ·»åŠ ä»¥ä¸‹ä¸¤è¡Œï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">--add-opens=java.base/jdk.internal.org.objectweb.asm=ALL-UNNAMED</span><br><span class="line">--add-opens=java.base/jdk.internal.org.objectweb.asm.tree=ALL-UNNAMED</span><br></pre></td></tr></table></figure>

<h4 id="2-2-ä¿®æ”¹-config-ç›®å½•ä¸­å¯¹åº”çš„é…ç½®æ–‡ä»¶"><a href="#2-2-ä¿®æ”¹-config-ç›®å½•ä¸­å¯¹åº”çš„é…ç½®æ–‡ä»¶" class="headerlink" title="2.2. ä¿®æ”¹ config ç›®å½•ä¸­å¯¹åº”çš„é…ç½®æ–‡ä»¶"></a>2.2. ä¿®æ”¹ config ç›®å½•ä¸­å¯¹åº”çš„é…ç½®æ–‡ä»¶</h4><p>è¿™é‡Œä»¥ jb è½¯ä»¶ä¸ºä¾‹ï¼Œä¸»è¦ä¿®æ”¹å¦‚ä¸‹ï¼š</p>
<p><strong>dns.conf</strong></p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="section">[DNS]</span></span><br><span class="line">EQUAL,jetbrains.com</span><br><span class="line">EQUAL,brucege.com</span><br><span class="line">EQUAL,plugin.obroom.com</span><br></pre></td></tr></table></figure>

<p><strong>power.conf</strong></p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="section">[Result]</span></span><br><span class="line"><span class="comment">; Suit 220701</span></span><br><span class="line">EQUAL,108391492724719606277191711676038310454333436786970899072879934267610324870870961974305689698304529291751931883693569275416671653649715395540162187908455880751887548211257780817773830153477469379663893839249632010489688404104740814832791608983255964373246023808678041003248593298915323068020141515280275870731964298697511434302901212533563571472947179437111243030002421474283363073021442715554541318313064598900684758246291687123240210640543678544269324094608551763049140564128299834843381841274260516105408318037686490277144538983963856617365418526798235932271319705894170543971766101775628884107261100637290512593943587295268337137890353216997114446658051251047509442298463526766678103653729776506979657957966027949436493606289520405331110453990512846697802196701678785414928082416405650857741201229183421400567636999723106788808933737428330992184832395299929033666381663232693108552887968738513151493044369308652310586803160326722967115451573652070286501044484503083240302303438554529551204609089966636092666792347623413483134664670641246129954999815529917163967761617333572567787618346281658716181608204191963817312534492517480248086896060880038259592723773361709406277837609546030729611710076711450268767610513506889086815865283,65537,860106576952879101192782278876319243486072481962999610484027161162448933268423045647258145695082284265933019120714643752088997312766689988016808929265129401027490891810902278465065056686129972085119605237470899952751915070244375173428976413406363879128531449407795115913715863867259163957682164040613505040314747660800424242248055421184038777878268502955477482203711835548014501087778959157112423823275878824729132393281517778742463067583320091009916141454657614089600126948087954465055321987012989937065785013284988096504657892738536613208311013047138019418152103262155848541574327484510025594166239784429845180875774012229784878903603491426732347994359380330103328705981064044872334790365894924494923595382470094461546336020961505275530597716457288511366082299255537762891238136381924520749228412559219346777184174219999640906007205260040707839706131662149325151230558316068068139406816080119906833578907759960298749494098180107991752250725928647349597506532778539709852254478061194098069801549845163358315116260915270480057699929968468068015735162890213859113563672040630687357054902747438421559817252127187138838514773245413540030800888215961904267348727206110582505606182944023582459006406137831940959195566364811905585377246353-&gt;31872219281407242025505148642475109331663948030010491344733687844358944945421064967310388547820970408352359213697487269225694990179009814674781374751323403257628081559561462351695605167675284372388551941279783515209238245831229026662363729380633136520288327292047232179909791526492877475417113579821717193807584807644097527647305469671333646868883650312280989663788656507661713409911267085806708237966730821529702498972114194166091819277582149433578383639532136271637219758962252614390071122773223025154710411681628917523557526099053858210363406122853294409830276270946292893988830514538950951686480580886602618927728470029090747400687617046511462665469446846624685614084264191213318074804549715573780408305977947238915527798680393538207482620648181504876534152430149355791756374642327623133843473947861771150672096834149014464956451480803326284417202116346454345929350148770746553056995922154382822307758515805142704373984019252210715650875853634697920708113806880196144197384637328982263167395073688501517286678083973976140696077590122053014085412828620051470085033364773099146103525313018873319293728800442101520384088109603555959893639842091339193857485407672132882577840295039058621747654642202620767068924079813640067442975</span><br><span class="line">EQUAL,820563695837794062003013052431566406311160519459527861500703856031109754642079235583817632608600538427437617602262999609013304012507897813563718719720856177652850327961467224291449089135680755288577504536702620359129295482393325960269624080511269764101665311320956470015613044808066402568798693281462244978128867910557946603386047729514659336854309276651962414690113978708520364504328849058883417158186751315886080272834506502242438553969507697483002851232580211232007222134718334176577725640440791904351641362718652452524224349310214787836932692511798322090590491010282507213990514918561984012596822561474687437143,65537,24521566609765666164947017540032021599255701751860227819512057581863724253675446227963662825786216373422117712052647819939094618512591273903731385388945941620956494535886991119537555521717683289574562412249381695575366776196301290570457146763799416784211789775179394339350479765228864277544252534115220169733628333836919758657866915165201332480467127194998195481209996470680276955438320553419743409285076366446411459237915876713514676197204668785300100857270615348770478845912795954436677863461158442534283102154396294509903255539003316675136070586165787963286744036831353098283719024130881707718857451774498022915819-&gt;986236757547332986472011617696226561292849812918563355472727826767720188564083584387121625107510786855734801053524719833194566624465665316622563244215340671405971599343902468620306327831715457360719532421388780770165778156818229863337344187575566725786793391480600129482653072861971002459947277805295727097226389568776499707662505334062639449916265137796823793276300221537201727072401742985542559596685092673521228140822200236743113743661549252453726123450722876929538747702356573783116366629850199080495560991841329893037291900147497007197055572787780928474439121332736213562021554409579596714683101113281773829</span><br><span class="line"></span><br><span class="line"><span class="section">[Args]</span></span><br><span class="line">EQUAL,65537,24773058818499217187577663886010908531303294206336895556072197892590450942803807164562754911175164262596715237551312004078542654996496301487027034803410086499747369353221485073240039340641397198525027728751956658900801359887190562885573922317930300068615009483578963467556425525328780085523172495307229112069939166202511721671904748968934606589702999279663332403655662225374084460291376706916679151764149324177444374590606643838366605181996272409014933080082205048098737253668016260658830645459388519595314928290853199112791333551144805347785109465401055719331231478162870216035573012645710763533896540021550083104281-&gt;3,24773058818499217187577663886010908531303294206336895556072197892590450942803807164562754911175164262596715237551312004078542654996496301487027034803410086499747369353221485073240039340641397198525027728751956658900801359887190562885573922317930300068615009483578963467556425525328780085523172495307229112069939166202511721671904748968934606589702999279663332403655662225374084460291376706916679151764149324177444374590606643838366605181996272409014933080082205048098737253668016260658830645459388519595314928290853199112791333551144805347785109465401055719331231478162870216035573012645710763533896540021550083104281</span><br><span class="line">EQUAL,65537,112990544699464667379805164176191940546242208117491544203358534026745357579006792084392734842374059845912387257283707238075863959850326589016727302942528968334782467185179054600102556548201786183972872728459057873984508534595649484729912852626347880177196897414735118804133099744542685440257890337513274043513-&gt;3,112990544699464667379805164176191940546242208117491544203358534026745357579006792084392734842374059845912387257283707238075863959850326589016727302942528968334782467185179054600102556548201786183972872728459057873984508534595649484729912852626347880177196897414735118804133099744542685440257890337513274043513</span><br></pre></td></tr></table></figure>

<p><strong>url.conf</strong></p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="section">[URL]</span></span><br><span class="line">PREFIX,https://account.jetbrains.com/lservice/rpc/validateKey.action</span><br></pre></td></tr></table></figure>

<h4 id="2-3-å¯åŠ¨è½¯ä»¶æ¿€æ´»"><a href="#2-3-å¯åŠ¨è½¯ä»¶æ¿€æ´»" class="headerlink" title="2.3. å¯åŠ¨è½¯ä»¶æ¿€æ´»"></a>2.3. å¯åŠ¨è½¯ä»¶æ¿€æ´»</h4><p>æ‰“å¼€è½¯ä»¶åï¼Œä»è¿™é‡Œ <a href="https://jetbra.in/s">https://jetbra.in/s</a> æ‰¾åˆ°å¯¹åº”è½¯ä»¶çš„ key è¿›è¡Œæ¿€æ´»ã€‚</p>
]]></content>
      <categories>
        <category>å¼€å‘å·¥å…·</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>å¼€å‘å·¥å…·</tag>
        <tag>JetBrains</tag>
        <tag>IDEA</tag>
      </tags>
  </entry>
  <entry>
    <title>Webpackå…¥é—¨åŠå¸¸ç”¨é…ç½®é€ŸæŸ¥</title>
    <url>/post/2411996818.html</url>
    <content><![CDATA[<blockquote>
<p>Webpack æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å·¥å…·ã€‚ä¸»è¦é’ˆå¯¹jsã€cssã€htmlã€å›¾ç‰‡ã€å­—ä½“æ–‡ä»¶ï¼Œè¿›è¡Œå‹ç¼©ã€ä¼˜åŒ–ã€åˆå¹¶ç­‰æ“ä½œï¼Œä»¥å®ç°å‰ç«¯é¡¹ç›®çš„å·¥ç¨‹åŒ–ã€‚</p>
</blockquote>
<h2 id="1-Hello-Webpack"><a href="#1-Hello-Webpack" class="headerlink" title="1. Hello Webpack"></a>1. Hello Webpack</h2><h3 id="1-1-å®‰è£…"><a href="#1-1-å®‰è£…" class="headerlink" title="1.1. å®‰è£…"></a>1.1. å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. åˆå§‹åŒ–é¡¹ç›®</span></span><br><span class="line">âœ  npm init -y</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. å®‰è£… webpack</span></span><br><span class="line"><span class="comment"># --save-dev å¯ä»¥ç”¨ -D ä»£æ›¿</span></span><br><span class="line">âœ  npm i webpack webpack-cli --save-dev</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. åœ¨ package.json ä¸­æ·»åŠ ç¼–è¯‘å‘½ä»¤</span></span><br><span class="line">  <span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;build&quot;</span>: <span class="string">&quot;webpack&quot;</span></span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h3 id="1-2-æ·»åŠ æºç æ–‡ä»¶"><a href="#1-2-æ·»åŠ æºç æ–‡ä»¶" class="headerlink" title="1.2. æ·»åŠ æºç æ–‡ä»¶"></a>1.2. æ·»åŠ æºç æ–‡ä»¶</h3><p>åˆå§‹çŠ¶æ€ä¸‹ï¼ˆæœªè¿›è¡Œä»»ä½•é…ç½®ï¼‰ï¼Œwebpack ä¼šæŸ¥æ‰¾é¡¹ç›®åˆ° <code>/src/index.js</code> æ–‡ä»¶ä½œä¸ºæ‰“åŒ…å…¥å£ï¼Œå¹¶ä¸”è¾“å‡ºåˆ° <code>/dist</code> ç›®å½•ä¸‹ï¼Œæ‰€ä»¥éœ€è¦å…ˆæ·»åŠ æºç æ–‡ä»¶ï¼Œæ‰èƒ½æ‰§è¡Œæ‰“åŒ…æ“ä½œã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// /src/index.js</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`hello webpack`</span>);</span><br></pre></td></tr></table></figure>

<h3 id="1-3-æ‰§è¡Œæ‰“åŒ…"><a href="#1-3-æ‰§è¡Œæ‰“åŒ…" class="headerlink" title="1.3. æ‰§è¡Œæ‰“åŒ…"></a>1.3. æ‰§è¡Œæ‰“åŒ…</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  npm run build</span><br><span class="line"></span><br><span class="line">&gt; webpack-demo1@1.0.0 build /Users/sunqiang/www/learning/webpack/webpack-demo1</span><br><span class="line">&gt; webpack</span><br><span class="line"></span><br><span class="line">[webpack-cli] Compilation finished</span><br><span class="line">asset main.js 29 bytes [emitted] [minimized] (name: main)</span><br><span class="line">./src/index.js 29 bytes [built] [code generated]</span><br><span class="line">webpack 5.3.2 compiled successfully <span class="keyword">in</span> 315 ms</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h2 id="2-æ ¸å¿ƒåŠŸèƒ½ç‚¹"><a href="#2-æ ¸å¿ƒåŠŸèƒ½ç‚¹" class="headerlink" title="2. æ ¸å¿ƒåŠŸèƒ½ç‚¹"></a>2. æ ¸å¿ƒåŠŸèƒ½ç‚¹</h2><h3 id="2-1-entryã€output"><a href="#2-1-entryã€output" class="headerlink" title="2.1. entryã€output"></a>2.1. entryã€output</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å•å…¥å£</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// æŒ‡å®š æ‰“åŒ…å…¥å£ æ–‡ä»¶</span></span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./path/to/entry/file.js&#x27;</span></span><br><span class="line">  <span class="comment">// æŒ‡å®š æ‰“åŒ…è¾“å‡º æ–‡ä»¶</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;bundle.js&#x27;</span>,</span><br><span class="line">    <span class="attr">path</span>: path.join(__dirname, <span class="string">&#x27;dist&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤šå…¥å£</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">entry</span>: &#123;</span><br><span class="line">    <span class="attr">home</span>: <span class="string">&#x27;./path/to/entry/home.js&#x27;</span>,</span><br><span class="line">    <span class="attr">front</span>: <span class="string">&#x27;./path/to/entry/front.js&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;[name].js&#x27;</span>, <span class="comment">// é€šè¿‡ [] å ä½ç¬¦ç¡®ä¿æ–‡ä»¶åå”¯ä¸€ï¼›name å¯¹åº”å…¥å£æ–‡ä»¶å</span></span><br><span class="line">    <span class="attr">path</span>: path.join(__dirname, <span class="string">&#x27;dist&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-loaders"><a href="#2-2-loaders" class="headerlink" title="2.2. loaders"></a>2.2. loaders</h3><p>å¸¸ç”¨ä¸¾ä¾‹ï¼š</p>
<ul>
<li><code>bable-loader</code> è½¬æ¢ ES6ã€ES7 æ–°è¯­æ³•</li>
<li><code>css-loader</code> .css æ–‡ä»¶çš„åŠ è½½å’Œè§£æ</li>
<li><code>less-loader</code> Less è½¬ CSS</li>
<li><code>ts-loader</code> å°† TS è½¬æ¢æˆ JS</li>
<li><code>file-loader</code> è¿›è¡Œå›¾ç‰‡ã€å­—ä½“ç­‰çš„æ‰“åŒ…</li>
<li><code>raw-loader</code> å°†æ–‡ä»¶ä»¥å­—ç¬¦ä¸²å¤šå½¢å¼å¯¼å…¥</li>
<li><code>thread-loader</code> å¤šè¿›ç¨‹æ‰“åŒ… CSS å’Œ JS</li>
</ul>
<p>é…ç½®ç¤ºä¾‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// æŒ‡å®šåŒ¹é…è§„åˆ™</span></span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.txt/</span>,</span><br><span class="line">        <span class="comment">// æŒ‡å®šä½¿ç”¨çš„ loader</span></span><br><span class="line">        use: <span class="string">&#x27;raw-loader&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="2-3-plugins"><a href="#2-3-plugins" class="headerlink" title="2.3. plugins"></a>2.3. plugins</h3><p>ç”¨é€”ï¼š</p>
<ul>
<li>ç”¨äº bundle æ–‡ä»¶çš„ä¼˜åŒ–ï¼Œèµ„æºç®¡ç†å’Œç¯å¢ƒå˜é‡å¼•å…¥ï¼ˆloaders è§£å†³ä¸äº†çš„æ‰€æœ‰äº‹æƒ…ï¼‰</li>
<li>ä½œç”¨äºæ•´ä¸ªæ„å»ºè¿‡ç¨‹</li>
</ul>
<p>å¸¸ç”¨ä¸¾ä¾‹ï¼š</p>
<ul>
<li><code>CommonsChunkPlugin</code> å°† chunks ç›¸åŒçš„æ¨¡å—ä»£ç æå–æˆå…¬å…± js</li>
<li><code>ClearWebpackPlugin</code> æ¸…ç†æ„å»ºç›®å½•</li>
<li><code>ExtracTextWebpackPlugin</code> å°† CSS ä» bundle ä¸­æå–æˆä¸€ä¸ªç‹¬ç«‹çš„ CSS æ–‡ä»¶</li>
<li><code>CopyWebpackPlugin</code> å°†æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æ‹·è´åˆ°æ„å»ºè¾“å‡ºç›®å½•</li>
<li><code>HtmlWebpackPlugin</code> åˆ›å»º HTML æ–‡ä»¶å»æ‰¿è½½è¾“å‡ºçš„ bundle</li>
<li><code>UglifyjsWebpackPlugin</code> å‹ç¼© JS</li>
<li><code>ZipWebpackPlugin</code> æ‰“åŒ…å‡ºçš„èµ„æºç”Ÿæˆä¸€ä¸ª zip åŒ…</li>
</ul>
<p>é…ç½®ç¤ºä¾‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123; <span class="attr">template</span>: <span class="string">&#x27;./src/index.html&#x27;</span> &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="2-4-mode"><a href="#2-4-mode" class="headerlink" title="2.4. mode"></a>2.4. mode</h3><p>éœ€è¦ <code>Webpack v4+</code> ç‰ˆæœ¬ã€‚</p>
<p>ç”¨äºæŒ‡å®šå½“å‰æ„å»ºç¯å¢ƒï¼ˆå¯ä½¿ç”¨ Webpack å†…ç½®å‡½æ•°ï¼‰ï¼š</p>
<ul>
<li><code>development</code><ul>
<li>è®¾ç½® <code>process.env.NODE_ENV</code> çš„å€¼ä¸º <code>development</code></li>
<li>å¼€å¯ <code>NamedChunksPlugin</code>ã€<code>NamedModulesPlugin</code>ã€‚</li>
</ul>
</li>
<li><code>productionï¼ˆé»˜è®¤ï¼‰</code><ul>
<li>è®¾ç½® <code>process.env.NODE_ENV</code> çš„å€¼ä¸º <code>production</code></li>
<li>å¼€å¯ <code>FlagDependencyUsagePlugin</code>ã€<code>FlagIncludedChunksPlugin</code>ã€<code>ModuleConcatenationPlugin</code>ã€<code>NoEmitOnErrorsPlugin</code>ã€<code>OccurrenceOrderPlugin</code>ã€<code>SideEffectsFlagPlugin</code>ã€<code>TerserPlugin</code>ã€‚</li>
</ul>
</li>
<li><code>none</code><ul>
<li>ä¸å¼€å¯ä»»ä½•ä¼˜åŒ–é€‰é¡¹ã€‚</li>
</ul>
</li>
</ul>
<h2 id="3-å¸¸ç”¨é…ç½®"><a href="#3-å¸¸ç”¨é…ç½®" class="headerlink" title="3. å¸¸ç”¨é…ç½®"></a>3. å¸¸ç”¨é…ç½®</h2><h3 id="3-1-ç”¨-babel-è§£æ-ES6"><a href="#3-1-ç”¨-babel-è§£æ-ES6" class="headerlink" title="3.1. ç”¨ babel è§£æ ES6"></a>3.1. ç”¨ babel è§£æ ES6</h3><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1. å®‰è£…ä¾èµ–</span></span><br><span class="line">npm i @babel/core @babel/preset-env babel-loader -D</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. æ·»åŠ  .babelrc</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;presets&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;@babel/preset-env&quot;</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. webpack.config.js</span></span><br><span class="line">module: &#123;</span><br><span class="line">  rules: [</span><br><span class="line">    &#123;</span><br><span class="line">      test: /.js$/, <span class="comment">// åŒ¹é…æ‰€æœ‰ js æ–‡ä»¶</span></span><br><span class="line">      use: &#x27;babel-loader&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-è§£æ-CSS"><a href="#3-2-è§£æ-CSS" class="headerlink" title="3.2. è§£æ CSS"></a>3.2. è§£æ CSS</h3><p>è¯´æ˜ï¼š</p>
<ul>
<li><code>css-loader</code> åŠ è½½ <code>.css</code> æ–‡ä»¶ï¼Œå¹¶ä¸”è½¬æ¢æˆ <code>commonjs</code> å¯¹è±¡ã€‚</li>
<li><code>style-loader</code> å°†æ ·å¼é€šè¿‡æ ‡ç­¾æ’å…¥åˆ° head ä¸­ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1. å®‰è£…ä¾èµ–</span></span><br><span class="line">npm i style-loader css-loader -D</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. webpack.config.js</span></span><br><span class="line">module: &#123;</span><br><span class="line">  rules: [</span><br><span class="line">    &#123;</span><br><span class="line">      test: /.css$/, <span class="comment">// åŒ¹é…æ‰€æœ‰ css æ–‡ä»¶</span></span><br><span class="line">      use: [</span><br><span class="line">        &#x27;style-loader&#x27;,</span><br><span class="line">        &#x27;css-loader&#x27;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-3-è§£æ-Less"><a href="#3-3-è§£æ-Less" class="headerlink" title="3.3. è§£æ Less"></a>3.3. è§£æ Less</h3><p>è¯´æ˜ï¼š</p>
<ul>
<li><code>less-loader</code> å°† less è½¬ä¸º css</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1. å®‰è£…ä¾èµ–</span></span><br><span class="line">npm i less less-loader -D</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. webpack.config.js</span></span><br><span class="line">module: &#123;</span><br><span class="line">  rules: [</span><br><span class="line">    &#123;</span><br><span class="line">      test: /.less$/, <span class="comment">// åŒ¹é…æ‰€æœ‰ less æ–‡ä»¶</span></span><br><span class="line">      use: [</span><br><span class="line">        &#x27;style-loader&#x27;,</span><br><span class="line">        &#x27;css-loader&#x27;,</span><br><span class="line">        &#x27;less-loader&#x27;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-4-è§£æå›¾ç‰‡å’Œå­—ä½“"><a href="#3-4-è§£æå›¾ç‰‡å’Œå­—ä½“" class="headerlink" title="3.4. è§£æå›¾ç‰‡å’Œå­—ä½“"></a>3.4. è§£æå›¾ç‰‡å’Œå­—ä½“</h3><p>è¯´æ˜ï¼š</p>
<ul>
<li><code>file-loader</code> ç”¨äºå¤„ç†æ–‡ä»¶ã€‚</li>
<li><code>url-loader</code> åœ¨ <code>file-loader</code> çš„åŸºç¡€ä¸Šï¼Œå¢åŠ å°èµ„æºçš„è‡ªåŠ¨ Base64 å¤„ç†ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1. å®‰è£…ä¾èµ–</span></span><br><span class="line">npm i file-loader url-loader -D</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. webpack.config.js</span></span><br><span class="line">module: &#123;</span><br><span class="line">  rules: [</span><br><span class="line">    &#123;</span><br><span class="line">      test: /.(png|svg|jpg|gif)$/, <span class="comment">// åŒ¹é…æ‰€æœ‰ å›¾ç‰‡ æ–‡ä»¶</span></span><br><span class="line">      <span class="comment">// use: &#x27;file-loader&#x27;</span></span><br><span class="line">      use: [</span><br><span class="line">        &#123;</span><br><span class="line">          loader: &#x27;url-loader&#x27;, <span class="comment">// å¯¹å°äº limit çš„å›¾ç‰‡æ‰§è¡Œ base64 å¤„ç†</span></span><br><span class="line">          options: &#123;</span><br><span class="line">            limit: <span class="number">10240</span> <span class="comment">// 10Kï¼Œå•ä½ï¼šå­—èŠ‚</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      test: /.(woff|woff2|eot|ttf|otf)$/, <span class="comment">// åŒ¹é…æ‰€æœ‰ å­—ä½“ æ–‡ä»¶</span></span><br><span class="line">      use: &#x27;file-loader&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="3-5-æ–‡ä»¶ç›‘å¬"><a href="#3-5-æ–‡ä»¶ç›‘å¬" class="headerlink" title="3.5. æ–‡ä»¶ç›‘å¬"></a>3.5. æ–‡ä»¶ç›‘å¬</h3><blockquote>
<p>æ³¨æ„ï¼šè¿™ç§æ–¹å¼ï¼Œæµè§ˆå™¨ä¸ä¼šè‡ªåŠ¨åˆ·æ–°ï¼Œå¯å‚è§ä¸‹ä¸€èŠ‚é€šè¿‡ã€Œçƒ­æ›´æ–°ã€æ¥å®ç°ã€‚</p>
</blockquote>
<p>ä½œç”¨ï¼šåœ¨å‘ç°æºç å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè‡ªåŠ¨é‡æ–°æ„å»ºæ–°çš„è¾“å‡ºæ–‡ä»¶ã€‚</p>
<p>æ–¹å¼ï¼š</p>
<ul>
<li>ä¸€ã€å¯åŠ¨ webpack å‘½ä»¤æ—¶ï¼Œè¿½åŠ  <code>--watch</code> å‚æ•°ã€‚</li>
<li>äºŒã€åœ¨ <code>webpack.config.js</code> é…ç½®æ–‡ä»¶ä¸­å¢åŠ  <code>watch: true</code>ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// å¼€å¯ç›‘å¬ï¼Œé»˜è®¤ falseï¼Œä¸è¿›è¡Œç›‘å¬</span></span><br><span class="line">  <span class="attr">watch</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// ç›‘å¬é€‰é¡¹ï¼Œåœ¨å¼€å¯ç›‘å¬æ—¶ç”Ÿæ•ˆ</span></span><br><span class="line">  <span class="attr">watchOptions</span>: &#123;</span><br><span class="line">    <span class="comment">// è®¾ç½®ç›‘å¬è¦å¿½ç•¥çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œæ”¯æŒæ­£åˆ™ï¼Œé»˜è®¤ç©º</span></span><br><span class="line">    <span class="attr">ignored</span>: <span class="regexp">/node_modules/</span>,</span><br><span class="line">    <span class="comment">// ç›‘å¬åˆ°å˜åŒ–åç­‰å¾…å¤šé•¿æ—¶é—´å»æ‰§è¡Œæ„å»ºï¼Œé»˜è®¤ 300ms</span></span><br><span class="line">    aggregateTimeout: <span class="number">300</span>,</span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å‘ç”Ÿå˜åŒ–</span></span><br><span class="line">    <span class="comment">// é€šè¿‡è½®è®­ç³»ç»ŸæŒ‡å®šæ–‡ä»¶æ˜¯å¦å‘ç”Ÿå˜åŒ–å®ç°ï¼Œé»˜è®¤æ¯ç§’æ£€æŸ¥ 1000æ¬¡</span></span><br><span class="line">    <span class="attr">poll</span>: <span class="number">1000</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="3-6-çƒ­æ›´æ–°"><a href="#3-6-çƒ­æ›´æ–°" class="headerlink" title="3.6. çƒ­æ›´æ–°"></a>3.6. çƒ­æ›´æ–°</h3><h4 id="æ–¹å¼ä¸€ï¼šWDS-webpack-dev-server"><a href="#æ–¹å¼ä¸€ï¼šWDS-webpack-dev-server" class="headerlink" title="æ–¹å¼ä¸€ï¼šWDS(webpack-dev-server)"></a>æ–¹å¼ä¸€ï¼šWDS(webpack-dev-server)</h4><p>è¯´æ˜ï¼š</p>
<ul>
<li>ä¸åˆ·æ–°æµè§ˆå™¨ï¼›</li>
<li>ä¸è¾“å‡ºæ–‡ä»¶ï¼ˆæ²¡æœ‰ç£ç›˜ I/Oï¼‰ï¼Œè€Œæ˜¯æ”¾åœ¨å†…å­˜ä¸­ï¼›</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1. package.json å¢åŠ å¯åŠ¨è„šæœ¬</span></span><br><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">  <span class="attr">&quot;dev&quot;</span>: <span class="string">&quot;webpack-dev-server --open&quot;</span> <span class="comment">// --open æ„å»ºå®Œæˆåè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 2. webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">// ...</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">mode: &#x27;</span>development<span class="string">&#x27;, // æ³¨æ„ï¼šçƒ­æ›´æ–°ä»…ç”¨äºç”Ÿäº§ç¯å¢ƒ</span></span><br><span class="line"><span class="string">plugins: [</span></span><br><span class="line"><span class="string">  new webpack.HotModuleReplacementPlugin() // webpack å†…ç½®æ’ä»¶</span></span><br><span class="line"><span class="string">],</span></span><br><span class="line"><span class="string">devServer: &#123;</span></span><br><span class="line"><span class="string">  contentBase: &#x27;</span>./dist<span class="string">&#x27;, //</span></span><br><span class="line"><span class="string">  hot: true // å¼€å¯çƒ­æ›´æ–°</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="æ–¹å¼äºŒï¼šWDM-webpack-dev-middleware"><a href="#æ–¹å¼äºŒï¼šWDM-webpack-dev-middleware" class="headerlink" title="æ–¹å¼äºŒï¼šWDM(webpack-dev-middleware)"></a>æ–¹å¼äºŒï¼šWDM(webpack-dev-middleware)</h4><p>è¯´æ˜ï¼š</p>
<ul>
<li>å°† webpack è¾“å‡ºæ–‡ä»¶ä¼ è¾“ç»™æœåŠ¡å™¨ï¼ˆNode.js æœåŠ¡ç«¯ï¼‰ï¼›</li>
<li>ç”¨äºæ›´çµæ´»çš„å®šåˆ¶åœºæ™¯ï¼›</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> webpackDevMiddleware = <span class="built_in">require</span>(<span class="string">&#x27;webpack-dev-middleware&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line"><span class="keyword">const</span> config = <span class="built_in">require</span>(<span class="string">&#x27;./webpack.config.js&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> compiler = webpack(config);</span><br><span class="line"></span><br><span class="line">app.use(webpackDevMiddleware(compiler, &#123;</span><br><span class="line">  <span class="attr">publicPath</span>: config.output.publicPath</span><br><span class="line">&#125;));</span><br><span class="line"></span><br><span class="line">app.licten(<span class="number">3000</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;App listening on port 3000. \n&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


<h3 id="3-7-æ–‡ä»¶æŒ‡çº¹ï¼ˆæ–‡ä»¶åç¼€ï¼‰"><a href="#3-7-æ–‡ä»¶æŒ‡çº¹ï¼ˆæ–‡ä»¶åç¼€ï¼‰" class="headerlink" title="3.7. æ–‡ä»¶æŒ‡çº¹ï¼ˆæ–‡ä»¶åç¼€ï¼‰"></a>3.7. æ–‡ä»¶æŒ‡çº¹ï¼ˆæ–‡ä»¶åç¼€ï¼‰</h3><p>ä¸‰ç§æ–¹å¼ï¼š</p>
<ul>
<li><code>Hash</code>ï¼šä¸<strong>æ•´ä¸ªé¡¹ç›®</strong>çš„æ„å»ºç›¸å…³ï¼Œåªè¦é¡¹ç›®æ–‡ä»¶ä¿®æ”¹ï¼Œæ•´ä¸ªé¡¹ç›®æ„å»ºçš„ hash å€¼å°±ä¼šæ”¹å˜ã€‚</li>
<li><code>Chunkhash</code>ï¼šè·Ÿ webpack æ‰“åŒ…çš„ chunkï¼ˆæ¨¡å—ï¼‰æœ‰å…³ï¼Œä¸åŒçš„ entry ä¼šäº§ç”Ÿä¸åŒçš„ chunkhash å€¼ã€‚</li>
<li><code>Contenthash</code>ï¼šæ ¹æ®æ–‡ä»¶å†…å®¹æ¥å®šä¹‰ hashæ–‡ä»¶å†…å®¹ä¸å˜ï¼Œè¿™ contenthash ä¸å˜ã€‚</li>
</ul>
<p>å ä½ç¬¦è¯´æ˜ï¼š</p>
<ul>
<li><code>[ext]</code> èµ„æºåç¼€å</li>
<li><code>[name]</code> æ–‡ä»¶å</li>
<li><code>[path]</code> æ–‡ä»¶ç°å¯¹è·¯å¾„</li>
<li><code>[folder]</code> æ–‡ä»¶æ‰€åœ¨æ–‡ä»¶å¤¹</li>
<li><code>[contenthash]</code> æ–‡ä»¶å†…å®¹ hashï¼Œé»˜è®¤ md5 ç”Ÿæˆ</li>
<li><code>[hash]</code> ç”Ÿæˆçš„ hash å€¼</li>
<li><code>[emoji]</code> ä¸€ä¸ªéšæœºæŒ‡ä»£æ–‡ä»¶å†…å®¹çš„ emoji</li>
</ul>
<p>é…ç½®ç¤ºä¾‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// npm i mini-css-extract-plugin -D</span></span><br><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">&#x27;mini-css-extract-plugin&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">entry</span>: &#123;</span><br><span class="line">    <span class="attr">app</span>: <span class="string">&#x27;app.js&#x27;</span>,</span><br><span class="line">    <span class="attr">search</span>: <span class="string">&#x27;search.js&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;[name]_[chunkhash].js&#x27;</span>, <span class="comment">// js æ–‡ä»¶ + hash</span></span><br><span class="line">    <span class="attr">path</span>: __dirname + <span class="string">&#x27;/dist&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> MiniCssExtractPlugin(&#123;</span><br><span class="line">      <span class="attr">filename</span>: <span class="string">&#x27;[name]_[contenthash:8].css&#x27;</span> <span class="comment">// css æ–‡ä»¶ + hash</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(png|svg|jpg|gif)$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&#x27;file-loader&#x27;</span>,</span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">              <span class="attr">name</span>: <span class="string">&#x27;img/[name]_[hash:8].[ext]&#x27;</span> <span class="comment">// å›¾ç‰‡æ–‡ä»¶ + hash</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// &#123;</span></span><br><span class="line">      <span class="comment">//   test: /.(png|svg|jpg|gif)$/, // åŒ¹é…æ‰€æœ‰ å›¾ç‰‡ æ–‡ä»¶</span></span><br><span class="line">      <span class="comment">//   // use: &#x27;file-loader&#x27;</span></span><br><span class="line">      <span class="comment">//   use: [</span></span><br><span class="line">      <span class="comment">//     &#123;</span></span><br><span class="line">      <span class="comment">//       loader: &#x27;url-loader&#x27;, // å¯¹å°äº limit çš„å›¾ç‰‡æ‰§è¡Œ base64 å¤„ç†</span></span><br><span class="line">      <span class="comment">//       options: &#123;</span></span><br><span class="line">      <span class="comment">//         limit: 10240 // 10Kï¼Œå•ä½ï¼šå­—èŠ‚</span></span><br><span class="line">      <span class="comment">//       &#125;</span></span><br><span class="line">      <span class="comment">//     &#125;</span></span><br><span class="line">      <span class="comment">//   ]</span></span><br><span class="line">      <span class="comment">// &#125;,</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/.(woff|woff2|eot|ttf|otf)$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&#x27;file-loader&#x27;</span>,</span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">              <span class="attr">name</span>: <span class="string">&#x27;img/[name]_[hash:8].[ext]&#x27;</span> <span class="comment">// å­—ä½“æ–‡ä»¶ + hash</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/.css$/</span>, <span class="comment">// åŒ¹é…æ‰€æœ‰ css æ–‡ä»¶</span></span><br><span class="line">        use: [</span><br><span class="line">          MiniCssExtractPlugin.loader, <span class="comment">// &#x27;style-loader&#x27;, // äºŒè€…äº’æ–¥</span></span><br><span class="line">          <span class="string">&#x27;css-loader&#x27;</span></span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/.less$/</span>, <span class="comment">// åŒ¹é…æ‰€æœ‰ less æ–‡ä»¶</span></span><br><span class="line">        use: [</span><br><span class="line">           MiniCssExtractPlugin.loader, <span class="comment">// &#x27;style-loader&#x27;, // äºŒè€…äº’æ–¥</span></span><br><span class="line">          <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;less-loader&#x27;</span></span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>


<h3 id="3-8-ä»£ç å‹ç¼©"><a href="#3-8-ä»£ç å‹ç¼©" class="headerlink" title="3.8. ä»£ç å‹ç¼©"></a>3.8. ä»£ç å‹ç¼©</h3><h4 id="3-8-1-js-æ–‡ä»¶"><a href="#3-8-1-js-æ–‡ä»¶" class="headerlink" title="3.8.1. js æ–‡ä»¶"></a>3.8.1. js æ–‡ä»¶</h4><p><code>uglifyjs-webpack-plugin</code> å†…ç½®</p>
<h4 id="3-8-2-css-æ–‡ä»¶"><a href="#3-8-2-css-æ–‡ä»¶" class="headerlink" title="3.8.2. css æ–‡ä»¶"></a>3.8.2. css æ–‡ä»¶</h4><p><code>optimize-css-assets-webpack-pugin</code> æ’ä»¶ + cssnano é¢„å¤„ç†å™¨</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// npm i optimize-css-assets-webpack-pugin cssnano -D</span></span><br><span class="line"><span class="keyword">const</span> OptimizeCSSAssetsPlugin = <span class="built_in">require</span>(<span class="string">&#x27;optimize-css-assets-webpack-pugin&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">plugins: [</span><br><span class="line">  <span class="keyword">new</span> OptimizeCSSAssetsPlugin(&#123;</span><br><span class="line">    <span class="attr">assetNameRegExp</span>: <span class="regexp">/\.css$/g</span>,</span><br><span class="line">    cssProcessor: <span class="built_in">require</span>(<span class="string">&#x27;cssnano&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">]</span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>

<h4 id="3-8-3-html-æ–‡ä»¶"><a href="#3-8-3-html-æ–‡ä»¶" class="headerlink" title="3.8.3. html æ–‡ä»¶"></a>3.8.3. html æ–‡ä»¶</h4><p><code>html-webpack-plugin</code> æ’ä»¶å¹¶è®¾ç½®å‹ç¼©å‚æ•°</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// npm i html-webpack-plugin -D</span></span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">plugins: [</span><br><span class="line">  <span class="comment">// ä¸€ä¸ªé¡µé¢å¯¹åº”ä¸€ä¸ª HtmlWebpackPluginï¼ˆå‚è§å¤šé¡µé¢æ‰“åŒ… HTMLï¼‰</span></span><br><span class="line">  <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">    <span class="attr">template</span>: path.join(__dirname, <span class="string">&#x27;src/search.html&#x27;</span>),</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;search.html&#x27;</span>, <span class="comment">// æ‰“åŒ…å‡ºæ¥çš„ html æ–‡ä»¶å</span></span><br><span class="line">    <span class="attr">chunks</span>: [<span class="string">&#x27;search&#x27;</span>], <span class="comment">//</span></span><br><span class="line">    <span class="attr">inject</span>: <span class="literal">true</span>, <span class="comment">// cssã€js è‡ªåŠ¨æ³¨å…¥ html ä¸­</span></span><br><span class="line">    <span class="attr">minify</span>: &#123; <span class="comment">// å‹ç¼©å‚æ•°</span></span><br><span class="line">      <span class="attr">html5</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">collapseWhitespace</span>: <span class="literal">true</span>, <span class="comment">// ç©ºæ ¼</span></span><br><span class="line">      <span class="attr">preserveLineBreaks</span>: <span class="literal">false</span>, <span class="comment">// æ¢è¡Œ</span></span><br><span class="line">      <span class="attr">minifyCSS</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">minifyJS</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">removeComments</span>: <span class="literal">false</span> <span class="comment">// åˆ é™¤æ³¨é‡Š</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>

<h3 id="3-9-è‡ªåŠ¨æ¸…ç†æ„å»ºç›®å½•"><a href="#3-9-è‡ªåŠ¨æ¸…ç†æ„å»ºç›®å½•" class="headerlink" title="3.9. è‡ªåŠ¨æ¸…ç†æ„å»ºç›®å½•"></a>3.9. è‡ªåŠ¨æ¸…ç†æ„å»ºç›®å½•</h3><p>ä½¿ç”¨æ’ä»¶ <code>webpack-clean-plugin</code>ï¼Œé»˜è®¤åˆ é™¤ output æŒ‡å®šçš„è¾“å‡ºç›®å½•ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// npm i clean-webpack-plugin -D</span></span><br><span class="line"><span class="keyword">const</span> CleanWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;clean-webpack-plugin);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">// ...</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">plugins: [</span></span><br><span class="line"><span class="string">  new CleanWebpackPlugin()</span></span><br><span class="line"><span class="string">]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">// ...</span></span><br></pre></td></tr></table></figure>

<h3 id="3-10-CSS3-å‰ç¼€è‡ªåŠ¨è¡¥å…¨"><a href="#3-10-CSS3-å‰ç¼€è‡ªåŠ¨è¡¥å…¨" class="headerlink" title="3.10. CSS3 å‰ç¼€è‡ªåŠ¨è¡¥å…¨"></a>3.10. CSS3 å‰ç¼€è‡ªåŠ¨è¡¥å…¨</h3><p><code>PostCSS</code> autoprefixer æ’ä»¶ï¼Œå±äºæ‰“åŒ…å®Œæˆåçš„åç½®å¤„ç†ï¼Œè¡¥å…¨ CSS3 å‰ç¼€ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// npm i postcss-loader autoprefixer -D</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="attr">module</span>: &#123;</span><br><span class="line">  <span class="attr">rules</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">test</span>: <span class="regexp">/.less$/</span>, <span class="comment">// åŒ¹é…æ‰€æœ‰ less æ–‡ä»¶</span></span><br><span class="line">      use: [</span><br><span class="line">        MiniCssExtractPlugin.loader,</span><br><span class="line">        <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;less-loader&#x27;</span>,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">loader</span>: <span class="string">&#x27;postcss-loader&#x27;</span>,</span><br><span class="line">          <span class="attr">options</span>: &#123;</span><br><span class="line">            <span class="attr">plugins</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">              <span class="built_in">require</span>(<span class="string">&#x27;autoprefixer&#x27;</span>)(&#123;</span><br><span class="line">                <span class="attr">browsers</span>: [ <span class="comment">// è®¾ç½®å…¼å®¹çš„æµè§ˆå™¨ç‰ˆæœ¬</span></span><br><span class="line">                  <span class="string">&#x27;last 2 version&#x27;</span>, <span class="comment">// æœ€æ–°çš„ 2 ä¸ªç‰ˆæœ¬</span></span><br><span class="line">                  <span class="string">&#x27;&gt;1%&#x27;</span>, <span class="comment">// ä½¿ç”¨äººæ•°</span></span><br><span class="line">                  <span class="string">&#x27;ios 7&#x27;</span> <span class="comment">// iOS 7 ä»¥ä¸Š</span></span><br><span class="line">                ]</span><br><span class="line">              &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>å¼€å‘å·¥å…·</category>
      </categories>
      <tags>
        <tag>å¼€å‘å·¥å…·</tag>
        <tag>webpack</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨ PHPStorm ä¸­é…ç½®åŸºäº Docker çš„ xdebug</title>
    <url>/post/223922994.html</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡ä¸»è¦ä»‹ç»åœ¨ PHPStorm ä¸­å¦‚ä½•é…ç½® xdebug è¿›è¡Œæ–­ç‚¹è°ƒè¯•ï¼ŒPHP æœåŠ¡è¿è¡Œåœ¨ Docker å®¹å™¨ä¸­ã€‚ æ­¤å¤–ï¼Œå…³äº vscode çš„é…ç½®æ–¹å¼è¯¦è§ï¼š<a href="https://blog.sqiang.net/post/567149842.html">å¦‚ä½•ä½¿ç”¨ vscode å¯¹åŸºäº Docker çš„ PHP è¿›è¡Œæ–­ç‚¹è°ƒè¯•</a></p>
</blockquote>
<span id="more"></span>

<h3 id="1-Docker-è®¾ç½®"><a href="#1-Docker-è®¾ç½®" class="headerlink" title="1. Docker è®¾ç½®"></a>1. Docker è®¾ç½®</h3><h4 id="1-1-åœ¨é•œåƒä¸­å®‰è£…-xdebug"><a href="#1-1-åœ¨é•œåƒä¸­å®‰è£…-xdebug" class="headerlink" title="1.1. åœ¨é•œåƒä¸­å®‰è£… xdebug"></a>1.1. åœ¨é•œåƒä¸­å®‰è£… xdebug</h4><p>Dockerfile æ–‡ä»¶ä¸­ xdebug çš„å®‰è£…æ–¹å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment"># ã€xdebugã€‘</span></span><br><span class="line">&amp;&amp; mkdir -p /tmp/xdebug \</span><br><span class="line">&amp;&amp; tar -xf /tmp/xdebug.tar.gz -C /tmp/xdebug --strip-components=<span class="number">1</span> \</span><br><span class="line">&amp;&amp; docker-php-ext-configure /tmp/xdebug --enable-xdebug \</span><br><span class="line">&amp;&amp; docker-php-ext-install /tmp/xdebug \</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œä¸»è¦ä½¿ç”¨ <code>docker-php-ext-configure</code> å’Œ <code>docker-php-ext-install</code> æ¥å®‰è£…å’Œå¯ç”¨ PHP æ‰©å±•ï¼Œè¯¦è§ï¼š<a href="https://blog.sqiang.net/post/90967283.html">Docker ä¸­çš„ PHP å¦‚ä½•å®‰è£…æ‰©å±•</a></p>
<p>ä¸ºäº†æé«˜æ„å»ºé€Ÿåº¦ï¼Œè¿™é‡Œç”¨çš„æ˜¯ä¸‹è½½å¥½çš„ xdebug å®‰è£…åŒ…ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ <code>wget -c https://github.com/xdebug/xdebug/archive/2.7.2.tar.gz</code> ä¸‹è½½ã€‚</p>
<h4 id="1-2-é…ç½®-xdebug"><a href="#1-2-é…ç½®-xdebug" class="headerlink" title="1.2. é…ç½® xdebug"></a>1.2. é…ç½® xdebug</h4><p>åœ¨ <code>php.ini</code> ä¸­åŠ å…¥ä»¥ä¸‹é…ç½®</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="section">[XDebug]</span></span><br><span class="line"><span class="comment">;zend_extension = xdebug.so</span></span><br><span class="line"><span class="attr">xdebug.remote_enable</span> = <span class="number">1</span></span><br><span class="line"><span class="attr">xdebug.remote_handler</span> = dbgp</span><br><span class="line"><span class="attr">xdebug.remote_port</span> = <span class="number">9001</span></span><br><span class="line"><span class="attr">xdebug.remote_autostart</span> = <span class="number">1</span></span><br><span class="line"><span class="attr">xdebug.remote_connect_back</span> = <span class="number">0</span></span><br><span class="line"><span class="attr">xdebug.idekey</span> = docker</span><br><span class="line"><span class="attr">xdebug.remote_host</span> = <span class="number">10.254</span>.<span class="number">254.254</span></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼š</p>
<ul>
<li><p><code>xdebug.remote_port</code> æŒ‡å®šçš„ç«¯å£å·éœ€è¦ä»ä»å®¹å™¨ä¸­æš´éœ²å‡ºå»ï¼›</p>
</li>
<li><p><code>xdebug.remote_host</code> ç”¨æ¥é…ç½®å®¿ä¸»æœºçš„ IP åœ°å€</p>
<blockquote>
<p>ğŸ‘ æœ€æ–°ï¼šåœ¨ Docker v18.03+ å¯ä»¥ç›´æ¥è®¾ç½®ä¸º <strong>host.docker.internal</strong>ï¼Œä»¥è‡ªåŠ¨è§£æå®¿ä¸»æœºçš„ IPã€‚</p>
</blockquote>
<p>å› ä¸ºä» Docker å®¹å™¨ä¸­æ— æ³•é€šè¿‡ <code>localhost</code> æˆ– <code>127.0.0.1</code> è®¿é—®å®¿ä¸»æœºï¼Œæ‰€æœ‰æœ‰ä»¥ä¸‹ä¸‰ç§è§£å†³åŠæ³•ï¼š</p>
<ul>
<li>æ–¹å¼ä¸€ï¼šç»™å®¿ä¸»æœºè®¾ç½®ä¸€ä¸ªå›ºå®š IPï¼›</li>
<li>æ–¹å¼äºŒï¼šæ¯æ¬¡å¯åŠ¨æœåŠ¡å‰ï¼Œæ£€æŸ¥å®¿ä¸»æœºçš„ IP æ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œå¹¶ä¿®æ”¹ <code>php.ini</code> æ–‡ä»¶ä¸­ xdebug è®¾ç½®ï¼Œä½¿å…¶ä¸å®¿ä¸»æœºä¿æŒä¸€è‡´ã€‚</li>
<li>æ–¹å¼ä¸‰ï¼šå°†åœ°å€è®¾ç½®ä¸º <code>10.254.254.254</code>ï¼Œå¹¶åœ¨å®¿ä¸»æœºæ‰§è¡Œå‘½ä»¤ <code>ifconfig lo0 alias 10.254.254.254</code> æ·»åŠ ä¸€ä¸ªå›ç¯ IPï¼ˆ<em>æ³¨æ„ï¼Œè¿™é‡Œçš„ä¿®æ”¹åœ¨å®¿ä¸»æœºç³»ç»Ÿé‡å¯åä¼šå¤±æ•ˆ</em>ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h3 id="2-PHPStorm-è®¾ç½®"><a href="#2-PHPStorm-è®¾ç½®" class="headerlink" title="2. PHPStorm è®¾ç½®"></a>2. PHPStorm è®¾ç½®</h3><p><img data-src="https://static.sqiang.net/image/post/phpstorm_xdebug1.png?imageView2/0/interlace/1/q/75%7Cimageslim"></p>
<p><img data-src="https://static.sqiang.net/image/post/phpstorm_xdebug2.png?imageView2/0/interlace/1/q/75%7Cimageslim"></p>
<p><img data-src="https://static.sqiang.net/image/post/phpstorm_xdebug3.png?imageView2/0/interlace/1/q/75%7Cimageslim"></p>
<p><img data-src="https://static.sqiang.net/image/post/phpstorm_xdebug4.png?imageView2/0/interlace/1/q/75%7Cimageslim"></p>
<h3 id="3-æµ‹è¯•"><a href="#3-æµ‹è¯•" class="headerlink" title="3. æµ‹è¯•"></a>3. æµ‹è¯•</h3><p>åˆ·æ–°é¡¹ç›®ï¼Œçœ‹åˆ°å¦‚ä¸‹æˆªå›¾åˆ™é…ç½®æˆåŠŸã€‚</p>
<p><img data-src="https://static.sqiang.net/image/post/phpstorm_xdebug5.png?imageView2/0/interlace/1/q/75%7Cimageslim"></p>
]]></content>
      <categories>
        <category>å¼€å‘å·¥å…·</category>
      </categories>
      <tags>
        <tag>å¼€å‘å·¥å…·</tag>
        <tag>PHPStorm</tag>
        <tag>XDebug</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨macä¸Šä½¿ç”¨Javaåç¼–è¯‘å·¥å…·JD-GUI</title>
    <url>/post/2524245389.html</url>
    <content><![CDATA[<p>JD-GUI æ˜¯ä¸€æ¬¾å¤§å®¶è€³ç†Ÿèƒ½è¯¦çš„ Java åç¼–è¯‘å·¥å…·ï¼Œå¯ä»¥æ–¹ä¾¿çš„å°†ç¼–è¯‘å¥½çš„ <code>.class</code> æ–‡ä»¶åç¼–è¯‘ä¸º <code>.java</code> æºç æ–‡ä»¶ï¼Œç”¨äºå¼€å‘è°ƒè¯•ã€æºç å­¦ä¹ ç­‰ã€‚</p>
<p>å®˜ç½‘åœ°å€ï¼š<a href="http://java-decompiler.github.io/">http://java-decompiler.github.io</a></p>
<p>Git åœ°å€ï¼š<a href="https://github.com/java-decompiler/jd-gui">https://github.com/java-decompiler/jd-gui</a></p>
<h3 id="ä¸‹è½½åœ°å€"><a href="#ä¸‹è½½åœ°å€" class="headerlink" title="ä¸‹è½½åœ°å€"></a>ä¸‹è½½åœ°å€</h3><blockquote>
<p>å½“å‰æœ€æ–°ç‰ˆæœ¬ï¼šv1.6.6 @ Dec 25, 2019</p>
</blockquote>
<ul>
<li><a href="https://github.com/java-decompiler/jd-gui/releases">jd-gui-1.6.6.jar</a></li>
<li><a href="https://github.com/java-decompiler/jd-gui/releases">jd-gui-1.6.6-min.jar</a></li>
<li>Linux <a href="https://github.com/java-decompiler/jd-gui/releases">jd-gui-1.6.6.rpm</a></li>
<li>Linux <a href="https://github.com/java-decompiler/jd-gui/releases">jd-gui-1.6.6.deb</a></li>
<li>MacOS <a href="https://github.com/java-decompiler/jd-gui/releases">jd-gui-osx-1.6.6.tar</a></li>
<li>Windows <a href="https://github.com/java-decompiler/jd-gui/releases">jd-gui-windows-1.6.6.zip</a></li>
</ul>
<h3 id="è§£å†³åœ¨-macOS-ä¸‹é—ªé€€é—®é¢˜"><a href="#è§£å†³åœ¨-macOS-ä¸‹é—ªé€€é—®é¢˜" class="headerlink" title="è§£å†³åœ¨ macOS ä¸‹é—ªé€€é—®é¢˜"></a>è§£å†³åœ¨ macOS ä¸‹é—ªé€€é—®é¢˜</h3><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>è¿è¡Œ JD-GUI æ‰€éœ€ Java ç‰ˆæœ¬æœ€é«˜ä¸º JDK 10.0.2ï¼ˆå¯åœ¨å®˜ç½‘æ–‡æ¡£æŸ¥çœ‹ï¼‰</strong>ï¼Œå¦åˆ™ä¼šå‡ºç°é—ªé€€ã€æ— æ³•ä½¿ç”¨ç­‰é—®é¢˜ï¼Œæ‰€ä»¥éœ€è¦ä¿®æ”¹è®¾ç½®è¿›è¡ŒæŒ‡å®šï¼Œä¸‹é¢ä»¥ macOS ä¸ºä¾‹è¿›è¡Œè¯´æ˜ã€‚</p>
<p>é¦–å…ˆï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼ŒæŸ¥çœ‹ jdk çš„å®‰è£…è·¯å¾„ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å› ä¸ºæˆ‘åªå®‰è£…äº† Java1.8 å’Œ Java11 ä¸¤ä¸ªç‰ˆæœ¬ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦æ‰¾ 1.8 çš„è·¯å¾„</span></span><br><span class="line">âœ /usr/libexec/java_home -v 1.8</span><br><span class="line">/Library/Java/JavaVirtualMachines/jdk1.8.0_231.jdk/Contents/Home</span><br></pre></td></tr></table></figure>

<p>å…¶æ¬¡ï¼Œä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€æ–‡ä»¶ <code>/Applications/JD-GUI.app/Contents/MacOS/universalJavaApplicationStub.sh</code>ï¼Œä¿®æ”¹å¦‚ä¸‹éƒ¨åˆ†ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># first check system variable &quot;$JAVA_HOME&quot;</span></span><br><span class="line"><span class="comment"># è¿™é‡Œçš„é…ç½®é»˜è®¤æ‰¾çš„æ˜¯ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­é…ç½®çš„ jdk ç‰ˆæœ¬</span></span><br><span class="line"><span class="comment"># è€Œæˆ‘é…ç½®çš„æ˜¯ Java11ï¼Œæ‰€ä»¥ç›´æ¥è¿è¡Œçš„æ—¶å€™å‡ºç°é—ªé€€è€Œæ— æ³•ä½¿ç”¨</span></span><br><span class="line"><span class="comment"># è¿™é‡Œéœ€è¦ç›´æ¥å†™æ­» 1.8 çš„è·¯å¾„</span></span><br><span class="line"><span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$JAVA_HOME</span>&quot;</span> ] ; <span class="keyword">then</span></span><br><span class="line">	JAVACMD=<span class="string">&quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_231.jdk/Contents/Home/bin/java&quot;</span></span><br></pre></td></tr></table></figure>

<p>ä¿å­˜åï¼Œé‡æ–°æ‰“å¼€ JD-GUI.app å³å¯ã€‚</p>
]]></content>
      <categories>
        <category>å¼€å‘å·¥å…·</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>å¼€å‘å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•ä½¿ç”¨ vscode å¯åŠ¨ã€è°ƒè¯• Node.js é¡¹ç›®</title>
    <url>/post/2445402303.html</url>
    <content><![CDATA[<blockquote>
<p>é€‚ç”¨åœºæ™¯ï¼šä»¥ <code>npm run xxx</code> å¯åŠ¨é¡¹ç›®ï¼Œå¹¶è¿›è¡Œæœ¬åœ°å¼€å‘ï¼›åœ¨éœ€è¦è°ƒè¯•çš„æ—¶å€™æŒ‰ <code>F5</code> æˆ–å•å‡» <code>Debug</code> ç›¸åº”æŒ‰é’®æ‰“å¼€è°ƒè¯•æ¨¡å¼ï¼Œè¿›è¡Œæ–­ç‚¹è°ƒè¯•ã€‚</p>
</blockquote>
<p>æ¶‰åŠ vscode é…ç½®ï¼š</p>
<ul>
<li><code>.vscode/tasks.json</code> å¯åŠ¨</li>
<li><code>.vscode/launch.json</code> è°ƒè¯•</li>
</ul>
<p>å…¶å® <code>launch.json</code> ä¹Ÿä¸€æ ·å¯ä»¥å¯åŠ¨é¡¹ç›®ï¼Œä½†æ˜¯ <code>tasks.json</code> èƒ½å®ç°æ›´å¤šåŠŸèƒ½ï¼Œå¹¶ä¸”å°†å¯åŠ¨ã€è°ƒè¯•åˆ†å¼€ï¼Œä¼šæ›´æ¸…æ™°ã€‚</p>
<span id="more"></span>

<h3 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h3><h4 id="å¯åŠ¨é…ç½®-tasks-json"><a href="#å¯åŠ¨é…ç½®-tasks-json" class="headerlink" title="å¯åŠ¨é…ç½® tasks.json"></a>å¯åŠ¨é…ç½® tasks.json</h4><ul>
<li>1ã€ç›´æ¥è¾“å…¥ <code>command + shift + p</code> è¿›å…¥å‘½ä»¤çª—å£ï¼Œè¾“å…¥ <code>run task</code> å…³é”®å­—ï¼Œç„¶åé€‰æ‹© <code>npm</code>ã€‚</li>
<li>2ã€æ­¤æ—¶ä¼šåˆ—å‡º <code>package.json</code> ä¸­å®šä¹‰çš„ <code>script</code> åç§°ï¼Œå¯ä»¥é€‰æ‹©ä¸€ä¸ªè¿›è¡Œç¼–è¾‘ï¼›æˆ–å•å‡»ä¸€ä¸ªç›´æ¥è¿è¡Œã€‚</li>
</ul>
<p>tasks çš„ä½¿ç”¨è¯´æ˜<a href="https://code.visualstudio.com/docs/editor/tasks">è¯¦è§å®˜æ–¹æ–‡æ¡£</a>ï¼Œä¸‹é¢æ˜¯æˆ‘åœ¨ç”¨çš„ä¸€ä¸ªè‡ªå®šä¹‰ task ç¤ºä¾‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;2.0.0&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;tasks&quot;</span>: [</span><br><span class="line">    <span class="comment">// è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ npm å¯åŠ¨é¡¹ç›®åˆ°ç¤ºä¾‹ï¼ŒæŒ‡å®šè„šæœ¬ dev</span></span><br><span class="line">    <span class="comment">// æ³¨æ„ï¼šè®¾ç½®ä¸åŒ type ç±»å‹æ—¶ï¼Œç›¸åº”çš„å¯ç”¨å‚æ•°æ˜¯è·Ÿéšå˜åŒ–çš„</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;label&quot;</span>: <span class="string">&quot;npm: dev&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;npm&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;script&quot;</span>: <span class="string">&quot;dev&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;problemMatcher&quot;</span>: [],</span><br><span class="line">      <span class="attr">&quot;detail&quot;</span>: <span class="string">&quot;cross-env NODE_ENV=development DEBUG=xx:mysql:client webpack-cli -w --hide-modules --config webpack.dev.js&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;options&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;env&quot;</span>: &#123;</span><br><span class="line">          <span class="attr">&quot;NODE_ENV&quot;</span>: <span class="string">&quot;development&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;DEBUG&quot;</span>: <span class="string">&quot;xx:mysql:client&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// è¿™æ˜¯å¦ä¸€ç§å¯åŠ¨æ–¹å¼</span></span><br><span class="line">    <span class="comment">// 1. ä½¿ç”¨ nvm åˆ‡æ¢åˆ°æŒ‡å®š Node ç‰ˆæœ¬ï¼›2. ç´§æ¥ç€ä½¿ç”¨ npm å¯åŠ¨ï¼›3. é€šè¿‡ options è¿½åŠ é¢å¤–å‚æ•°</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;label&quot;</span>: <span class="string">&quot;start dev&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;shell&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;command&quot;</span>: <span class="string">&quot;source ~/.zshrc &amp;&amp; nvm use 10 &amp;&amp; npm run dev&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;options&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;env&quot;</span>: &#123;</span><br><span class="line">          <span class="attr">&quot;NODE_ENV&quot;</span>: <span class="string">&quot;development&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;DEBUG&quot;</span>: <span class="string">&quot;xx:mysql:*&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é…ç½®å®Œä¹‹åä¿å­˜ï¼Œæ­¤æ—¶åœ¨æ ¹ç›®å½•ä¸‹è‡ªåŠ¨æ·»åŠ  <code>tasks.json</code> æ–‡ä»¶ï¼ˆå¦‚æœæ²¡æœ‰ .vscode ç›®å½•åˆ™å…ˆåˆ›å»ºï¼‰ã€‚</p>
<p>ä½¿ç”¨çš„æ—¶å€™ç›´æ¥è¾“å…¥ <code>command + shift + p</code>ï¼Œç„¶åè¾“å…¥ <code>run tasks</code> å›è½¦ï¼Œé€‰æ‹©æˆ‘ä»¬ä¸Šä¸€æ­¥é…ç½®å¹¶è¿è¡Œè¿‡çš„ä»»åŠ¡ï¼Œå›è½¦å³å¯ï¼Œ</p>
<blockquote>
<p>æç¤ºï¼šåœ¨ vscode ä¸­ï¼Œæœ€è¿‘ä½¿ç”¨è¿‡çš„å‘½ä»¤ä¼šæ’åœ¨æœ€ä¸Šé¢ï¼Œå¯ä»¥<strong>å€ŸåŠ©æ–¹å‘é”®+å›è½¦é”®ä¾¿æ·æ“ä½œ</strong>ã€‚</p>
</blockquote>
<h4 id="è°ƒè¯•é…ç½®-launch-json"><a href="#è°ƒè¯•é…ç½®-launch-json" class="headerlink" title="è°ƒè¯•é…ç½® launch.json"></a>è°ƒè¯•é…ç½® launch.json</h4><p>å•å‡»å·¦ä¾§è¾¹æ çš„è°ƒè¯•å›¾æ ‡ï¼Œåˆ›å»ºä¸€ä¸ªè°ƒè¯•é…ç½®ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;0.2.0&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;configurations&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;debug&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;port&quot;</span>: <span class="number">9230</span>,</span><br><span class="line">      <span class="attr">&quot;request&quot;</span>: <span class="string">&quot;attach&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;skipFiles&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;&lt;node_internals&gt;/**&quot;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;pwa-node&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯ä¸€ä¸ª <code>attach</code> æ–¹å¼çš„è°ƒè¯•é…ç½®ï¼Œé€šè¿‡ç›‘å¬å·²å¯åŠ¨ Node æœåŠ¡å¼€æ”¾çš„è°ƒè¯•ç«¯å£ï¼ˆå¦‚ï¼š9230ï¼‰è¿›è¡Œå·¥ä½œã€‚</p>
<p>è®¾ç½®å¥½ä¹‹åä¿å­˜ï¼Œå°†ç”Ÿæˆ <code>.vscode/launch.json</code> æ–‡ä»¶ã€‚</p>
<p>éœ€è¦ debug æ—¶ï¼Œå…ˆæ‰“å¥½æ–­ç‚¹ï¼Œç„¶åæŒ‰ <code>F5</code> æˆ–å•å‡»ä¾§è¾¹æ çš„è°ƒè¯•å›¾æ ‡ï¼Œæ‰‹åŠ¨å¯åŠ¨å¯¹åº”çš„è°ƒè¯•æœåŠ¡ã€‚</p>
]]></content>
      <categories>
        <category>å¼€å‘å·¥å…·</category>
      </categories>
      <tags>
        <tag>å¼€å‘å·¥å…·</tag>
        <tag>vscode</tag>
        <tag>Node.js</tag>
      </tags>
  </entry>
  <entry>
    <title>å€ŸåŠ© EditorConfig ç»Ÿä¸€ç¼–ç é£æ ¼</title>
    <url>/post/1679410750.html</url>
    <content><![CDATA[<h3 id="æ˜¯ä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h3><p><code>EditorConfig</code> æ˜¯ä¸€ä¸ªæ’ä»¶ï¼Œé€šè¿‡é…ç½®æ–‡ä»¶çš„å½¢å¼ï¼ˆ<code>.editorconfig</code>ï¼‰ï¼Œæœ‰åŠ©äºå¯¹åŒä¸€é¡¹ç›®çš„å¤šä¸ªå¼€å‘äººå‘˜ç»´æŠ¤ä¸€è‡´çš„ç¼–ç æ ·å¼ï¼ŒåŒ…æ‹¬ç¼©è¿›ã€æ¢è¡Œç¬¦ã€æ–‡ä»¶ç¼–ç ç­‰ã€‚</p>
<h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>è¯¥æ’ä»¶åœ¨éƒ¨åˆ†ç¼–è¾‘å™¨ä¸­å·²ç»æ†ç»‘ï¼ˆæ¯”å¦‚ <code>IDEA</code>ã€<code>Pycharm</code>ã€<code>Webstorm</code>ã€<code>Visual Studio</code> ç­‰ï¼‰ï¼Œå…¶å®ƒçš„åˆ™éœ€è¦è‡ªè¡Œå®‰è£…ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€äº›ä¸»æµç¼–è¾‘å™¨çš„å®‰è£…å‚è€ƒï¼Œå…¶å®ƒè¯¦è§å®˜ç½‘ã€‚</p>
<ul>
<li><a href="https://github.com/sindresorhus/editorconfig-sublime#readme">Sublime Text</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig">Visule Studio Code</a></li>
<li><a href="https://github.com/editorconfig/editorconfig-vim#readme">vim</a></li>
<li><a href="https://plugins.jetbrains.com/plugin/7294-editorconfig">PHPStorm</a></li>
<li><a href="https://github.com/sindresorhus/atom-editorconfig#readme">Atom</a></li>
<li><a href="https://github.com/ncjones/editorconfig-eclipse#readme">Eclipse</a></li>
</ul>
<span id="more"></span>

<h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæ–‡ä»¶ <code>.editorconfig</code>ï¼Œæ·»åŠ å¦‚ä¸‹ç¤ºä¾‹é…ç½®ï¼š</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="comment"># editorconfig.org</span></span><br><span class="line"><span class="attr">root</span> = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒ¹é…æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line"><span class="section">[*]</span></span><br><span class="line"><span class="comment"># ç¼©è¿›æ ¼å¼ï¼Œspace æˆ– tab</span></span><br><span class="line"><span class="attr">indent_style</span> = space</span><br><span class="line"><span class="comment"># ç¼©è¿›å¤§å°</span></span><br><span class="line"><span class="attr">indent_size</span> = <span class="number">2</span></span><br><span class="line"><span class="comment"># å½“ä½¿ç”¨ tab ç¼©è¿›æ—¶çš„å¤§å°</span></span><br><span class="line"><span class="comment">#tab_width = 2</span></span><br><span class="line"><span class="comment"># æ¢è¡Œç¬¦ï¼Œå¯é€‰ lfã€crã€crlf</span></span><br><span class="line"><span class="attr">end_of_line</span> = lf</span><br><span class="line"><span class="comment"># æ–‡ä»¶é»˜è®¤å­—ç¬¦é›†</span></span><br><span class="line"><span class="attr">charset</span> = utf-<span class="number">8</span></span><br><span class="line"><span class="comment"># æ¸…é™¤è¡Œå°¾ç©ºæ ¼</span></span><br><span class="line"><span class="attr">trim_trailing_whitespace</span> = <span class="literal">true</span></span><br><span class="line"><span class="comment"># åœ¨ä¿å­˜æ—¶ï¼Œæ–‡ä»¶åº•éƒ¨ä¿ç•™ä¸€ä¸ªç©ºè¡Œ</span></span><br><span class="line"><span class="attr">insert_final_newline</span> = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒ¹é…ä»¥ .md ç»“å°¾çš„æ–‡ä»¶</span></span><br><span class="line"><span class="section">[*.md]</span></span><br><span class="line"><span class="attr">trim_trailing_whitespace</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒ¹é…ä»¥ .phpã€.pyã€.java ç»“å°¾çš„æ–‡ä»¶</span></span><br><span class="line"><span class="section">[*.&#123;php,py,java&#125;]</span></span><br><span class="line"><span class="attr">indent_size</span> = <span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="section">[Makefile]</span></span><br><span class="line"><span class="attr">indent_style</span> = tab</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼š</p>
<table>
<thead>
<tr>
<th>é€šé…ç¬¦</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>åŒ¹é…é™¤è·¯å¾„åˆ†éš”ç¬¦ï¼ˆ/ï¼‰ä¹‹å¤–çš„ä»»ä½•å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>**</td>
<td>åŒ¹é…ä»»ä½•å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>?</td>
<td>åŒ¹é…ä»»ä½•å•ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td>[name]</td>
<td>åŒ¹é…åç§°ä¸­çš„ä»»ä½•å•ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td>[!name]</td>
<td>åŒ¹é…ä»»ä½•ä¸åœ¨åç§°ä¸­çš„å•ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td>{s1,s2,s3}</td>
<td>åŒ¹é…ç»™å®šçš„ä»»ä½•å­—ç¬¦ä¸²ï¼ˆä»¥é€—å·åˆ†éš”ï¼‰</td>
</tr>
<tr>
<td>{num1..num2}</td>
<td>åŒ¹é…num1å’Œnum2ä¹‹é—´çš„ä»»ä½•æ•´æ•°ï¼Œå…¶ä¸­num1å’Œnum2å¯ä»¥æ˜¯æ­£æ•°æˆ–è´Ÿæ•°</td>
</tr>
</tbody></table>
<p>æ›´å¤šè¯¦ç»†åŠŸèƒ½ï¼Œå‚è§å®˜ç½‘ <a href="https://editorconfig.org/">https://editorconfig.org/</a>ã€‚</p>
]]></content>
      <categories>
        <category>å¼€å‘å·¥å…·</category>
      </categories>
      <tags>
        <tag>å¼€å‘å·¥å…·</tag>
        <tag>EditorConfig</tag>
      </tags>
  </entry>
  <entry>
    <title>æ›¿æ¢å›½å†…é•œåƒæºè®© Homebrew èµ·é£</title>
    <url>/post/3431125306.html</url>
    <content><![CDATA[<blockquote>
<p>æ¨èç›´æ¥ä½¿ç”¨ä¸€é”®åˆ‡æ¢è„šæœ¬ï¼š<a href="/post/1031793596.html">ä¸€é”®åˆ‡æ¢brewå›½å†…é•œåƒæº</a></p>
</blockquote>
<h3 id="1-åŸºæœ¬é•œåƒ-formula"><a href="#1-åŸºæœ¬é•œåƒ-formula" class="headerlink" title="1. åŸºæœ¬é•œåƒ formula"></a>1. åŸºæœ¬é•œåƒ formula</h3><h4 id="1-1-æ›¿æ¢"><a href="#1-1-æ›¿æ¢" class="headerlink" title="1.1. æ›¿æ¢"></a>1.1. æ›¿æ¢</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å‚è§å®˜ç½‘ï¼šhttps://mirror.tuna.tsinghua.edu.cn/help/homebrew</span></span><br><span class="line">âœ  git -C <span class="string">&quot;<span class="subst">$(brew --repo)</span>&quot;</span> remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git</span><br><span class="line">âœ  git -C <span class="string">&quot;<span class="subst">$(brew --repo homebrew/core)</span>&quot;</span> remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git</span><br><span class="line">âœ  git -C <span class="string">&quot;<span class="subst">$(brew --repo homebrew/cask)</span>&quot;</span> remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-cask.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–°</span></span><br><span class="line">âœ  brew update</span><br></pre></td></tr></table></figure>

<h4 id="1-2-è¿˜åŸ"><a href="#1-2-è¿˜åŸ" class="headerlink" title="1.2. è¿˜åŸ"></a>1.2. è¿˜åŸ</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  git -C <span class="string">&quot;<span class="subst">$(brew --repo)</span>&quot;</span> remote set-url origin https://github.com/Homebrew/brew.git</span><br><span class="line">âœ  git -C <span class="string">&quot;<span class="subst">$(brew --repo homebrew/core)</span>&quot;</span> remote set-url origin https://github.com/Homebrew/homebrew-core.git</span><br><span class="line">âœ  git -C <span class="string">&quot;<span class="subst">$(brew --repo homebrew/cask)</span>&quot;</span> remote set-url origin https://github.com/Homebrew/homebrew-cask.git</span><br><span class="line"></span><br><span class="line">âœ  brew update</span><br></pre></td></tr></table></figure>

<h3 id="2-äºŒè¿›åˆ¶é¢„ç¼–è¯‘åŒ…-bottles"><a href="#2-äºŒè¿›åˆ¶é¢„ç¼–è¯‘åŒ…-bottles" class="headerlink" title="2. äºŒè¿›åˆ¶é¢„ç¼–è¯‘åŒ… bottles"></a>2. äºŒè¿›åˆ¶é¢„ç¼–è¯‘åŒ… bottles</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å‚è§å®˜ç½‘ï¼šhttps://mirrors.tuna.tsinghua.edu.cn/help/homebrew-bottles</span></span><br><span class="line"><span class="comment"># å¦‚æœä½ ä½¿ç”¨çš„ä¸æ˜¯ zshï¼Œåˆ™æ›¿æ¢ .zshrc ä¸º .bash_profile æˆ–å¯¹åº”çš„æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles&#x27;</span> &gt;&gt; ~/.zshrc</span><br><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>å¼€å‘å·¥å…·</category>
      </categories>
      <tags>
        <tag>macOS</tag>
        <tag>å¼€å‘å·¥å…·</tag>
        <tag>Homebrew</tag>
        <tag>brew</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•ä½¿ç”¨ vscode å¯¹åŸºäº Docker çš„ PHP è¿›è¡Œæ–­ç‚¹è°ƒè¯•</title>
    <url>/post/567149842.html</url>
    <content><![CDATA[<h3 id="1-Visual-Studio-Code"><a href="#1-Visual-Studio-Code" class="headerlink" title="1. Visual Studio Code"></a>1. Visual Studio Code</h3><h4 id="1-1-å®‰è£…ä¸»ç¨‹åº"><a href="#1-1-å®‰è£…ä¸»ç¨‹åº" class="headerlink" title="1.1. å®‰è£…ä¸»ç¨‹åº"></a>1.1. å®‰è£…ä¸»ç¨‹åº</h4><ul>
<li><p><a href="https://code.visualstudio.com/#alt-downloadshttps://code.visualstudio.com">å®˜æ–¹ç¨³å®šç‰ˆä¸‹è½½ï¼Œç‚¹å‡»è¿™é‡Œ</a>ï¼Œæ”¯æŒä»¥ä¸‹ç³»ç»Ÿï¼š</p>
<ul>
<li>macOS</li>
<li>Linux</li>
<li>Windows</li>
</ul>
</li>
</ul>
<span id="more"></span>

<h4 id="1-2-å®‰è£…æ‰©å±•ï¼šPHP-Debug"><a href="#1-2-å®‰è£…æ‰©å±•ï¼šPHP-Debug" class="headerlink" title="1.2. å®‰è£…æ‰©å±•ï¼šPHP Debug"></a>1.2. å®‰è£…æ‰©å±•ï¼šPHP Debug</h4><h5 id="1-2-1-å®‰è£…"><a href="#1-2-1-å®‰è£…" class="headerlink" title="1.2.1. å®‰è£…"></a>1.2.1. å®‰è£…</h5><p>æŒ‰å¿«æ·é”® <code>cmd + p</code> æˆ– <code>ctrl + p</code>ï¼Œç„¶åè¾“å…¥ <code>ext install php debug</code></p>
<p>æ³¨æ„ï¼šå®‰è£…å®Œæˆåå¿…é¡»é‡å¯ vscodeã€‚</p>
<h5 id="1-2-2-é…ç½®"><a href="#1-2-2-é…ç½®" class="headerlink" title="1.2.2. é…ç½®"></a>1.2.2. é…ç½®</h5><p>æ‰“å¼€ä¸€ä¸ª PHP é¡¹ç›®ï¼Œç‚¹å‡»èœå• <strong>Debug &gt; Add Configuration</strong>ï¼Œæˆ–æŒ‰ç…§ä¸‹å›¾æ“ä½œï¼š</p>
<p><img data-src="https://static.sqiang.net/image/post/vscode_php_xdebug1.png"></p>
<p>è¯¦ç»†é…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Use IntelliSense to learn about possible attributes.</span></span><br><span class="line">    <span class="comment">// Hover to view descriptions of existing attributes.</span></span><br><span class="line">    <span class="comment">// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;0.2.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Listen for XDebug&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;php&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;request&quot;</span>: <span class="string">&quot;launch&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;port&quot;</span>: <span class="number">9001</span>, <span class="comment">// å¯¹åº” XDebug çš„é…ç½®</span></span><br><span class="line">            <span class="attr">&quot;stopOnEntry&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">&quot;pathMappings&quot;</span>: &#123;</span><br><span class="line">                <span class="comment">// &quot;å®¹å™¨ä¸­å¯¹åº”çš„é¡¹ç›®åœ°å€&quot;: &quot;æœ¬æœºé¡¹ç›®åœ°å€&quot;</span></span><br><span class="line">                <span class="comment">// ç»å¯¹è·¯å¾„</span></span><br><span class="line">                <span class="attr">&quot;/var/www/html/test/&quot;</span>: <span class="string">&quot;$&#123;workspaceRoot&#125;&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Launch currently open script&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;php&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;request&quot;</span>: <span class="string">&quot;launch&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;program&quot;</span>: <span class="string">&quot;$&#123;file&#125;&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;cwd&quot;</span>: <span class="string">&quot;$&#123;fileDirname&#125;&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;port&quot;</span>: <span class="number">9001</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é…ç½®æˆåŠŸåï¼Œåœ¨é¡¹ç›®ä¸‹ä¼šç”Ÿæˆä¸€ä¸ªåŒ…å«è¯¥é…ç½®çš„ç›®å½•ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ .vscode</span><br><span class="line">â”‚   â”œâ”€â”€ launch.json</span><br><span class="line">â”œâ”€â”€ å…¶å®ƒé¡¹ç›®æ–‡ä»¶</span><br></pre></td></tr></table></figure>

<h3 id="2-Docker-ä¸‹çš„-PHP-ç¯å¢ƒ"><a href="#2-Docker-ä¸‹çš„-PHP-ç¯å¢ƒ" class="headerlink" title="2. Docker ä¸‹çš„ PHP ç¯å¢ƒ"></a>2. Docker ä¸‹çš„ PHP ç¯å¢ƒ</h3><blockquote>
<p>æç¤ºï¼šæ¨èç›´æ¥å…‹éš†æˆ‘ä¹‹å‰å°è£…çš„ä¸€ä¸ªåŸºäº Docker çš„ <a href="https://github.com/whorusq/lnmp-docker">LNMP ç¯å¢ƒ</a>ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ç”¨ä½¿ç”¨ä½ è‡ªå·±çš„ Docker PHP ç¯å¢ƒï¼Œå¹¶æ ¹æ®å…·ä½“ç¯å¢ƒå¯¹ç›¸å…³å†…å®¹è¿›è¡Œè°ƒæ•´ã€‚</p>
</blockquote>
<h4 id="2-1-å®‰è£…ã€é…ç½®-XDebug-æ‰©å±•"><a href="#2-1-å®‰è£…ã€é…ç½®-XDebug-æ‰©å±•" class="headerlink" title="2.1. å®‰è£…ã€é…ç½® XDebug æ‰©å±•"></a>2.1. å®‰è£…ã€é…ç½® XDebug æ‰©å±•</h4><ul>
<li><p>ä¿®æ”¹ Dockerfile æ–‡ä»¶ï¼Œå®‰è£… XDebug</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">&amp;&amp; mkdir -p /tmp/xdebug \</span><br><span class="line">&amp;&amp; wget -c https://github.com/xdebug/xdebug/archive/2.6.0.tar.gz \</span><br><span class="line">&amp;&amp; tar -xf 2.6.0.tar.gz -C /tmp/xdebug --strip-components=1 \</span><br><span class="line">&amp;&amp; docker-php-ext-configure /tmp/xdebug --enable-xdebug \</span><br><span class="line">&amp;&amp; docker-php-ext-install /tmp/xdebug \</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>  ä¿®æ”¹åï¼Œéœ€è¦é‡æ–°ç¼–è¯‘å¯¹åº”çš„é•œåƒæ–‡ä»¶ï¼Œæ›´å¤šå®‰è£…æ‰©å±•çš„æ–¹å¼è¯·å‚è€ƒï¼š<a href="90967283.html">Docker ä¸­çš„ PHP å¦‚ä½•å®‰è£…æ‰©å±•</a></p>
</li>
<li><p>é…ç½® XDebug</p>
<p>  åœ¨ php.ini æ–‡ä»¶è¿½åŠ ä»¥ä¸‹é…ç½®</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[XDebug]</span><br><span class="line">zend_extension = xdebug.so</span><br><span class="line">xdebug.remote_enable = 1</span><br><span class="line">xdebug.remote_handler = dbgp</span><br><span class="line">xdebug.remote_port = 9001</span><br><span class="line">xdebug.remote_autostart = 1</span><br><span class="line">xdebug.remote_connect_back = 0</span><br><span class="line">xdebug.idekey = docker</span><br><span class="line">xdebug.remote_host = 192.168.2.14</span><br></pre></td></tr></table></figure>

<p>  è¯´æ˜ï¼š</p>
<ul>
<li><code>remote_port</code> é»˜è®¤ <code>9000</code>ï¼Œä¸ºé¿å…å†²çªï¼Œå»ºè®®æ”¹ä¸º <code>9001</code></li>
<li><code>remote_host</code> æ˜¯å®¿ä¸»æœºçš„ ip åœ°å€</li>
</ul>
</li>
</ul>
<h4 id="2-2-è°ƒæ•´-Nginx-server-é…ç½®"><a href="#2-2-è°ƒæ•´-Nginx-server-é…ç½®" class="headerlink" title="2.2.  è°ƒæ•´ Nginx server é…ç½®"></a>2.2.  è°ƒæ•´ Nginx server é…ç½®</h4><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> my.test; <span class="comment"># è¿™é‡Œæ›¿æ¢ä½ çš„åŸŸå</span></span><br><span class="line">    <span class="attribute">index</span> index.html index.htm index.php;</span><br><span class="line">    <span class="attribute">root</span> /usr/share/nginx/html/test;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="attribute">location</span> <span class="regexp">~ .*\.(php|php5)?$</span> &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://php_apache:8091; <span class="comment"># è¿™é‡Œæ˜¯å¯¹åº”çš„ apache å®¹å™¨åœ°å€å’Œç«¯å£</span></span><br><span class="line">        <span class="attribute">proxy_read_timeout</span> <span class="number">300</span>;</span><br><span class="line">        <span class="attribute">proxy_send_timeout</span> <span class="number">300</span>;</span><br><span class="line">        <span class="attribute">index</span> index.php;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host $host;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP $remote_addr;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸»è¦è¿½åŠ ä»¥ä¸‹ä¸¤ä¸ªå‚æ•°ï¼Œç”¨ä»¥è§£å†³åœ¨ debug æ—¶ 504 è¶…æ—¶é—®é¢˜ï¼Œå…·ä½“æ•°å€¼å¯æ ¹æ®éœ€è¦è®¾ç½®ã€‚</p>
<ul>
<li><code>proxy_read_timeout</code></li>
<li><code>proxy_send_timeout</code></li>
</ul>
<h4 id="2-3-æš´éœ²-XDebug-é€šä¿¡æ¥å£"><a href="#2-3-æš´éœ²-XDebug-é€šä¿¡æ¥å£" class="headerlink" title="2.3. æš´éœ² XDebug é€šä¿¡æ¥å£"></a>2.3. æš´éœ² XDebug é€šä¿¡æ¥å£</h4><p>ä¿®æ”¹ <code>docker-compose.yml</code> æ–‡ä»¶ï¼Œåœ¨ nginx æœåŠ¡ä¸‹é€šè¿‡ <code>expose</code> æš´éœ² <strong>9001</strong> ç«¯å£</p>
<p>ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤é‡æ–°å¯åŠ¨æœåŠ¡</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  docker-compose stop</span><br><span class="line">âœ  docker-compose down</span><br><span class="line">âœ  docker-compose up -d</span><br></pre></td></tr></table></figure>

<h3 id="3-æµ‹è¯•æ–­ç‚¹è°ƒè¯•"><a href="#3-æµ‹è¯•æ–­ç‚¹è°ƒè¯•" class="headerlink" title="3. æµ‹è¯•æ–­ç‚¹è°ƒè¯•"></a>3. æµ‹è¯•æ–­ç‚¹è°ƒè¯•</h3><p>æŒ‰å¿«æ·é”® <code>F5</code> æ‰“å¼€æ–­ç‚¹ï¼Œæ­¤æ—¶åœ¨æµè§ˆå™¨ä¸­è®¿é—®ç½‘é¡µï¼Œå°†è·³è½¬åˆ° vscode ç¼–è¾‘å™¨ï¼Œå¹¶ä¸”æ ·å¼å¦‚ä¸‹ï¼š</p>
<p><img data-src="https://static.sqiang.net/image/post/vscode_php_xdebug2.png"></p>
<p>è¯´æ˜ï¼šä¸Šå›¾æ˜¯ä¸€ä¸ª TP é¡¹ç›®ï¼Œè™½ç„¶æ²¡æœ‰æ‰‹åŠ¨è®¾ç½®æ–­ç‚¹ï¼Œä½†æ˜¯å¼€å¯è°ƒè¯•æ¨¡å¼åï¼Œè®¿é—®ç½‘é¡µä¼šé¦–å…ˆè¿›å…¥æ ¹ç›®å½•ä¸‹çš„æ¡†æ¶å…¥å£æ–‡ä»¶ã€‚</p>
]]></content>
      <categories>
        <category>å¼€å‘å·¥å…·</category>
      </categories>
      <tags>
        <tag>PHP</tag>
        <tag>å¼€å‘å·¥å…·</tag>
        <tag>vscode</tag>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>å¼¹çª—æç¤ºã€ŒWindowsè¦æ±‚å·²æ•°å­—ç­¾åçš„é©±åŠ¨ç¨‹åºã€æ€ä¹ˆåŠ</title>
    <url>/post/1732007690.html</url>
    <content><![CDATA[<p>æœ€è¿‘ä¹°äº†ä¸ªé›·è›‡çš„é¼ æ ‡ï¼Œ<code>Windows 7</code> ç³»ç»Ÿä¸‹é€šè¿‡é›·äº‘å®‰è£…é©±åŠ¨çš„æ—¶å€™ï¼Œå¼¹çª—æç¤ºã€Œ<strong>Windowsè¦æ±‚å·²æ•°å­—ç­¾åçš„é©±åŠ¨ç¨‹åº</strong>ã€ï¼Œé”™è¯¯çª—å£è¯¦ç»†ä¿¡æ¯çš„å¤§æ„æ˜¯ä¸€ä¸ªé©±åŠ¨æ–‡ä»¶æ— æ³•é€šè¿‡ç³»ç»Ÿçš„æ•°å­—ç­¾åï¼Œæ— æ³•å®‰è£…ï¼Œå¯¼è‡´è®¾å¤‡å¯èƒ½æ— æ³•æ­£å¸¸ä½¿ç”¨ã€‚</p>
<p>è¿™å…¶å®æ˜¯ç³»ç»Ÿçš„ä¸€ä¸ªå®‰å…¨è­¦å‘Šï¼Œå¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤å…³é—­ç³»ç»Ÿçš„æ•°å­—ç­¾åè®¤è¯ï¼š</p>
<figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">bcdedit.exe -<span class="built_in">set</span> loadoptions DDISABLE_INTEGRITY_CHECKS</span><br></pre></td></tr></table></figure>

<p>é‡å¯ç³»ç»Ÿï¼Œç„¶åé‡æ–°å®‰è£…å‡ºé”™çš„ç¨‹åºå°±å¯ä»¥äº†ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šå¦‚æœè¿˜æ˜¯ä¸è¡Œçš„è¯ï¼Œåˆ™å®‰è£…ä»¥ä¸‹å®˜æ–¹è¡¥ä¸ç¨‹åºï¼š</p>
<p>Windows 7 32bitï¼š<a href="https://www.microsoft.com/zh-CN/download/details.aspx?id=46078">https://www.microsoft.com/zh-CN/download/details.aspx?id=46078</a></p>
<p>Windows 7 64bitï¼š<a href="https://www.microsoft.com/zh-CN/download/details.aspx?id=46148">https://www.microsoft.com/zh-CN/download/details.aspx?id=46148
</a></p>
]]></content>
      <categories>
        <category>ç³»ç»Ÿå’Œè½¯ä»¶</category>
      </categories>
      <tags>
        <tag>ç³»ç»Ÿå’Œè½¯ä»¶</tag>
        <tag>æ•°å­—ç­¾å</tag>
      </tags>
  </entry>
  <entry>
    <title>Chrome æµè§ˆå™¨æœ€æ–°ç¨³å®šç‰ˆå®Œæ•´ç¦»çº¿å®‰è£…åŒ…ä¸‹è½½</title>
    <url>/post/2159656190.html</url>
    <content><![CDATA[<blockquote>
<p>å½“å‰æœ€æ–°ç¨³å®šç‰ˆæœ¬ï¼š<strong>Version 95.0.4638.69 (Official Build)</strong></p>
</blockquote>
<h3 id="è°·æ­Œå®˜ç½‘ç›´æ¥ä¸‹è½½åœ°å€"><a href="#è°·æ­Œå®˜ç½‘ç›´æ¥ä¸‹è½½åœ°å€" class="headerlink" title="è°·æ­Œå®˜ç½‘ç›´æ¥ä¸‹è½½åœ°å€"></a>è°·æ­Œå®˜ç½‘ç›´æ¥ä¸‹è½½åœ°å€</h3><p><strong>æ³¨æ„</strong>ï¼šéœ€è¦ç§‘å­¦ä¸Šç½‘ï¼æ— æ³•ç§‘å­¦ä¸Šç½‘çš„ï¼Œè¯·ä½¿ç”¨åé¢çš„ç½‘ç›˜å¤‡ä»½åœ°å€ã€‚</p>
<ul>
<li><a href="https://dl.google.com/tag/s/appguid%3D%7B8A69D345-D564-463C-AFF1-A69D9E530F96%7D%26iid%3D%7BBABABE6F-A3B2-8FF1-24AD-5C9064C7E130%7D%26lang%3Dzh-CN%26browser%3D4%26usagestats%3D0%26appname%3DGoogle%2520Chrome%26needsadmin%3Dprefers%26ap%3Dstable-arch_x86-statsdef_1%26installdataindex%3Dempty/chrome/install/ChromeStandaloneSetup.exe">Windows 32ä½</a></li>
<li><a href="https://dl.google.com/tag/s/appguid%3D%7B8A69D345-D564-463C-AFF1-A69D9E530F96%7D%26iid%3D%7BBABABE6F-A3B2-8FF1-24AD-5C9064C7E130%7D%26lang%3Dzh-CN%26browser%3D4%26usagestats%3D0%26appname%3DGoogle%2520Chrome%26needsadmin%3Dprefers%26ap%3Dx64-stable-statsdef_1%26installdataindex%3Dempty/chrome/install/ChromeStandaloneSetup64.exe">Windows 64ä½</a></li>
<li><a href="https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb">Linux ï¼ˆ.debï¼‰</a></li>
<li><a href="https://dl.google.com/linux/direct/google-chrome-stable_current_x86_64.rpm">Linux ï¼ˆ.rpmï¼‰</a></li>
<li><a href="https://dl.google.com/chrome/mac/stable/GGRO/googlechrome.dmg">macOSï¼ˆ.dmgï¼‰</a></li>
</ul>
<h3 id="å¤‡ä»½ä¸‹è½½åœ°å€"><a href="#å¤‡ä»½ä¸‹è½½åœ°å€" class="headerlink" title="å¤‡ä»½ä¸‹è½½åœ°å€"></a>å¤‡ä»½ä¸‹è½½åœ°å€</h3><ul>
<li>ç™¾åº¦ç½‘ç›˜ï¼ˆå«æœ€æ–°åŠéƒ¨åˆ†å†å²ç‰ˆæœ¬ï¼‰ï¼š<a href="https://pan.baidu.com/s/195fycw8BEK4B1xhi4ig1Sg">https://pan.baidu.com/s/195fycw8BEK4B1xhi4ig1Sg</a> å¯†ç : <code>oig4</code></li>
<li>é˜¿é‡Œäº‘ç›˜ï¼ˆåªæœ‰æœ€æ–°ç‰ˆï¼‰ï¼š<a href="https://www.aliyundrive.com/s/tQDPe57hBPx">https://www.aliyundrive.com/s/tQDPe57hBPx</a></li>
</ul>
]]></content>
      <categories>
        <category>ç³»ç»Ÿå’Œè½¯ä»¶</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>macOS</tag>
        <tag>ç³»ç»Ÿå’Œè½¯ä»¶</tag>
        <tag>Google Chrome</tag>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker ä¸­çš„ PHP å¦‚ä½•å®‰è£…æ‰©å±•</title>
    <url>/post/90967283.html</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡ä¸»è¦ä»‹ç»åœ¨ Docker ä¸­ä¸‰ç±»æ‰©å±•çš„å®‰è£…æ–¹å¼ï¼ŒåŒ…æ‹¬æ ¸å¿ƒæ‰©å±•ã€PECLæ‰©å±•ã€å…¶å®ƒæ‰©å±•ã€‚</p>
</blockquote>
<span id="more"></span>

<h3 id="1-PHP-æºç "><a href="#1-PHP-æºç " class="headerlink" title="1. PHP æºç "></a>1. PHP æºç </h3><p>ä¸ºäº†ä¿è¯ Docker é•œåƒå°½é‡å°ï¼ŒPHP çš„æºæ–‡ä»¶æ˜¯ä»¥å‹ç¼©åŒ…çš„å½¢å¼å­˜åœ¨é•œåƒä¸­ï¼Œå®˜æ–¹æä¾›äº† <code>docker-php-source</code> å¿«æ·è„šæœ¬ï¼Œç”¨äºå¯¹æºæ–‡ä»¶å‹ç¼©åŒ…çš„è§£å‹ï¼ˆextractï¼‰åŠè§£å‹åçš„æ–‡ä»¶è¿›è¡Œåˆ é™¤ï¼ˆdeleteï¼‰çš„æ“ä½œã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FROM</span> php:<span class="number">7.1</span>-apache</span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> docker-php-source extract \</span></span><br><span class="line"><span class="bash">    <span class="comment"># æ­¤å¤„å¼€å§‹æ‰§è¡Œä½ éœ€è¦çš„æ“ä½œ \</span></span></span><br><span class="line"><span class="bash">    &amp;&amp; docker-php-source delete</span></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼šä¸€å®šè¦è®°å¾—åˆ é™¤ï¼Œå¦åˆ™è§£å‹å‡ºæ¥çš„æ–‡ä»¶ä¼šå¤§å¤§å¢åŠ é•œåƒçš„æ–‡ä»¶å¤§å°ã€‚</strong></p>
<h3 id="2-å®‰è£…æ‰©å±•"><a href="#2-å®‰è£…æ‰©å±•" class="headerlink" title="2. å®‰è£…æ‰©å±•"></a>2. å®‰è£…æ‰©å±•</h3><h4 id="2-1-æ ¸å¿ƒæ‰©å±•"><a href="#2-1-æ ¸å¿ƒæ‰©å±•" class="headerlink" title="2.1. æ ¸å¿ƒæ‰©å±•"></a>2.1. æ ¸å¿ƒæ‰©å±•</h4><p>è¿™é‡Œä¸»è¦ç”¨åˆ°çš„æ˜¯å®˜æ–¹æä¾›çš„ <code>docker-php-ext-configure</code> å’Œ <code>docker-php-ext-install</code> å¿«æ·è„šæœ¬ï¼Œå¦‚ä¸‹</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FROM</span> php:<span class="number">7.1</span>-fpm</span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> apt-get update \</span></span><br><span class="line"><span class="bash">	<span class="comment"># ç›¸å…³ä¾èµ–å¿…é¡»æ‰‹åŠ¨å®‰è£…</span></span></span><br><span class="line">	&amp;&amp; apt-get install -y \</span><br><span class="line">        libfreetype6-dev \</span><br><span class="line">        libjpeg62-turbo-dev \</span><br><span class="line">        libmcrypt-dev \</span><br><span class="line">        libpng-dev \</span><br><span class="line">    <span class="comment"># å®‰è£…æ‰©å±•</span></span><br><span class="line">    &amp;&amp; docker-php-ext-install -j$(nproc) iconv mcrypt \</span><br><span class="line">    <span class="comment"># å¦‚æœå®‰è£…çš„æ‰©å±•éœ€è¦è‡ªå®šä¹‰é…ç½®æ—¶</span></span><br><span class="line">    &amp;&amp; docker-php-ext-configure gd --with-freetype-dir=/usr/include/ --with-jpeg-dir=/usr/include/ \</span><br><span class="line">    &amp;&amp; docker-php-ext-install -j$(nproc) gd</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„</strong>ï¼šè¿™é‡Œçš„ <code>docker-php-ext-configure</code> å’Œ <code>docker-php-ext-install</code> å·²ç»åŒ…å«äº† <code>docker-php-source</code> çš„æ“ä½œï¼Œæ‰€æœ‰ä¸éœ€è¦å†æ‰‹åŠ¨å»æ‰§è¡Œã€‚</p>
<h4 id="2-2-PECL-æ‰©å±•"><a href="#2-2-PECL-æ‰©å±•" class="headerlink" title="2.2. PECL æ‰©å±•"></a>2.2. PECL æ‰©å±•</h4><p>å› ä¸ºä¸€äº›æ‰©å±•å¹¶ä¸åŒ…å«åœ¨ PHP æºç æ–‡ä»¶ä¸­ï¼Œæ‰€æœ‰éœ€è¦ä½¿ç”¨ <a href="https://secure.php.net/manual/zh/install.pecl.intro.php">PECL</a>ï¼ˆPHP çš„æ‰©å±•åº“ä»“åº“ï¼Œé€šè¿‡ <a href="http://pear.php.net/">PEAR</a> æ‰“åŒ…ï¼‰ã€‚ç”¨ <code>pecl install</code> å®‰è£…æ‰©å±•ï¼Œç„¶åå†ç”¨å®˜æ–¹æä¾›çš„ <code>docker-php-ext-enable</code> å¿«æ·è„šæœ¬æ¥å¯ç”¨æ‰©å±•ï¼Œå¦‚ä¸‹ç¤ºä¾‹</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FROM</span> php:<span class="number">7.1</span>-fpm</span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> apt-get update \</span></span><br><span class="line"><span class="bash">	<span class="comment"># æ‰‹åŠ¨å®‰è£…ä¾èµ–</span></span></span><br><span class="line">	&amp;&amp; apt-get install -y libmemcached-dev zlib1g-dev \</span><br><span class="line">	<span class="comment"># å®‰è£…éœ€è¦çš„æ‰©å±•</span></span><br><span class="line">   &amp;&amp; pecl install memcached-<span class="number">2.2</span>.<span class="number">0</span> \</span><br><span class="line">   <span class="comment"># å¯ç”¨æ‰©å±•</span></span><br><span class="line">   &amp;&amp; docker-php-ext-enable memcached</span><br></pre></td></tr></table></figure>

<h4 id="2-3-å…¶å®ƒæ‰©å±•"><a href="#2-3-å…¶å®ƒæ‰©å±•" class="headerlink" title="2.3. å…¶å®ƒæ‰©å±•"></a>2.3. å…¶å®ƒæ‰©å±•</h4><p>ä¸€äº›æ—¢ä¸åœ¨ PHP æºç åŒ…ï¼Œä¹Ÿä¸å† PECL æ‰©å±•ä»“åº“ä¸­çš„æ‰©å±•ï¼Œå¯ä»¥é€šè¿‡ä¸‹è½½æ‰©å±•ç¨‹åºæºç ï¼Œç¼–è¯‘å®‰è£…çš„æ–¹å¼å®‰è£…ï¼Œå¦‚ä¸‹ç¤ºä¾‹ï¼š</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FROM</span> php:<span class="number">5.6</span>-apache</span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> curl -fsSL <span class="string">&#x27;https://xcache.lighttpd.net/pub/Releases/3.2.0/xcache-3.2.0.tar.gz&#x27;</span> -o xcache.tar.gz \</span></span><br><span class="line"><span class="bash">    &amp;&amp; mkdir -p xcache \</span></span><br><span class="line"><span class="bash">    &amp;&amp; tar -xf xcache.tar.gz -C xcache --strip-components=1 \</span></span><br><span class="line"><span class="bash">    &amp;&amp; rm xcache.tar.gz \</span></span><br><span class="line"><span class="bash">    &amp;&amp; ( \</span></span><br><span class="line"><span class="bash">        <span class="built_in">cd</span> xcache \</span></span><br><span class="line"><span class="bash">        &amp;&amp; phpize \</span></span><br><span class="line"><span class="bash">        &amp;&amp; ./configure --enable-xcache \</span></span><br><span class="line"><span class="bash">        &amp;&amp; make -j$(nproc) \</span></span><br><span class="line"><span class="bash">        &amp;&amp; make install \</span></span><br><span class="line"><span class="bash">    ) \</span></span><br><span class="line"><span class="bash">    &amp;&amp; rm -r xcache \</span></span><br><span class="line"><span class="bash">    &amp;&amp; docker-php-ext-enable xcache</span></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„</strong>ï¼šå®˜æ–¹æä¾›çš„ <code>docker-php-ext-*</code> è„šæœ¬æ¥å—ä»»æ„çš„ç»å¯¹è·¯å¾„ï¼ˆä¸æ”¯æŒç›¸å¯¹è·¯å¾„ï¼Œä»¥ä¾¿ä¸ç³»ç»Ÿå†…ç½®çš„æ‰©å±•ç¨‹åºè¿›è¡ŒåŒºåˆ†ï¼‰ï¼Œæ‰€ä»¥ï¼Œä¸Šé¢çš„ä¾‹å­ä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FROM</span> php:<span class="number">5.6</span>-apache</span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> curl -fsSL <span class="string">&#x27;https://xcache.lighttpd.net/pub/Releases/3.2.0/xcache-3.2.0.tar.gz&#x27;</span> -o xcache.tar.gz \</span></span><br><span class="line"><span class="bash">    &amp;&amp; mkdir -p /tmp/xcache \</span></span><br><span class="line"><span class="bash">    &amp;&amp; tar -xf xcache.tar.gz -C /tmp/xcache --strip-components=1 \</span></span><br><span class="line"><span class="bash">    &amp;&amp; rm xcache.tar.gz \</span></span><br><span class="line"><span class="bash">    &amp;&amp; docker-php-ext-configure /tmp/xcache --enable-xcache \</span></span><br><span class="line"><span class="bash">    &amp;&amp; docker-php-ext-install /tmp/xcache \</span></span><br><span class="line"><span class="bash">    &amp;&amp; rm -r /tmp/xcache</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>PHP</tag>
        <tag>Docker</tag>
        <tag>PECL</tag>
        <tag>PEAR</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker å®‰è£…åŠåŸºç¡€å…¥é—¨</title>
    <url>/post/2495096853.html</url>
    <content><![CDATA[<blockquote>
<p><strong>Docker</strong> æ˜¯ä¸€æ¬¾é’ˆå¯¹ç¨‹åºå¼€å‘äººå‘˜å’Œç³»ç»Ÿç®¡ç†å‘˜æ¥å¼€å‘ã€éƒ¨ç½²ã€è¿è¡Œåº”ç”¨çš„ä¸€æ¬¾è™šæ‹ŸåŒ–å¹³å°ã€‚å®ƒå¯ä»¥è®©ä½ åƒä½¿ç”¨é›†è£…ç®±ä¸€æ ·å¿«é€Ÿçš„ç»„åˆæˆåº”ç”¨ï¼Œå¹¶ä¸”å¯ä»¥åƒè¿è¾“æ ‡å‡†é›†è£…ç®±ä¸€æ ·</p>
<p><strong>Vagrant</strong> æ˜¯å¦ä¸€æ¬¾è™šæ‹ŸåŒ–å·¥å…·ï¼Œä¸ Docker çš„åŒºåˆ«<a href="/post/3519953407.html">å‚è§è¿™é‡Œ</a>ã€‚</p>
</blockquote>
<span id="more"></span>

<h3 id="1-å®‰è£…ç¯‡"><a href="#1-å®‰è£…ç¯‡" class="headerlink" title="1. å®‰è£…ç¯‡"></a>1. å®‰è£…ç¯‡</h3><h4 id="1-1-ç³»ç»Ÿè¦æ±‚"><a href="#1-1-ç³»ç»Ÿè¦æ±‚" class="headerlink" title="1.1. ç³»ç»Ÿè¦æ±‚"></a>1.1. ç³»ç»Ÿè¦æ±‚</h4><blockquote>
<p>å¯é€šè¿‡å‘½ä»¤ uname -a æŸ¥çœ‹ç³»ç»ŸåŸºæœ¬ä¿¡æ¯</p>
</blockquote>
<p>â—ï¸è¦æ±‚ï¼š<strong>x64 ä½ã€å†…æ ¸ç‰ˆæœ¬ &gt;= 3.10</strong></p>
<p>æ¨èï¼š</p>
<ul>
<li>Ubuntu 16.04 Xenial +</li>
<li>Debian 8 Jessie +</li>
<li>CentOS7 +</li>
</ul>
<blockquote>
<p>æç¤ºï¼šå¦‚æœä½ è¦å®‰è£… Docker çš„æ“ä½œç³»ç»Ÿæ˜¯å›¾å½¢ç•Œé¢ï¼ŒmacOSã€Windowsã€Linux éƒ½æœ‰å¯¹åº”çš„æ¡Œé¢å®¢æˆ·ç«¯ GUI ç¨‹åºï¼Œå„è‡ªä¸‹è½½åœ°å€å¦‚ä¸‹ï¼š</p>
<ul>
<li><a href="https://docs.docker.com/desktop/install/mac-install/">Docker Desktop for Mac</a></li>
<li><a href="https://docs.docker.com/desktop/install/windows-install/">Docker Desktop for Windows</a></li>
<li><a href="https://docs.docker.com/desktop/install/linux-install/">Docker Desktop for Linux</a></li>
</ul>
</blockquote>
<blockquote>
<p>è¯´æ˜ï¼šDocker Desktop åŒ…å«äº† Docker çš„æ‰€æœ‰ä¸œè¥¿ï¼Œå®‰è£…äº†è¿™ä¸ªå°±ä¸éœ€è¦çœ‹åç»­å®‰è£…æ­¥éª¤äº†ã€‚<strong>åç»­çš„å®‰è£…è¯´æ˜ï¼Œé€‚ç”¨äºéå›¾å½¢ç•Œé¢çš„æœåŠ¡å™¨ç³»ç»Ÿ</strong>ã€‚</p>
</blockquote>
<h4 id="1-2-ä¸€é”®å®‰è£…è„šæœ¬"><a href="#1-2-ä¸€é”®å®‰è£…è„šæœ¬" class="headerlink" title="1.2. ä¸€é”®å®‰è£…è„šæœ¬"></a>1.2. ä¸€é”®å®‰è£…è„šæœ¬</h4><p>æ­¤è„šæœ¬é€‚ç”¨äº Ubuntuã€Debianã€CentOS ç³»ç»Ÿï¼Œå…¶ä¸­ï¼šå®˜æ–¹ç‰ˆåœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½å®‰è£…æ¯”è¾ƒæ…¢ï¼Œé˜¿é‡Œäº‘çš„è„šæœ¬åœ¨ CentOS7.4 ä¸‹å¤šæ¬¡å°è¯•éƒ½å¤±è´¥ï¼Œæ‰€ä»¥æ¨è DaoCloud ç‰ˆã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®˜æ–¹</span></span><br><span class="line">âœ  curl -sSL https://get.docker.com/ | sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># DaoCloudï¼ˆæ¨èï¼‰</span></span><br><span class="line">âœ  curl -sSL https://get.daocloud.io/docker | sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># é˜¿é‡Œäº‘</span></span><br><span class="line">âœ  curl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/internet | sh</span><br><span class="line">æˆ–</span><br><span class="line">âœ  wget -qO- http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/internet | sh</span><br></pre></td></tr></table></figure>

<p>æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  docker --version</span><br><span class="line">Docker version 18.02.0-ce, build fc4de44</span><br></pre></td></tr></table></figure>

<p>å¯åŠ¨ Dockerï¼Œå¹¶åŠ å…¥è‡ªå¯åŠ¨</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  systemctl start docker</span><br><span class="line">âœ  systemctl <span class="built_in">enable</span> docker</span><br><span class="line">Created symlink from /etc/systemd/system/multi-user.target.wants/docker.service to /usr/lib/systemd/system/docker.service.</span><br></pre></td></tr></table></figure>

<p>æç¤ºï¼š</p>
<blockquote>
<p>å®‰è£…æˆåŠŸä¹‹åï¼Œå¦‚æœæƒ³è®©æ™®é€šç”¨æˆ·æ‹¥æœ‰ docker çš„æ‰€æœ‰æƒé™ï¼Œéœ€æ‰§è¡Œ <code>sudo usermod -aG docker your-user</code> å°†æ™®é€šç”¨æˆ·åŠ å…¥åˆ° docker ç»„ï¼Œå¦åˆ™éœ€è¦ä½¿ç”¨ <code>sudo docker commands</code> çš„å½¢å¼æ‰§è¡Œæ‰€æœ‰ docker å‘½ä»¤ã€‚</p>
<p>åŠ å…¥ docker ç»„åï¼Œéœ€é‡å¯ç³»ç»Ÿæ‰èƒ½ç”Ÿæ•ˆã€‚</p>
</blockquote>
<h4 id="1-3-æ‰‹åŠ¨å®‰è£…å®˜æ–¹å‚è€ƒæ–‡æ¡£"><a href="#1-3-æ‰‹åŠ¨å®‰è£…å®˜æ–¹å‚è€ƒæ–‡æ¡£" class="headerlink" title="1.3. æ‰‹åŠ¨å®‰è£…å®˜æ–¹å‚è€ƒæ–‡æ¡£"></a>1.3. æ‰‹åŠ¨å®‰è£…å®˜æ–¹å‚è€ƒæ–‡æ¡£</h4><ul>
<li><a href="https://docs.docker.com/engine/install/ubuntu/">Ubuntu</a></li>
<li><a href="https://docs.docker.com/engine/install/debian/">Debian</a></li>
<li><a href="https://docs.docker.com/engine/install/centos/">CentOS</a></li>
</ul>
<h3 id="2-åŸºç¡€å…¥é—¨ç¯‡"><a href="#2-åŸºç¡€å…¥é—¨ç¯‡" class="headerlink" title="2. åŸºç¡€å…¥é—¨ç¯‡"></a>2. åŸºç¡€å…¥é—¨ç¯‡</h3><h4 id="2-1-é•œåƒ"><a href="#2-1-é•œåƒ" class="headerlink" title="2.1. é•œåƒ"></a>2.1. é•œåƒ</h4><h5 id="2-1-1-ä»‹ç»"><a href="#2-1-1-ä»‹ç»" class="headerlink" title="2.1.1. ä»‹ç»"></a>2.1.1. ä»‹ç»</h5><p>Docker é•œåƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œé™¤äº†æä¾›å®¹å™¨è¿è¡Œæ—¶æ‰€éœ€çš„ç¨‹åºã€åº“ã€èµ„æºã€é…ç½®ç­‰æ–‡ä»¶å¤–ï¼Œè¿˜åŒ…å«äº†ä¸€äº›ä¸ºè¿è¡Œæ—¶å‡†å¤‡çš„ä¸€äº›é…ç½®å‚æ•°ï¼ˆå¦‚åŒ¿åå·ã€ç¯å¢ƒå˜é‡ã€ç”¨æˆ·ç­‰ï¼‰ã€‚<strong>é•œåƒä¸åŒ…å«ä»»ä½•åŠ¨æ€æ•°æ®ï¼Œå…¶å†…å®¹åœ¨æ„å»ºä¹‹åä¹Ÿä¸ä¼šè¢«æ”¹å˜ã€‚</strong></p>
<p>Docker é•œåƒæ˜¯æ€ä¹ˆå®ç°å¢é‡çš„ä¿®æ”¹å’Œç»´æŠ¤çš„ï¼Ÿ æ¯ä¸ªé•œåƒéƒ½ç”±å¾ˆå¤šå±‚æ¬¡æ„æˆï¼ŒDocker ä½¿ç”¨ <a href="https://en.wikipedia.org/wiki/Union_mount">Union FS</a> å°†è¿™äº›ä¸åŒçš„å±‚ç»“åˆåˆ°ä¸€ä¸ªé•œåƒä¸­å»ã€‚</p>
<p>é€šå¸¸ Union FS æœ‰ä¸¤ä¸ªç”¨é€”ï¼š</p>
<ul>
<li>å®ç°ä¸å€ŸåŠ© LVMã€RAID å°†å¤šä¸ª disk æŒ‚åˆ°åŒä¸€ä¸ªç›®å½•ä¸‹ï¼›</li>
<li>å°†ä¸€ä¸ªåªè¯»çš„åˆ†æ”¯å’Œä¸€ä¸ªå¯å†™çš„åˆ†æ”¯è”åˆåœ¨ä¸€èµ·ï¼ŒLive CD æ­£æ˜¯åŸºäºæ­¤æ–¹æ³•å¯ä»¥å…è®¸åœ¨é•œåƒä¸å˜çš„åŸºç¡€ä¸Šå…è®¸ç”¨æˆ·åœ¨å…¶ä¸Šè¿›è¡Œä¸€äº›å†™æ“ä½œã€‚</li>
</ul>
<p>Docker åœ¨ AUFS ä¸Šæ„å»ºçš„å®¹å™¨ä¹Ÿæ˜¯åˆ©ç”¨äº†ç±»ä¼¼çš„åŸç†ã€‚</p>
<h5 id="2-1-2-é•œåƒåŠ é€Ÿå™¨"><a href="#2-1-2-é•œåƒåŠ é€Ÿå™¨" class="headerlink" title="2.1.2. é•œåƒåŠ é€Ÿå™¨"></a>2.1.2. é•œåƒåŠ é€Ÿå™¨</h5><p>ç”±äºå›½å†…è®¿é—® Docker Hub æœ‰æ—¶ä¼šé‡åˆ°å›°éš¾ï¼Œæ‰€ä»¥éœ€è¦é…ç½®é•œåƒåŠ é€Ÿå™¨ï¼Œæ¨èå¦‚ä¸‹ä¸¤ä¸ªï¼Œéœ€ç™»å½•åè·å–è‡ªå·±çš„é•œåƒåŠ é€Ÿåœ°å€ã€‚</p>
<ul>
<li><p><a href="https://www.daocloud.io/mirror">DaoCloud</a></p>
</li>
<li><p><a href="https://cr.console.aliyun.com/#/accelerator">é˜¿é‡Œäº‘</a></p>
</li>
</ul>
<h5 id="2-1-3-å¸¸ç”¨æ“ä½œå‘½ä»¤"><a href="#2-1-3-å¸¸ç”¨æ“ä½œå‘½ä»¤" class="headerlink" title="2.1.3. å¸¸ç”¨æ“ä½œå‘½ä»¤"></a>2.1.3. å¸¸ç”¨æ“ä½œå‘½ä»¤</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æœç´¢é•œåƒ</span></span><br><span class="line">$ docker search ubuntu:16.04</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–é•œåƒ</span></span><br><span class="line">$ docker pull [é€‰é¡¹] [Docker Registryåœ°å€]&lt;ä»“åº“å&gt;:&lt;æ ‡ç­¾&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ—å‡ºé•œåƒï¼ˆåªä¼šæ˜¾ç¤ºé¡¶å±‚é•œåƒï¼‰</span></span><br><span class="line">$ docker images</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤é•œåƒï¼ˆéœ€è¦å…ˆåˆ é™¤ä¾èµ–è¯¥é•œåƒçš„å®¹å™¨ï¼‰</span></span><br><span class="line">$ docker rmi [é€‰é¡¹] &lt;é•œåƒ1&gt; [&lt;é•œåƒ2&gt; ...]</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤æ‰€æœ‰è™šæ‚¬é•œåƒ</span></span><br><span class="line">$ docker rmi $(docker images -q -f dangling=<span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤æ‰€æœ‰ä»“åº“ååŒ…å« redis çš„é•œåƒ</span></span><br><span class="line">$ docker rmi $(docker images -q redis)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹é•œåƒæ ‡ç­¾</span></span><br><span class="line">$ sudo docker tag &lt;é•œåƒID&gt; &lt;æ ‡ç­¾å&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¼å‡ºé•œåƒå­˜å‚¨æ–‡ä»¶</span></span><br><span class="line">$ docker save -o å¯¼å‡ºé•œåƒå.tar.gz &lt;é•œåƒID æˆ– é•œåƒå:tag&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¼å…¥é•œåƒå­˜å‚¨æ–‡ä»¶ï¼ˆåŒ…å«é•œåƒä»¥åŠç›¸å…³å…ƒæ•°æ®ä¿¡æ¯ï¼Œæ¯”å¦‚æ ‡ç­¾ç­‰ï¼‰</span></span><br><span class="line">$ docker load &lt; å¯¼å‡ºé•œåƒå.tar.gz</span><br><span class="line">æˆ–</span><br><span class="line">$ docker load --input å¯¼å‡ºé•œåƒå.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…¶å®ƒ</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="2-2-å®¹å™¨"><a href="#2-2-å®¹å™¨" class="headerlink" title="2.2. å®¹å™¨"></a>2.2. å®¹å™¨</h4><h5 id="2-2-1-ä»‹ç»"><a href="#2-2-1-ä»‹ç»" class="headerlink" title="2.2.1. ä»‹ç»"></a>2.2.1. ä»‹ç»</h5><p>é•œåƒï¼ˆImageï¼‰å’Œå®¹å™¨ï¼ˆContainerï¼‰çš„å…³ç³»ï¼Œå°±åƒæ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­çš„ç±»å’Œå®ä¾‹ä¸€æ ·ï¼Œé•œåƒæ˜¯é™æ€çš„å®šä¹‰ï¼Œå®¹å™¨æ˜¯é•œåƒè¿è¡Œæ—¶çš„å®ä½“ã€‚</p>
<ul>
<li>å®¹å™¨å¯ä»¥è¢«åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€æš‚åœç­‰ã€‚</li>
<li>å®¹å™¨çš„å®è´¨æ˜¯<strong>è¿›ç¨‹</strong>ï¼Œä½†ä¸ç›´æ¥åœ¨å®¿ä¸»æ‰§è¡Œçš„è¿›ç¨‹ä¸åŒï¼Œå®¹å™¨è¿›ç¨‹è¿è¡Œäºå±äºè‡ªå·±çš„ç‹¬ç«‹çš„ å‘½åç©ºé—´ã€‚å› æ­¤<em>å®¹å™¨å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„ root æ–‡ä»¶ç³»ç»Ÿã€è‡ªå·±çš„ç½‘ç»œé…ç½®ã€è‡ªå·±çš„è¿›ç¨‹ç©ºé—´ï¼Œç”šè‡³è‡ªå·±çš„ç”¨æˆ· ID ç©ºé—´</em>ã€‚å®¹å™¨å†…çš„è¿›ç¨‹æ˜¯è¿è¡Œåœ¨ä¸€ä¸ªéš”ç¦»çš„ç¯å¢ƒé‡Œï¼Œä½¿ç”¨èµ·æ¥ï¼Œå°±å¥½åƒæ˜¯åœ¨ä¸€ä¸ªç‹¬ç«‹äºå®¿ä¸»çš„ç³»ç»Ÿä¸‹æ“ä½œä¸€æ ·ã€‚è¿™ç§ç‰¹æ€§ä½¿å¾—å®¹å™¨å°è£…çš„åº”ç”¨æ¯”ç›´æ¥åœ¨å®¿ä¸»è¿è¡Œæ›´åŠ å®‰å…¨ã€‚ä¹Ÿå› ä¸ºè¿™ç§éš”ç¦»çš„ç‰¹æ€§ï¼Œå¾ˆå¤šäººåˆå­¦ Docker æ—¶å¸¸å¸¸ä¼šæŠŠå®¹å™¨å’Œè™šæ‹Ÿæœºææ··ã€‚</li>
<li>æŒ‰ç…§ Docker æœ€ä½³å®è·µçš„è¦æ±‚ï¼Œ<strong>å®¹å™¨ä¸åº”è¯¥å‘å…¶å­˜å‚¨å±‚å†…å†™å…¥ä»»ä½•æ•°æ®ï¼Œå®¹å™¨å­˜å‚¨å±‚è¦ä¿æŒæ— çŠ¶æ€åŒ–</strong>ã€‚æ‰€æœ‰çš„æ–‡ä»¶å†™å…¥æ“ä½œï¼Œéƒ½åº”è¯¥ä½¿ç”¨ æ•°æ®å·ï¼ˆVolumeï¼‰ã€æˆ–è€…ç»‘å®šå®¿ä¸»ç›®å½•ï¼Œåœ¨è¿™äº›ä½ç½®çš„è¯»å†™ä¼šè·³è¿‡å®¹å™¨å­˜å‚¨å±‚ï¼Œç›´æ¥å¯¹å®¿ä¸»(æˆ–ç½‘ç»œå­˜å‚¨)å‘ç”Ÿè¯»å†™ï¼Œå…¶æ€§èƒ½å’Œç¨³å®šæ€§æ›´é«˜ã€‚</li>
</ul>
<h5 id="2-2-2-å¸¸ç”¨æ“ä½œå‘½ä»¤"><a href="#2-2-2-å¸¸ç”¨æ“ä½œå‘½ä»¤" class="headerlink" title="2.2.2. å¸¸ç”¨æ“ä½œå‘½ä»¤"></a>2.2.2. å¸¸ç”¨æ“ä½œå‘½ä»¤</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¾“å‡ºä¸€ä¸ªâ€œhello worldâ€åç»ˆæ­¢å®¹å™¨</span></span><br><span class="line">$ docker run ubuntu:16.04 /bin/<span class="built_in">echo</span> <span class="string">&#x27;hello world&#x27;</span></span><br><span class="line">hello world</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨ä¸€ä¸ª bash ç»ˆç«¯ï¼Œå…è®¸ç”¨æˆ·è¿›è¡Œäº¤äº’</span></span><br><span class="line">$ docker run -it ubuntu:16.04 /bin/bash</span><br><span class="line">root@0eb917598209:/<span class="comment"># exit</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">$</span><br><span class="line"></span><br><span class="line"><span class="comment"># åå°è¿è¡Œï¼Œä¸»è¦ä½¿ç”¨ -d å‚æ•°</span></span><br><span class="line">$ docker run -d ubuntu:16.04 /bin</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨</span></span><br><span class="line">$ docker ps</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰å®¹å™¨</span></span><br><span class="line">$ docker ps -a</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¼å¼åŒ–è¾“å‡ºï¼šå®¹å™¨ID ï½œ å®¹å™¨åç§° ï½œ å®¹å™¨ç«¯å£æ˜ å°„ ï½œ å®¹å™¨çŠ¶æ€</span></span><br><span class="line"><span class="comment"># æ›´å¤šæ ¼å¼å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.docker.com/engine/reference/commandline/ps/#formatting</span></span><br><span class="line">$ docker ps -a --format <span class="string">&quot;table &#123;&#123;.ID&#125;&#125;\t&#123;&#123;.Names&#125;&#125;\t&#123;&#123;.Ports&#125;&#125;\t&#123;&#123;.Status&#125;&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›å…¥å®¹å™¨</span></span><br><span class="line"><span class="comment"># æ–¹æ³•ä¸€ï¼šattach æ­¤æ–¹æ³•ä¼šå—å‘½ä»¤é˜»å¡å½±å“ï¼Œå¹¶ä¸” exit é€€å‡ºåå°†åŒæ—¶å…³é—­å®¹å™¨</span></span><br><span class="line">$ docker attach &lt;å®¹å™¨id&gt;</span><br><span class="line"><span class="comment"># æ–¹æ³•äºŒï¼šexecï¼ˆæ¨èï¼‰</span></span><br><span class="line">$ docker <span class="built_in">exec</span> -it <span class="variable">$CONTAINER_ID</span> /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…³é—­å®¹å™¨</span></span><br><span class="line">$ docker stop <span class="variable">$CONTAINER_ID</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨å·²å…³é—­çš„å®¹å™¨</span></span><br><span class="line">$ docker start <span class="variable">$CONTAINER_ID</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–å®¹å™¨çš„è¾“å‡ºä¿¡æ¯ï¼ˆ-f é€‰é¡¹ç”¨äºæŒç»­è·å–ï¼‰</span></span><br><span class="line">$ docker logs <span class="variable">$CONTAINER_ID</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®æ—¶æŸ¥çœ‹å®¹å™¨çš„æœ€æ–°100æ¡æ—¥å¿—</span></span><br><span class="line">$ docker logs -f --tail=100 <span class="variable">$CONTAINER_ID</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¸…ç©ºå¯¹åº”å®¹å™¨çš„æ—¥å¿—æ–‡ä»¶</span></span><br><span class="line">$ docker ps -a | grep <span class="variable">$CONTAINER_NAME</span></span><br><span class="line">$ find /var/lib/docker/containers/ -name *-json.log | grep 959a80270bbc</span><br><span class="line">$ cat /dev/null &gt; /absolute/path/to/959a80270bbc.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å®¹å™¨çš„ç›¸å…³ä¿¡æ¯</span></span><br><span class="line">$ docker inspect <span class="variable">$CONTAINER_ID</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤å®¹å™¨</span></span><br><span class="line">$ docker rm <span class="variable">$CONTAINER_ID</span>-1 <span class="variable">$CONTAINER_ID</span>-2 <span class="variable">$CONTAINER_ID</span>-3 ...</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤æ‰€æœ‰æœªè¿è¡Œçš„å®¹å™¨</span></span><br><span class="line">$ docker rm $(docker ps -a -q)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¼å‡ºå®¹å™¨å¿«ç…§ï¼ˆå°†ä¸¢å¼ƒå†å²è®°å½•å’Œå…ƒæ•°æ®ä¿¡æ¯ï¼‰</span></span><br><span class="line">$ docker <span class="built_in">export</span> &lt;å®¹å™¨ID&gt; &gt; &lt;å¯¼å‡ºæ–‡ä»¶å&gt;.tar</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»å®¹å™¨å¿«ç…§å¯¼å…¥é•œåƒ</span></span><br><span class="line">$ cat &lt;å¯¼å‡ºæ–‡ä»¶å&gt;.tar | docker import - &lt;å¯¼å…¥ä¹‹åçš„é•œåƒå:æ ‡ç­¾&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨å®¿ä¸»æœºä¸å®¹å™¨ä¹‹é—´ç›¸äº’æ‹·è´æ–‡ä»¶</span></span><br><span class="line">$ docker cp [OPTIONS] <span class="variable">$CONTAINER_ID</span>:å®¹å™¨ä¸­çš„æ–‡ä»¶è·¯å¾„ æœ¬åœ°ç›®æ ‡è·¯å¾„</span><br><span class="line">$ docker cp [OPTIONS] æœ¬åœ°æ–‡ä»¶è·¯å¾„ <span class="variable">$CONTAINER_ID</span>:å®¹å™¨ä¸­çš„ç›®æ ‡è·¯å¾„</span><br></pre></td></tr></table></figure>

<h4 id="2-3-Docker-å¸¸ç”¨å‘½ä»¤å›¾è§£"><a href="#2-3-Docker-å¸¸ç”¨å‘½ä»¤å›¾è§£" class="headerlink" title="2.3. Docker å¸¸ç”¨å‘½ä»¤å›¾è§£"></a>2.3. Docker å¸¸ç”¨å‘½ä»¤å›¾è§£</h4><p><img data-src="https://static.sqiang.net/image/post/docker_commands.png"></p>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker ä¹‹ Dockerfile ä»‹ç»</title>
    <url>/post/404938395.html</url>
    <content><![CDATA[<h3 id="1-åŸºæœ¬ç»“æ„"><a href="#1-åŸºæœ¬ç»“æ„" class="headerlink" title="1. åŸºæœ¬ç»“æ„"></a>1. åŸºæœ¬ç»“æ„</h3><p>Dockerfile æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå…¶å†…åŒ…å«äº†ä¸€æ¡æ¡çš„æŒ‡ä»¤(Instruction)ï¼Œæ¯ä¸€æ¡æŒ‡ä»¤æ„å»ºä¸€å±‚ï¼Œå› æ­¤æ¯ä¸€æ¡æŒ‡ä»¤çš„å†…å®¹ï¼Œå°±æ˜¯æè¿°è¯¥å±‚åº”å½“å¦‚ä½•æ„å»ºã€‚</p>
<p>åœ¨æ–‡ä»¶ä¸­ï¼Œæ”¯æŒä»¥ # å¼€å¤´çš„æ³¨é‡Šè¡Œã€‚</p>
<p>ä¸€èˆ¬ï¼ŒDockerfile å…±åŒ…æ‹¬å››éƒ¨åˆ†ï¼š</p>
<ul>
<li>åŸºç¡€é•œåƒä¿¡æ¯</li>
<li>ç»´æŠ¤è€…ä¿¡æ¯</li>
<li>é•œåƒæ“ä½œæŒ‡ä»¤</li>
<li>å®¹å™¨å¯åŠ¨æ—¶æ‰§è¡ŒæŒ‡ä»¤</li>
</ul>
<span id="more"></span>

<p>ä½¿ç”¨æµç¨‹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ mkdir mynginx</span><br><span class="line">âœ <span class="built_in">cd</span> mynginx</span><br><span class="line">âœ touch Dockerfile</span><br><span class="line">âœ vi Dockerfile</span><br></pre></td></tr></table></figure>

<p>å†™å…¥å¦‚ä¸‹å†…å®¹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">FROM nginx</span><br><span class="line">RUN echo &#x27;&lt;h1&gt;Hello, Docker!&lt;/h1&gt;&#x27; &gt; /usr/share/nginx/html/index</span><br><span class="line">.html</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šæ˜¯ä¸€ä¸ªæœ€ç®€å•çš„ Dockerfileï¼Œç›¸å¯¹å®Œæ•´ç‰ˆçš„ Dockerfile ç¤ºä¾‹ï¼Œè¯·<a href="https://github.com/whorusq/docker-learning/tree/master/lamp2">ç‚¹å‡»è¿™é‡Œ</a>æŸ¥çœ‹ã€‚</p>
<h3 id="2-å¸¸ç”¨æŒ‡ä»¤"><a href="#2-å¸¸ç”¨æŒ‡ä»¤" class="headerlink" title="2. å¸¸ç”¨æŒ‡ä»¤"></a>2. å¸¸ç”¨æŒ‡ä»¤</h3><h4 id="2-1-FROM"><a href="#2-1-FROM" class="headerlink" title="2.1. FROM"></a>2.1. FROM</h4><blockquote>
<p>æŒ‡å®šå½“å‰ Dockerfile æ–‡ä»¶æ‰€åˆ›å»ºçš„é•œåƒåŸºäºå“ªä¸ªåŸºç¡€é•œåƒ</p>
</blockquote>
<p>æ ¼å¼ï¼š</p>
<ul>
<li><code>FROM &lt;image&gt;</code></li>
<li><code>FROM &lt;image&gt;:&lt;tag&gt;</code></li>
</ul>
<p><strong>æ³¨æ„</strong>ï¼š</p>
<ul>
<li><p>ä¸€ä¸ª Dockerfile ä¸­ FROM æ˜¯å¿…å¤‡çš„æŒ‡ä»¤ï¼Œå¹¶<br>ä¸”å¿…é¡»æ˜¯ç¬¬ä¸€æ¡æŒ‡ä»¤ã€‚</p>
</li>
<li><p>Docker è¿˜å­˜åœ¨ä¸€ä¸ªç‰¹æ®Šçš„é•œåƒï¼Œåä¸º<br>scratch ã€‚</p>
<p>  å®ƒæ˜¯ä¸ªè™šæ‹Ÿæ¦‚å¿µï¼Œå¹¶ä¸å®é™…å­˜åœ¨ï¼Œè¡¨ç¤ºä¸€ä¸ªç©ºç™½çš„é•œåƒã€‚</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">FROM scratch</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>  å¦‚æœä½ ä»¥ scratch ä¸ºåŸºç¡€é•œåƒçš„è¯ï¼Œæ„å‘³ç€ä½ ä¸ä»¥ä»»ä½•é•œåƒä¸ºåŸºç¡€ï¼Œæ¥ä¸‹æ¥æ‰€å†™çš„æŒ‡ä»¤å°†ä½œä¸ºé•œåƒç¬¬ä¸€å±‚å¼€å§‹å­˜åœ¨ã€‚</p>
</li>
<li><p>åœ¨ Docker ä»“åº“ä¸­å­˜åœ¨å¾ˆå¤šé«˜è´¨é‡çš„å®˜æ–¹é•œåƒ</p>
<ul>
<li>å®˜æ–¹é•œåƒä»“åº“ï¼š<a href="https://store.docker.com/">https://store.docker.com</a></li>
<li>DaoCloud é•œåƒä»“åº“ï¼š<a href="http://hub.daocloud.io/">http://hub.daocloud.io</a></li>
<li>é˜¿é‡Œäº‘é•œåƒä»“åº“ï¼š<a href="https://dev.aliyun.com/search.html">https://dev.aliyun.com/search.html</a></li>
</ul>
</li>
</ul>
<h4 id="2-2-MAINTAINER"><a href="#2-2-MAINTAINER" class="headerlink" title="2.2. MAINTAINER"></a>2.2. MAINTAINER</h4><blockquote>
<p>æŒ‡å®šç»´æŠ¤è€…ä¿¡æ¯ã€‚</p>
</blockquote>
<p>æ ¼å¼ï¼š<code>MAINTAINER &lt;name&gt;</code></p>
<h4 id="2-3-RUN"><a href="#2-3-RUN" class="headerlink" title="2.3. RUN"></a>2.3. RUN</h4><blockquote>
<p>æ¯æ¡ RUN æŒ‡ä»¤å°†åœ¨å½“å‰é•œåƒåŸºç¡€ä¸Šæ‰§è¡ŒæŒ‡å®šå‘½ä»¤ï¼Œå¹¶æäº¤ä¸ºæ–°çš„é•œåƒã€‚å½“å‘½ä»¤è¾ƒé•¿æ—¶å¯ä»¥ä½¿ç”¨ \ æ¥æ¢è¡Œã€‚</p>
</blockquote>
<p>æ ¼å¼ï¼š</p>
<ul>
<li><code>RUN &lt;command&gt;</code> åœ¨ shell ç»ˆç«¯ä¸­è¿è¡Œå‘½ä»¤ï¼Œå³ <code>/bin/sh -c</code></li>
<li><code>RUN [&quot;executable&quot;, &quot;param1&quot;, &quot;param2&quot;]</code> ä½¿ç”¨ exec æ‰§è¡Œ</li>
</ul>
<p>æ¯”å¦‚ï¼Œæˆ‘ä»¬æƒ³æŒ‡å®šä½¿ç”¨å…¶å®ƒç»ˆç«¯ï¼Œå°±å¯ä»¥é€šè¿‡ç¬¬äºŒç§æ–¹å¼å®ç°ï¼Œä¾‹å¦‚ <code>RUN [&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;echo hello&quot;]</code></p>
<p><strong>æ³¨æ„</strong>ï¼šDockerfile ä¸­æ¯ä¸€ä¸ªæŒ‡ä»¤éƒ½ä¼šå»ºç«‹ä¸€å±‚ï¼Œ RUN ä¹Ÿä¸ä¾‹å¤–ã€‚æ‰€ä»¥åœ¨ç¼–å†™ Dockerfile çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡é¿å…æ— æ„ä¹‰çš„å±‚æ¬¡ï¼Œé‡‡å–ç±»ä¼¼å¦‚ä¸‹ç¤ºä¾‹çš„æ“ä½œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">FROM ubuntu:16.04</span><br><span class="line"></span><br><span class="line">RUN apt-get update \</span><br><span class="line"></span><br><span class="line">	<span class="comment"># å®‰è£…åŸºç¡€å·¥å…·åŒ…</span></span><br><span class="line">	&amp;&amp; apt-get install -y software-properties-common vim wget  \</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è¿™é‡Œè¿½åŠ å…¶å®ƒæ“ä½œï¼šå®‰è£…è½¯ä»¶ã€é…ç½®æœåŠ¡ç­‰</span></span><br><span class="line">    <span class="comment"># ...</span></span><br><span class="line"></span><br><span class="line">	<span class="comment"># åšä¸€äº›æ¸…ç†å·¥ä½œ</span></span><br><span class="line">	&amp;&amp; apt-get clean \</span><br><span class="line">    &amp;&amp; apt-get autoclean \</span><br><span class="line">    &amp;&amp; rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼šåœ¨ç¼–å†™ Dockerfile çš„æ—¶å€™ï¼Œè¦ç»å¸¸æé†’è‡ªå·±ï¼Œè¿™å¹¶ä¸æ˜¯åœ¨å†™ Shell è„šæœ¬ï¼Œè€Œæ˜¯åœ¨å®šä¹‰æ¯ä¸€å±‚è¯¥å¦‚ä½•æ„å»ºã€‚</strong></p>
<h4 id="2-4-CMD"><a href="#2-4-CMD" class="headerlink" title="2.4. CMD"></a>2.4. CMD</h4><blockquote>
<p>æŒ‡å®šå¯åŠ¨å®¹å™¨æ—¶æ‰§è¡Œçš„å‘½ä»¤ï¼Œæ¯ä¸ª Dockerfile åªèƒ½æœ‰ä¸€æ¡ CMD å‘½ä»¤ã€‚</p>
</blockquote>
<p>æ ¼å¼ï¼š</p>
<ul>
<li><p><code>CMD [&quot;executable&quot;,&quot;param1&quot;,&quot;param2&quot;]</code> ä½¿ç”¨ exec æ‰§è¡Œï¼Œ<strong>æ¨è</strong>æ–¹å¼</p>
<blockquote>
<p>ç¤ºä¾‹ï¼š<code>CMD [&quot;nginx&quot;, &quot;-g&quot;, &quot;daemon off;&quot;]</code></p>
</blockquote>
</li>
<li><p><code>CMD command param1 param2</code> åœ¨ /bin/sh ä¸­æ‰§è¡Œï¼Œæä¾›ç»™éœ€è¦äº¤äº’çš„åº”ç”¨</p>
</li>
<li><p><code>CMD [&quot;param1&quot;,&quot;param2&quot;]</code> æä¾›ç»™ ENTRYPOINT çš„é»˜è®¤å‚æ•°</p>
</li>
</ul>
<p>Docker ä¸æ˜¯è™šæ‹Ÿæœºï¼Œå®¹å™¨å°±æ˜¯è¿›ç¨‹ã€‚æ—¢ç„¶æ˜¯è¿›ç¨‹ï¼Œé‚£ä¹ˆåœ¨å¯åŠ¨å®¹å™¨çš„æ—¶å€™ï¼Œéœ€è¦æŒ‡å®šæ‰€è¿è¡Œçš„ç¨‹åºåŠå‚æ•°ã€‚ CMD æŒ‡ä»¤å°±æ˜¯ç”¨äºæŒ‡å®šé»˜è®¤çš„å®¹å™¨ä¸»è¿›ç¨‹çš„å¯åŠ¨å‘½ä»¤çš„ã€‚</p>
<p>ubuntu é•œåƒé»˜è®¤çš„ CMD æ˜¯ <code>/bin/bash</code>ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼š</p>
<blockquote>
<ol>
<li>å¦‚æœæŒ‡å®šäº†å¤šæ¡å‘½ä»¤ï¼Œåªæœ‰æœ€åä¸€æ¡ä¼šè¢«æ‰§è¡Œã€‚</li>
<li>å¦‚æœç”¨æˆ·å¯åŠ¨å®¹å™¨æ—¶å€™æŒ‡å®šäº†è¿è¡Œçš„å‘½ä»¤ï¼Œåˆ™ä¼šè¦†ç›–æ‰ CMD æŒ‡å®šçš„å‘½ä»¤ã€‚</li>
</ol>
</blockquote>
<h4 id="2-5-ENTRYPOINT"><a href="#2-5-ENTRYPOINT" class="headerlink" title="2.5. ENTRYPOINT"></a>2.5. ENTRYPOINT</h4><blockquote>
<p>ä¸ CMD ä¸€æ ·ï¼Œéƒ½æ˜¯é…ç½®å®¹å™¨å¯åŠ¨åæ‰§è¡Œçš„å‘½ä»¤ï¼Œå¹¶ä¸”ä¸å¯è¢« docker run æä¾›çš„å‚æ•°è¦†ç›–ã€‚</p>
</blockquote>
<p>æ ¼å¼ï¼š</p>
<ul>
<li><code>ENTRYPOINT [&quot;executable&quot;, &quot;param1&quot;, &quot;param2&quot;]</code></li>
<li><code>ENTRYPOINT command param1 param2</code></li>
</ul>
<p>å½“æŒ‡å®šäº† ENTRYPOINT åï¼Œ CMD çš„å«ä¹‰å°±å‘ç”Ÿäº†æ”¹å˜ï¼Œä¸å†æ˜¯ç›´æ¥çš„è¿è¡Œå…¶å‘½ä»¤ï¼Œè€Œæ˜¯å°† CMD çš„å†…å®¹ä½œä¸ºå‚æ•°ä¼ ç»™ ENTRYPOINT æŒ‡ä»¤ï¼Œæ¢å¥è¯è¯´å®é™…æ‰§è¡Œæ—¶ï¼Œå°†å˜ä¸ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;ENTRYPOINT&gt; <span class="string">&quot;&lt;CMD&gt;&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„</strong>ï¼šæ¯ä¸ª Dockerfile ä¸­åªèƒ½æœ‰ä¸€ä¸ª ENTRYPOINTï¼Œå½“æŒ‡å®šå¤šä¸ªæ—¶ï¼Œåªæœ‰æœ€åä¸€ä¸ªèµ·æ•ˆã€‚</p>
<h4 id="2-6-ENV"><a href="#2-6-ENV" class="headerlink" title="2.6. ENV"></a>2.6. ENV</h4><blockquote>
<p>è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œä¼šè¢«åç»­ RUN æŒ‡ä»¤ä½¿ç”¨ï¼Œå¹¶åœ¨å®¹å™¨è¿è¡Œæ—¶ä¿æŒã€‚</p>
</blockquote>
<p>æ ¼å¼ï¼š</p>
<ul>
<li><code>ENV &lt;key&gt; &lt;value&gt;</code></li>
<li><code>ENV &lt;key1&gt;=&lt;value1&gt; &lt;key2&gt;=&lt;value2&gt;...</code></li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ENV VERSION=1.0 DEBUG=on \</span><br><span class="line"></span><br><span class="line">    NAME=<span class="string">&quot;Happy Feet&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-7-COPY"><a href="#2-7-COPY" class="headerlink" title="2.7. COPY"></a>2.7. COPY</h4><blockquote>
<p>å¤åˆ¶æœ¬åœ°ä¸»æœºçš„ <src>ï¼ˆä¸º Dockerfile æ‰€åœ¨ç›®å½•çš„ç›¸å¯¹è·¯å¾„ï¼‰åˆ°å®¹å™¨ä¸­çš„ <dest>ã€‚</p>
</blockquote>
<p>æ ¼å¼ï¼š</p>
<ul>
<li><code>COPY &lt;æºè·¯å¾„&gt;... &lt;ç›®æ ‡è·¯å¾„&gt;</code></li>
<li><code>COPY [&quot;&lt;æºè·¯å¾„1&gt;&quot;,... &quot;&lt;ç›®æ ‡è·¯å¾„&gt;&quot;]</code></li>
</ul>
<p><strong>&lt;æºè·¯å¾„&gt;</strong> å¯ä»¥æ˜¯å¤šä¸ªï¼Œç”šè‡³å¯ä»¥æ˜¯é€šé…ç¬¦ï¼Œå…¶é€šé…ç¬¦è§„åˆ™è¦æ»¡è¶³ Go çš„ filepath.Match è§„åˆ™ï¼Œå¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">COPY hom* /mydir/</span><br><span class="line"></span><br><span class="line">COPY hom?.txt /mydir/</span><br></pre></td></tr></table></figure>

<p><strong>&lt;ç›®æ ‡è·¯å¾„&gt;</strong> å¯ä»¥æ˜¯å®¹å™¨å†…çš„ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹äºå·¥ä½œç›®å½•çš„ç›¸å¯¹è·¯å¾„ï¼ˆå·¥ ä½œç›®å½•å¯ä»¥ç”¨ WORKDIR æŒ‡ä»¤æ¥æŒ‡å®šï¼‰ã€‚ç›®æ ‡è·¯å¾„ä¸éœ€è¦äº‹å…ˆåˆ›å»ºï¼Œå¦‚æœç›®å½•ä¸å­˜åœ¨ä¼šåœ¨å¤åˆ¶æ–‡ä»¶å‰å…ˆè¡Œåˆ›å»ºç¼ºå¤±ç›®å½•ã€‚</p>
<p>æ­¤å¤–ï¼Œè¿˜éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œä½¿ç”¨ COPY æŒ‡ä»¤ï¼Œæºæ–‡ä»¶çš„å„ç§å…ƒæ•°æ®éƒ½ä¼šä¿ç•™ã€‚æ¯”å¦‚è¯»ã€å†™ã€æ‰§è¡Œæƒé™ã€æ–‡ä»¶å˜æ›´æ—¶é—´ç­‰ã€‚è¿™ä¸ªç‰¹æ€§å¯¹äºé•œåƒå®šåˆ¶å¾ˆæœ‰ç”¨ã€‚ç‰¹åˆ«æ˜¯æ„å»º ç›¸å…³æ–‡ä»¶éƒ½åœ¨ä½¿ç”¨ Git è¿›è¡Œç®¡ç†çš„æ—¶å€™ã€‚</p>
<h4 id="2-8-ADD"><a href="#2-8-ADD" class="headerlink" title="2.8. ADD"></a>2.8. ADD</h4><blockquote>
<p>ä¸ COPY çš„æ ¼å¼å’Œæ€§è´¨åŸºæœ¬ä¸€è‡´ï¼Œä½†æ˜¯åœ¨ COPY åŸºç¡€ä¸Šå¢åŠ äº†ä¸€äº›åŠŸèƒ½ã€‚</p>
<p>å…¶ä¸­ <src> å¯ä»¥æ˜¯Dockerfileæ‰€åœ¨ç›®å½•çš„ä¸€ä¸ªç›¸å¯¹è·¯å¾„ï¼›ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª URLï¼›è¿˜å¯ä»¥æ˜¯ä¸€ä¸ª tar æ–‡ä»¶ï¼ˆè‡ªåŠ¨è§£å‹ä¸ºç›®å½•ï¼‰ã€‚</p>
</blockquote>
<p>åœ¨ Docker å®˜æ–¹çš„æœ€ä½³å®è·µæ–‡æ¡£ä¸­è¦æ±‚ï¼Œå°½å¯èƒ½çš„ä½¿ç”¨ COPY ï¼Œå› ä¸º COPY çš„è¯­ä¹‰å¾ˆæ˜ç¡®ï¼Œå°±æ˜¯å¤åˆ¶æ–‡ä»¶è€Œå·²ï¼Œè€Œ ADD åˆ™åŒ…å«äº†æ›´å¤æ‚çš„åŠŸèƒ½ï¼Œå…¶è¡Œä¸ºä¹Ÿä¸ä¸€å®šå¾ˆæ¸…æ™°ã€‚<strong>æœ€é€‚åˆä½¿ç”¨ ADD çš„åœºåˆï¼Œå°±æ˜¯æ‰€æåŠçš„éœ€è¦è‡ªåŠ¨è§£å‹ç¼©çš„åœºåˆã€‚</strong></p>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼š</p>
<blockquote>
<p>ADD æŒ‡ä»¤ä¼šä»¤é•œåƒæ„å»ºç¼“å­˜å¤±æ•ˆï¼Œä»è€Œå¯èƒ½ä¼šä»¤é•œåƒæ„å»ºå˜å¾—æ¯”è¾ƒç¼“æ…¢ã€‚</p>
<p>å› æ­¤åœ¨ COPY å’Œ åˆ¶å‡ä½¿ç”¨ COPY æŒ‡ä»¤ä¸­é€‰æ‹©çš„æ—¶å€™ï¼Œå¯ä»¥éµå¾ªè¿™æ ·çš„åŸåˆ™ï¼š<strong>æ‰€æœ‰çš„æ–‡ä»¶å¤åˆ¶å‡ä½¿ç”¨ COPY æŒ‡ä»¤ï¼Œä»…åœ¨éœ€è¦è‡ªåŠ¨è§£å‹ç¼©çš„åœºåˆä½¿ç”¨ ADD ã€‚</strong></p>
</blockquote>
<h4 id="2-9-VOLUME"><a href="#2-9-VOLUME" class="headerlink" title="2.9. VOLUME"></a>2.9. VOLUME</h4><blockquote>
<p>å®šä¹‰åŒ¿åå·ã€‚</p>
<p>å³åˆ›å»ºä¸€ä¸ªå¯ä»¥ä»æœ¬åœ°ä¸»æœºæˆ–å…¶ä»–å®¹å™¨æŒ‚è½½çš„æŒ‚è½½ç‚¹ï¼Œä¸€èˆ¬ç”¨æ¥å­˜æ”¾æ•°æ®åº“å’Œéœ€è¦ä¿æŒçš„æ•°æ®ç­‰ã€‚</p>
</blockquote>
<p>æ ¼å¼ï¼š</p>
<ul>
<li><code>VOLUME [&quot;&lt;path1&gt;&quot;, &quot;&lt;path2&gt;&quot;...]</code></li>
<li><code>VOLUME path</code></li>
</ul>
<p>è¿è¡Œæ—¶å¯ä»¥é€šè¿‡ <strong>-v</strong> é€‰é¡¹è¦†ç›–è¿™ä¸ªæŒ‚è½½è®¾ç½®ï¼Œå¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker run -d -v mydata:/data xxxx</span><br></pre></td></tr></table></figure>

<h4 id="2-10-EXPOSE"><a href="#2-10-EXPOSE" class="headerlink" title="2.10. EXPOSE"></a>2.10. EXPOSE</h4><blockquote>
<p>å‘Šè¯‰ Docker æœåŠ¡ç«¯å®¹å™¨æš´éœ²çš„ç«¯å£å·ï¼Œä¾›äº’è”ç³»ç»Ÿä½¿ç”¨ã€‚</p>
</blockquote>
<p>æ ¼å¼ï¼š<code>EXPOSE &lt;port&gt; [&lt;port&gt;...]</code></p>
<p><strong>æ³¨æ„</strong>ï¼š</p>
<ol>
<li><p>è¿™åªæ˜¯ä¸€ä¸ªå£°æ˜ï¼Œåœ¨è¿è¡Œæ—¶å¹¶ä¸ä¼šå› ä¸ºè¿™ä¸ªå£°æ˜åº”ç”¨å°±ä¼šå¼€å¯è¿™ä¸ªç«¯å£çš„æœåŠ¡ã€‚åœ¨ Dockerfile ä¸­å†™å…¥è¿™æ ·çš„å£°æ˜æœ‰ä¸¤ä¸ªå¥½å¤„ï¼š</p>
<ul>
<li>å¸®åŠ©é•œåƒä½¿ç”¨è€…ç†è§£è¿™ä¸ªé•œåƒæœåŠ¡çš„å®ˆæŠ¤ç«¯å£ï¼Œä»¥æ–¹ä¾¿é…ç½®æ˜  å°„ï¼›</li>
<li>ç”¨å¤„åˆ™æ˜¯åœ¨è¿è¡Œæ—¶ä½¿ç”¨éšæœºç«¯å£æ˜ å°„æ—¶ï¼Œä¹Ÿå°±æ˜¯ <code>docker run -P</code> æ—¶ï¼Œä¼šè‡ªåŠ¨éšæœºæ˜ å°„ EXPOSE çš„ç«¯å£ã€‚</li>
</ul>
</li>
<li><p>è¦å°† EXPOSE å’Œåœ¨è¿è¡Œæ—¶ä½¿ç”¨ -p &lt;å®¿ä¸»ç«¯å£&gt;:&lt;å®¹å™¨ç«¯å£&gt; åŒºåˆ†å¼€æ¥ã€‚</p>
<ul>
<li>-p ï¼Œæ˜¯ æ˜ å°„å®¿ä¸»ç«¯å£å’Œå®¹å™¨ç«¯å£ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯å°†å®¹å™¨çš„å¯¹åº”ç«¯å£æœåŠ¡å…¬å¼€ç»™å¤–ç•Œè®¿é—®ï¼›</li>
<li>EXPOSE ä»…ä»…æ˜¯å£°æ˜å®¹å™¨æ‰“ç®—ä½¿ç”¨ä»€ä¹ˆç«¯å£è€Œå·²ï¼Œå¹¶ä¸ä¼šè‡ªåŠ¨åœ¨å®¿ä¸»è¿›è¡Œç«¯å£æ˜ å°„ã€‚</li>
</ul>
</li>
</ol>
<h4 id="2-11-USER"><a href="#2-11-USER" class="headerlink" title="2.11. USER"></a>2.11. USER</h4><blockquote>
<p>æŒ‡å®šè¿è¡Œå®¹å™¨æ—¶çš„ç”¨æˆ·åæˆ– UIDï¼Œåç»­çš„ RUN / CMD / ENTRYPOINT ä¹Ÿä¼šä½¿ç”¨æŒ‡å®šç”¨æˆ·ã€‚</p>
</blockquote>
<p>æ ¼å¼ï¼š<code>USER daemon</code></p>
<p>ä¸ WORKDIR æŒ‡ä»¤ä¸€æ ·ï¼Œ USER åªæ˜¯å¸®åŠ©ä½ åˆ‡æ¢åˆ°æŒ‡å®šç”¨æˆ·è€Œå·²ï¼Œè¿™ä¸ªç”¨æˆ·å¿…é¡»æ˜¯äº‹å…ˆå»ºç«‹å¥½çš„ï¼Œå¦åˆ™æ— æ³•åˆ‡æ¢ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">RUN groupadd -r redis &amp;&amp; useradd -r -g redis redis</span><br><span class="line">USER redis</span><br><span class="line">RUN [ <span class="string">&quot;redis-server&quot;</span> ]</span><br></pre></td></tr></table></figure>

<p>è¦ä¸´æ—¶è·å–ç®¡ç†å‘˜æƒé™å¯ä»¥ä½¿ç”¨ <strong>gosu</strong>ï¼Œè€Œä¸æ¨è sudoï¼Œå¯å‚ç…§ï¼š<a href="https://github.com/tianon/gosu">https://github.com/tianon/gosu</a></p>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å»ºç«‹ redis ç”¨æˆ·ï¼Œå¹¶ä½¿ç”¨ gosu æ¢å¦ä¸€ä¸ªç”¨æˆ·æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">RUN groupadd -r redis &amp;&amp; useradd -r -g redis redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸‹è½½ gosu</span></span><br><span class="line">RUN wget -O /usr/<span class="built_in">local</span>/bin/gosu <span class="string">&quot;https://github.com/tianon/gosu/releases/download/1.7/gosu-amd64&quot;</span> \</span><br><span class="line">&amp;&amp; chmod +x /usr/<span class="built_in">local</span>/bin/gosu \</span><br><span class="line">&amp;&amp; gosu nobody <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½® CMDï¼Œå¹¶ä»¥å¦å¤–çš„ç”¨æˆ·æ‰§è¡Œ</span></span><br><span class="line">CMD [ <span class="string">&quot;exec&quot;</span>, <span class="string">&quot;gosu&quot;</span>, <span class="string">&quot;redis&quot;</span>, <span class="string">&quot;redis-server&quot;</span> ]</span><br></pre></td></tr></table></figure>

<h4 id="2-12-WORKDIR"><a href="#2-12-WORKDIR" class="headerlink" title="2.12. WORKDIR"></a>2.12. WORKDIR</h4><blockquote>
<p>ä¸ºåç»­çš„ RUNã€CMDã€ENTRYPOINT æŒ‡ä»¤é…ç½®å·¥ä½œç›®å½•ã€‚</p>
</blockquote>
<p>æ ¼å¼ï¼š<code>WORKDIR /path/to/workdir</code></p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¤šä¸ª WORKDIR æŒ‡ä»¤ï¼Œä½†æ˜¯åç»­å‘½ä»¤çš„å‚æ•°å¦‚æœæ˜¯ç›¸å¯¹è·¯å¾„ï¼Œåˆ™ä¼šåŸºäºä¹‹å‰å‘½ä»¤æŒ‡å®šçš„è·¯å¾„ã€‚ä¾‹å¦‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">WORKDIR /a</span><br><span class="line">WORKDIR b</span><br><span class="line">WORKDIR c</span><br><span class="line">RUN <span class="built_in">pwd</span></span><br></pre></td></tr></table></figure>

<p>æœ€åçš„è·¯å¾„æ˜¯ <code>/a/b/c</code></p>
<h4 id="2-13-ONBUILD"><a href="#2-13-ONBUILD" class="headerlink" title="2.13. ONBUILD"></a>2.13. ONBUILD</h4><blockquote>
<p>é…ç½®å½“æ‰€åˆ›å»ºçš„é•œåƒä½œä¸ºå…¶å®ƒæ–°åˆ›å»ºé•œåƒçš„åŸºç¡€é•œåƒæ—¶ï¼Œæ‰€æ‰§è¡Œçš„æ“ä½œæŒ‡ä»¤ã€‚</p>
</blockquote>
<p>æ ¼å¼ï¼š</p>
<ul>
<li><code>ONBUILD [INSTRUCTION]</code></li>
</ul>
<h3 id="3-æ„å»ºé•œåƒ"><a href="#3-æ„å»ºé•œåƒ" class="headerlink" title="3. æ„å»ºé•œåƒ"></a>3. æ„å»ºé•œåƒ</h3><p>ç¼–å†™å®Œæˆ Dockerfile ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ docker build å‘½ä»¤æ¥åˆ›å»ºé•œåƒäº†ã€‚</p>
<p>æ ¼å¼ï¼š<code>docker build [é€‰é¡¹] è·¯å¾„</code></p>
<p>åœ¨ Dockerfile æ‰€åœ¨ç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è¿›è¡Œæ„å»ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ sudo docker build -t php:v5.6 .</span><br><span class="line">âœ sudo docker images</span><br><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">php                 5.6                 cb4854aef367        3 months ago        351MB</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å…¶ä¸­ <strong>-t</strong> ç”¨äºæŒ‡å®šé•œåƒçš„æ ‡ç­¾ä¿¡æ¯ï¼›<strong>.</strong> è¡¨ç¤ºæ„å»ºä¸Šä¸‹æ–‡çš„ç›®å½•</p>
</blockquote>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>Dockerfile</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker ä¹‹ Redis ç¯å¢ƒ</title>
    <url>/post/43281251.html</url>
    <content><![CDATA[<h3 id="1-ç›¸å…³èµ„æº"><a href="#1-ç›¸å…³èµ„æº" class="headerlink" title="1. ç›¸å…³èµ„æº"></a>1. ç›¸å…³èµ„æº</h3><ul>
<li>é•œåƒåœ°å€ï¼š<a href="https://store.docker.com/images/redis">https://store.docker.com/images/redis</a></li>
<li>Redis å‘å¸ƒåœ°å€ï¼š<a href="https://github.com/antirez/redis">https://github.com/antirez/redis</a></li>
</ul>
<p>æ‹‰å–é•œåƒ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é»˜è®¤æ‹‰å–æœ€æ–°ç‰ˆæœ¬ï¼Œç›®å‰æ˜¯ 4.0.1</span></span><br><span class="line">âœ  docker pull redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–æŒ‡å®šç‰ˆæœ¬</span></span><br><span class="line">âœ  docker pull redis:3</span><br></pre></td></tr></table></figure>
<p>æ£€æŸ¥é•œåƒæ˜¯å¦æ‹‰å–æˆåŠŸ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  redis docker images</span><br><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">redis               latest              d4f259423416        5 weeks ago         106MB</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h3 id="2-ä½¿ç”¨"><a href="#2-ä½¿ç”¨" class="headerlink" title="2. ä½¿ç”¨"></a>2. ä½¿ç”¨</h3><h4 id="2-1-é»˜è®¤å¯åŠ¨"><a href="#2-1-é»˜è®¤å¯åŠ¨" class="headerlink" title="2.1. é»˜è®¤å¯åŠ¨"></a>2.1. é»˜è®¤å¯åŠ¨</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  redis docker run --name myredis -d redis</span><br><span class="line">41f9c2e8fb86c415257c0342eb58435c3a5bbaf10f888a2cb3c7243d08ec796c</span><br></pre></td></tr></table></figure>
<p>ä¹‹åå°±å¯ä»¥é€šè¿‡å®¢æˆ·ç«¯ç¨‹åºè¿æ¥ <code>127.0.0.1:6379</code> æ¥è®¿é—®äº†</p>
<h4 id="2-2-æ€ä¹ˆä½¿ç”¨-redis-cli-è¿æ¥å®¹å™¨ï¼Ÿ"><a href="#2-2-æ€ä¹ˆä½¿ç”¨-redis-cli-è¿æ¥å®¹å™¨ï¼Ÿ" class="headerlink" title="2.2. æ€ä¹ˆä½¿ç”¨ redis-cli è¿æ¥å®¹å™¨ï¼Ÿ"></a>2.2. æ€ä¹ˆä½¿ç”¨ redis-cli è¿æ¥å®¹å™¨ï¼Ÿ</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  redis docker run -it --link myredis --rm redis redis-cli -h myredis -p 6379</span><br><span class="line">myredis:6379&gt; KEYS *</span><br><span class="line">(empty list or <span class="built_in">set</span>)</span><br><span class="line">myredis:6379&gt; SET name <span class="string">&#x27;xiaoming&#x27;</span></span><br><span class="line">OK</span><br><span class="line">myredis:6379&gt; GET name</span><br><span class="line"><span class="string">&quot;xiaoming&quot;</span></span><br><span class="line">myredis:6379&gt; <span class="built_in">exit</span></span><br></pre></td></tr></table></figure>

<h4 id="2-3-å¦‚ä½•å°†æ•°æ®æŒä¹…åŒ–å­˜å‚¨åˆ°å®¿ä¸»æœºï¼Ÿ"><a href="#2-3-å¦‚ä½•å°†æ•°æ®æŒä¹…åŒ–å­˜å‚¨åˆ°å®¿ä¸»æœºï¼Ÿ" class="headerlink" title="2.3. å¦‚ä½•å°†æ•°æ®æŒä¹…åŒ–å­˜å‚¨åˆ°å®¿ä¸»æœºï¼Ÿ"></a>2.3. å¦‚ä½•å°†æ•°æ®æŒä¹…åŒ–å­˜å‚¨åˆ°å®¿ä¸»æœºï¼Ÿ</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  docker run --name myredis2 -d -v ~/data/redis:/data redis redis-server --appendonly yes</span><br></pre></td></tr></table></figure>
<p>è¯´æ˜ï¼š</p>
<ul>
<li><code>--appendonly yes</code> ç”¨äºæ‰“å¼€ redis çš„æ•°æ®æŒä¹…åŒ–å­˜å‚¨</li>
<li><code>-v ~/data/redis:/data</code> ç”¨äºå°†å®¿ä¸»æœºçš„ç›®å½•æ˜ å°„åˆ°å®¹å™¨å¯¹åº”çš„æ•°æ®å­˜å‚¨ç›®å½•</li>
</ul>
<h4 id="2-4-è‡ªå®šä¹‰é…ç½®æ–‡ä»¶"><a href="#2-4-è‡ªå®šä¹‰é…ç½®æ–‡ä»¶" class="headerlink" title="2.4. è‡ªå®šä¹‰é…ç½®æ–‡ä»¶"></a>2.4. è‡ªå®šä¹‰é…ç½®æ–‡ä»¶</h4><p>é¦–å…ˆåˆ° <a href="https://github.com/antirez/redis/blob/unstable/redis.conf">https://github.com/antirez/redis/blob/unstable/redis.conf</a> ä¸‹è½½ä¸€ä»½ redis çš„é»˜è®¤é…ç½®æ–‡ä»¶ï¼Œç„¶ååœ¨ redis å®¹å™¨å¯åŠ¨æ—¶å¦‚ä¸‹æ“ä½œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ~/myredis/conf/redis.conf å¯¹åº”å®¿ä¸»æœºé…ç½®æ–‡ä»¶ä½ç½®</span></span><br><span class="line">âœ  docker run -v ~/myredis/conf/redis.conf:/usr/<span class="built_in">local</span>/etc/redis/redis.conf --name myredis3 redis redis-server /usr/<span class="built_in">local</span>/etc/redis/redis.conf</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Redis</tag>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäº Docker çš„ MySQL å¯¼å…¥å¯¼å‡ºæ•°æ®</title>
    <url>/post/2298000230.html</url>
    <content><![CDATA[<ol>
<li><p>æŸ¥çœ‹å®¹å™¨åç§°æˆ–ID</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  docker ps --format <span class="string">&quot;table &#123;&#123;.ID&#125;&#125;\t&#123;&#123;.Names&#125;&#125;\t&#123;&#123;.Status&#125;&#125;\t&#123;&#123;.Ports&#125;&#125;&quot;</span></span><br><span class="line">CONTAINER ID        NAMES                STATUS              PORTS</span><br><span class="line">33223943f76a        lnmpa_mysql_1        Up 12 hours         0.0.0.0:3306-&gt;3306/tcp</span><br></pre></td></tr></table></figure></li>
<li><p>å¯¼å‡º</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  docker <span class="built_in">exec</span> -it lnmpa_mysql_1 mysqldump -uroot -p123456 -P 3306 <span class="variable">$DATABASE_NAME</span> &gt; <span class="variable">$DATABASE_NAME_20181108_001</span>.sql</span><br></pre></td></tr></table></figure></li>
<li><p>å¯¼å…¥</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  docker <span class="built_in">exec</span> -i lnmpa_mysql_1 mysql -uroot -p123456 <span class="variable">$DATABASE_NAME</span> &lt; <span class="variable">$DATABASE_NAME_20181108_001</span>.sql</span><br></pre></td></tr></table></figure>

<p> <strong>æ³¨æ„</strong>ï¼šè¿™é‡Œä¸å¯¼å‡ºä¸åŒï¼Œéœ€è¦å°†å‚æ•° <code>-it</code> æ›´æ¢ä¸º <code>-i</code> ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼š<code>cannot enable tty mode on non tty input</code></p>
</li>
</ol>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäº Docker çš„ PHP å¦‚ä½•è¿æ¥ MySQL</title>
    <url>/post/2161195361.html</url>
    <content><![CDATA[<p>ç¯å¢ƒ</p>
<ul>
<li>åŸºäº docker-compose ç®¡ç†çš„ PHP å’Œ MySQL æœåŠ¡</li>
<li>PHP å®¹å™¨ä¸­çš„ç¨‹åºè¿æ¥ MySQL å®¹å™¨ä¸­çš„æœåŠ¡ï¼Œ é‡‡ç”¨ PDO å½¢å¼</li>
</ul>
<p>æµ‹è¯•ä»£ç ç‰‡æ®µ</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="variable">$pdo</span> = <span class="keyword">new</span> PDO(<span class="string">&#x27;mysql:dbname=test;host=127.0.0.1;charset=utf8mb4;port=3306&#x27;</span>,<span class="string">&#x27;root&#x27;</span>,<span class="string">&#x27;root&#x27;</span>);</span><br><span class="line">&#125;<span class="keyword">catch</span>(PDOException <span class="variable">$pe</span>)&#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="variable">$pe</span>-&gt;getMessage());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æŠ¥é”™</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SQLSTATE[HY000] [2002] Connection refused</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<p>è§£å†³æ–¹æ³•</p>
<blockquote>
<p>ä»¥ä¸Šé”™è¯¯ä¸»è¦æ˜¯å¯¹ Docker å®¹å™¨çš„éš”ç¦»æœºåˆ¶ç†è§£ä¸å¤Ÿï¼Œå…¶å®æ¯ä¸ªå®¹å™¨ä¹‹é—´éƒ½æ˜¯éš”ç¦»çš„ï¼Œå¦‚æœæœ‰ç›¸äº’ä¾èµ–çš„æœåŠ¡ï¼Œéœ€è¦è¿›è¡Œæ˜¾ç¤ºçš„å…³è”ï¼Œæ¯”å¦‚ä½¿ç”¨é€‰é¡¹ <code>--link</code>ã€‚</p>
</blockquote>
<blockquote>
<p>åŒç†ï¼Œä½¿ç”¨ docker-compose æ—¶å€™ï¼Œå®¹å™¨ä¹‹é—´å…³è”æ˜¯é‡‡ç”¨ç±»ä¼¼å¦‚ä¸‹çš„æ–¹å¼ï¼š</p>
</blockquote>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="comment"># docker-compose.xml ç¼©å‡ç‰ˆ</span></span><br><span class="line">version: <span class="string">&#x27;2&#x27;</span></span><br><span class="line">services:</span><br><span class="line"></span><br><span class="line">	...</span><br><span class="line"></span><br><span class="line">  php:</span><br><span class="line">    build: ./php</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    links:</span><br><span class="line">      - <span class="string">&quot;mysql&quot;</span></span><br><span class="line"></span><br><span class="line">  mysql:</span><br><span class="line">    build: ./mysql</span><br><span class="line">    ports:</span><br><span class="line">      - <span class="string">&quot;3306:3306&quot;</span></span><br><span class="line">    environment:</span><br><span class="line">      MYSQL_PASSWORD: root</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œå…³é”®åœ°æ–¹æ¥äº†ï¼šæµ‹è¯•è¿æ¥ MySQL çš„ä»£ç å…¶å®æ˜¯è¿è¡Œåœ¨ PHP å¯¹åº”çš„å®¹å™¨é‡Œï¼Œè€Œ MySQL æœåŠ¡æ˜¯åœ¨å®ƒè‡ªå·±å¯¹åº”çš„å®¹å™¨é‡Œï¼Œå½“æˆ‘ä»¬çš„ host å¡«å†™ 127.0.0.1 æ—¶å€™ï¼Œå…¶å®å¯¹åº”çš„æ˜¯ PHP å®¹å™¨é‡Œé¢ï¼Œæ‰€ä»¥ä¸å¯èƒ½æ‰¾åˆ°å¯¹åº”çš„æœåŠ¡ï¼Œä»è€Œå¼•èµ·ä¸Šé¢æ‹’ç»è¿æ¥çš„é”™è¯¯ã€‚</p>
<p>é‚£ä¹ˆï¼Œæ€ä¹ˆè¿›è¡Œè¿æ¥å‘¢ï¼Ÿ</p>
<p><strong>å…¶å®å®¹å™¨ä¹‹é—´å…³è”ä¹‹åï¼Œå¯ä»¥é€šè¿‡å®¹å™¨åè¿›è¡Œè¿æ¥ï¼Œæ˜¯çš„ï¼Œå®¹å™¨åï¼</strong></p>
<p>åœ¨ä¸Šé¢çš„ docker-compose.xml æ–‡ä»¶ä¸­ï¼ŒMySQL æœåŠ¡å¯¹åº”çš„å®¹å™¨åæ˜¯ mysqlï¼ŒPHP å®¹å™¨ä¸å®ƒå…³è”çš„åå­—ä¹Ÿæ˜¯ MySQLï¼Œæ‰€ä»¥æŠŠ 127.0.0.1 æ”¹æˆ <code>mysql</code> å†è¿›è¡Œè¿æ¥å³å¯ï¼</p>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>PHP</tag>
        <tag>MySQL</tag>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäº Docker çš„ Redis æœåŠ¡</title>
    <url>/post/3425556216.html</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡ä¸»è¦ä»‹ç»åŸºäº Docker çš„ Redis æœåŠ¡åŸºæœ¬ä½¿ç”¨ï¼Œæ¶‰åŠæœåŠ¡åˆ›å»ºã€å®¢æˆ·ç«¯è¿æ¥æµ‹è¯•ç­‰ã€‚</p>
</blockquote>
<h3 id="1-ç›¸å…³èµ„æº"><a href="#1-ç›¸å…³èµ„æº" class="headerlink" title="1. ç›¸å…³èµ„æº"></a>1. ç›¸å…³èµ„æº</h3><ul>
<li>å®˜ç½‘ï¼š<a href="https://redis.io/">https://redis.io</a></li>
<li>é•œåƒåœ°å€ï¼š<a href="https://store.docker.com/images/redis">https://store.docker.com/images/redis</a></li>
<li>Redis å‘å¸ƒåœ°å€ï¼š<a href="https://github.com/antirez/redis">https://github.com/antirez/redis</a></li>
</ul>
<span id="more"></span>

<h3 id="2-æ‹‰å–é•œåƒ"><a href="#2-æ‹‰å–é•œåƒ" class="headerlink" title="2. æ‹‰å–é•œåƒ"></a>2. æ‹‰å–é•œåƒ</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é»˜è®¤æ‹‰å–æœ€æ–°ç¨³å®šç‰ˆæœ¬ï¼Œç›®å‰æ˜¯ 5.x</span></span><br><span class="line">âœ  docker pull redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–æŒ‡å®šç‰ˆæœ¬</span></span><br><span class="line">âœ  docker pull redis:5</span><br></pre></td></tr></table></figure>
<p>æ£€æŸ¥é•œåƒæ˜¯å¦æ‹‰å–æˆåŠŸ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  docker images</span><br><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">redis               5                   4cdbec704e47        9 days ago          98.2MB</span><br><span class="line">redis               latest              44d36d2c2374        2 months ago        98.2MB</span><br></pre></td></tr></table></figure>

<h3 id="3-ä½¿ç”¨"><a href="#3-ä½¿ç”¨" class="headerlink" title="3. ä½¿ç”¨"></a>3. ä½¿ç”¨</h3><h4 id="3-1-é»˜è®¤å¯åŠ¨"><a href="#3-1-é»˜è®¤å¯åŠ¨" class="headerlink" title="3.1. é»˜è®¤å¯åŠ¨"></a>3.1. é»˜è®¤å¯åŠ¨</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  docker run --name myredis -d redis</span><br><span class="line">41f9c2e8fb86c415257c0342eb58435c3a5bbaf10f888a2cb3c7243d08ec796c</span><br></pre></td></tr></table></figure>
<p>ä¹‹åå°±å¯ä»¥é€šè¿‡å®¢æˆ·ç«¯ç¨‹åºè¿æ¥ <code>127.0.0.1:6379</code> æ¥è®¿é—®äº†ã€‚</p>
<h4 id="3-2-æ€ä¹ˆä½¿ç”¨-redis-cli-è¿æ¥å®¹å™¨ï¼Ÿ"><a href="#3-2-æ€ä¹ˆä½¿ç”¨-redis-cli-è¿æ¥å®¹å™¨ï¼Ÿ" class="headerlink" title="3.2. æ€ä¹ˆä½¿ç”¨ redis-cli è¿æ¥å®¹å™¨ï¼Ÿ"></a>3.2. æ€ä¹ˆä½¿ç”¨ redis-cli è¿æ¥å®¹å™¨ï¼Ÿ</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  docker run -it --link myredis --rm redis redis-cli -h myredis -p 6379</span><br><span class="line">myredis:6379&gt; KEYS *</span><br><span class="line">(empty list or <span class="built_in">set</span>)</span><br><span class="line">myredis:6379&gt; SET name <span class="string">&#x27;xiaoming&#x27;</span></span><br><span class="line">OK</span><br><span class="line">myredis:6379&gt; GET name</span><br><span class="line"><span class="string">&quot;xiaoming&quot;</span></span><br><span class="line">myredis:6379&gt; <span class="built_in">exit</span></span><br></pre></td></tr></table></figure>

<h4 id="3-3-å¦‚ä½•å°†æ•°æ®æŒä¹…åŒ–å­˜å‚¨åˆ°å®¿ä¸»æœºï¼Ÿ"><a href="#3-3-å¦‚ä½•å°†æ•°æ®æŒä¹…åŒ–å­˜å‚¨åˆ°å®¿ä¸»æœºï¼Ÿ" class="headerlink" title="3.3. å¦‚ä½•å°†æ•°æ®æŒä¹…åŒ–å­˜å‚¨åˆ°å®¿ä¸»æœºï¼Ÿ"></a>3.3. å¦‚ä½•å°†æ•°æ®æŒä¹…åŒ–å­˜å‚¨åˆ°å®¿ä¸»æœºï¼Ÿ</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  docker run --name myredis2 -d -v ~/data/redis:/data redis redis-server --appendonly yes</span><br></pre></td></tr></table></figure>
<p>è¯´æ˜ï¼š</p>
<ul>
<li><code>--appendonly yes</code> ç”¨äºæ‰“å¼€ redis çš„æ•°æ®æŒä¹…åŒ–å­˜å‚¨</li>
<li><code>-v ~/data/redis:/data</code> ç”¨äºå°†å®¿ä¸»æœºçš„ç›®å½•æ˜ å°„åˆ°å®¹å™¨å¯¹åº”çš„æ•°æ®å­˜å‚¨ç›®å½•</li>
</ul>
<h4 id="3-4-è‡ªå®šä¹‰é…ç½®æ–‡ä»¶"><a href="#3-4-è‡ªå®šä¹‰é…ç½®æ–‡ä»¶" class="headerlink" title="3.4. è‡ªå®šä¹‰é…ç½®æ–‡ä»¶"></a>3.4. è‡ªå®šä¹‰é…ç½®æ–‡ä»¶</h4><p>å»ºè®®<a href="https://redis.io/">å®˜ç½‘</a>ä¸‹è½½æŒ‡å®šç‰ˆæœ¬çš„ Redis æºç åŒ…ï¼Œè§£å‹åè·å–é»˜è®¤é…ç½®æ–‡ä»¶ <code>redis.conf</code></p>
<p>ç„¶ååœ¨ Redis å®¹å™¨å¯åŠ¨æ—¶å¦‚ä¸‹æ“ä½œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ~/myredis/conf/redis.conf å¯¹åº”å®¿ä¸»æœºé…ç½®æ–‡ä»¶ä½ç½®</span></span><br><span class="line">âœ  docker run -v ~/myredis/conf/redis.conf:/usr/<span class="built_in">local</span>/etc/redis/redis.conf --name myredis3 redis redis-server /usr/<span class="built_in">local</span>/etc/redis/redis.conf</span><br></pre></td></tr></table></figure>

<h3 id="4-ä½¿ç”¨-docker-compose-ç¼–æ’"><a href="#4-ä½¿ç”¨-docker-compose-ç¼–æ’" class="headerlink" title="4. ä½¿ç”¨ docker compose ç¼–æ’"></a>4. ä½¿ç”¨ docker compose ç¼–æ’</h3><p>ä¸Šé¢æ˜¯åŸºæœ¬ä½¿ç”¨æ–¹å¼ï¼Œä¸ºä¾¿äºç®¡ç†ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨ <code>docker compose</code> æ¥ç»Ÿä¸€åˆ›å»ºã€ç®¡ç†å„æœåŠ¡ã€‚</p>
<h4 id="4-1-åˆ›å»º"><a href="#4-1-åˆ›å»º" class="headerlink" title="4.1. åˆ›å»º"></a>4.1. åˆ›å»º</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ–°å»ºä¸€ä¸ªç›®å½• redi å­˜æ”¾ï¼Œç»“æ„å¦‚ä¸‹</span></span><br><span class="line">âœ  tree -L 2 redis</span><br><span class="line">.</span><br><span class="line">â”œâ”€â”€ conf</span><br><span class="line">â”‚Â Â  â””â”€â”€ redis.conf &lt;-- é»˜è®¤é…ç½®æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ data</span><br><span class="line">â”‚Â Â  â””â”€â”€ dump.rdb &lt;-- æ•°æ®æŒä¹…åŒ–æ–‡ä»¶</span><br><span class="line">â””â”€â”€ docker-compose.yml</span><br></pre></td></tr></table></figure>

<p><code>docker-compose.yml</code> æ–‡ä»¶å¦‚ä¸‹ï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Redis</span></span><br><span class="line"><span class="comment"># https://redis.io</span></span><br><span class="line"><span class="comment"># https://hub.docker.com/_/redis</span></span><br><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3.1&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">redis:5</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;56379:6379&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./data:/data:rw</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./conf/redis.conf:/usr/local/etc/redis/redis.conf</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">redis-server</span> <span class="string">/usr/local/etc/redis/redis.conf</span></span><br></pre></td></tr></table></figure>

<h4 id="4-2-å¯åŠ¨"><a href="#4-2-å¯åŠ¨" class="headerlink" title="4.2. å¯åŠ¨"></a>4.2. å¯åŠ¨</h4><blockquote>
<p>âš ï¸ æ³¨æ„ï¼šå¯åŠ¨å‰ï¼Œæ³¨æ„ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„è¿æ¥å¯†ç ï¼ˆrequirepassï¼‰å’Œ IP ç»‘å®šï¼ˆbindï¼‰ä¸¤ä¸ªå±æ€§ï¼Œå°¤å…¶æ˜¯å½“ä½¿ç”¨ <code>redis-cli</code> æˆ–å…¶å®ƒå®¢æˆ·ç«¯å·¥å…·è¿æ¥å‘ç”Ÿå¼‚å¸¸æ—¶ã€‚</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  docker compose up</span><br><span class="line">Creating network <span class="string">&quot;redis_default&quot;</span> with the default driver</span><br><span class="line">Creating redis_redis_1 ... <span class="keyword">done</span></span><br><span class="line">Attaching to redis_redis_1</span><br><span class="line">redis_1  | 1:C 10 Apr 2020 07:24:54.884 <span class="comment"># oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo</span></span><br><span class="line">redis_1  | 1:C 10 Apr 2020 07:24:54.885 <span class="comment"># Redis version=5.0.8, bits=64, commit=00000000, modified=0, pid=1, just started</span></span><br><span class="line">redis_1  | 1:C 10 Apr 2020 07:24:54.885 <span class="comment"># Configuration loaded</span></span><br><span class="line">redis_1  |                 _._</span><br><span class="line">redis_1  |            _.-``__ <span class="string">&#x27;&#x27;</span>-._</span><br><span class="line">redis_1  |       _.-``    `.  `_.  <span class="string">&#x27;&#x27;</span>-._           Redis 5.0.8 (00000000/0) 64 bit</span><br><span class="line">redis_1  |   .-`` .-```.  ```\/    _.,_ <span class="string">&#x27;&#x27;</span>-._</span><br><span class="line">redis_1  |  (    <span class="string">&#x27;      ,       .-`  | `,    )     Running in standalone mode</span></span><br><span class="line"><span class="string">redis_1  |  |`-._`-...-` __...-.``-._|&#x27;</span>` _.-<span class="string">&#x27;|     Port: 6379</span></span><br><span class="line"><span class="string">redis_1  |  |    `-._   `._    /     _.-&#x27;</span>    |     PID: 1</span><br><span class="line">redis_1  |   `-._    `-._  `-./  _.-<span class="string">&#x27;    _.-&#x27;</span></span><br><span class="line">redis_1  |  |`-._`-._    `-.__.-<span class="string">&#x27;    _.-&#x27;</span>_.-<span class="string">&#x27;|</span></span><br><span class="line"><span class="string">redis_1  |  |    `-._`-._        _.-&#x27;</span>_.-<span class="string">&#x27;    |           http://redis.io</span></span><br><span class="line"><span class="string">redis_1  |   `-._    `-._`-.__.-&#x27;</span>_.-<span class="string">&#x27;    _.-&#x27;</span></span><br><span class="line">redis_1  |  |`-._`-._    `-.__.-<span class="string">&#x27;    _.-&#x27;</span>_.-<span class="string">&#x27;|</span></span><br><span class="line"><span class="string">redis_1  |  |    `-._`-._        _.-&#x27;</span>_.-<span class="string">&#x27;    |</span></span><br><span class="line"><span class="string">redis_1  |   `-._    `-._`-.__.-&#x27;</span>_.-<span class="string">&#x27;    _.-&#x27;</span></span><br><span class="line">redis_1  |       `-._    `-.__.-<span class="string">&#x27;    _.-&#x27;</span></span><br><span class="line">redis_1  |           `-._        _.-<span class="string">&#x27;</span></span><br><span class="line"><span class="string">redis_1  |               `-.__.-&#x27;</span></span><br><span class="line">redis_1  |</span><br><span class="line">redis_1  | 1:M 10 Apr 2020 07:24:54.890 <span class="comment"># WARNING: The TCP backlog setting of 511 cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower value of 128.</span></span><br><span class="line">redis_1  | 1:M 10 Apr 2020 07:24:54.891 <span class="comment"># Server initialized</span></span><br><span class="line">redis_1  | 1:M 10 Apr 2020 07:24:54.891 <span class="comment"># WARNING you have Transparent Huge Pages (THP) support enabled in your kernel. This will create latency and memory usage issues with Redis. To fix this issue run the command &#x27;echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled&#x27; as root, and add it to your /etc/rc.local in order to retain the setting after a reboot. Redis must be restarted after THP is disabled.</span></span><br><span class="line">redis_1  | 1:M 10 Apr 2020 07:24:54.901 * DB loaded from disk: 0.009 seconds</span><br><span class="line">redis_1  | 1:M 10 Apr 2020 07:24:54.901 * Ready to accept connections</span><br></pre></td></tr></table></figure>

<h4 id="4-3-è¿æ¥æµ‹è¯•"><a href="#4-3-è¿æ¥æµ‹è¯•" class="headerlink" title="4.3. è¿æ¥æµ‹è¯•"></a>4.3. è¿æ¥æµ‹è¯•</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  docker <span class="built_in">exec</span> -it <span class="variable">$&#123;Redis å®¹å™¨ ID&#125;</span> redis-cli -h 127.0.0.1 -p 6379</span><br><span class="line">127.0.0.1:6379&gt;</span><br></pre></td></tr></table></figure>

<h3 id="5-å¸¸è§é—®é¢˜"><a href="#5-å¸¸è§é—®é¢˜" class="headerlink" title="5. å¸¸è§é—®é¢˜"></a>5. å¸¸è§é—®é¢˜</h3><h4 id="5-1-å®¢æˆ·ç«¯æ— æ³•è¿æ¥"><a href="#5-1-å®¢æˆ·ç«¯æ— æ³•è¿æ¥" class="headerlink" title="5.1. å®¢æˆ·ç«¯æ— æ³•è¿æ¥"></a>5.1. å®¢æˆ·ç«¯æ— æ³•è¿æ¥</h4><h5 id="æƒ…å†µä¸€ï¼šåœ°å€ã€ç«¯å£å·"><a href="#æƒ…å†µä¸€ï¼šåœ°å€ã€ç«¯å£å·" class="headerlink" title="æƒ…å†µä¸€ï¼šåœ°å€ã€ç«¯å£å·"></a>æƒ…å†µä¸€ï¼šåœ°å€ã€ç«¯å£å·</h5><p>è¿æ¥æ—¶ç¡®ä¿å¡«å†™æ­£ç¡®çš„<strong>è¿æ¥åœ°å€</strong>å’Œ<strong>ç«¯å£å·</strong>ã€‚</p>
<ul>
<li>ä»å¦ä¸€ä¸ªå®¹å™¨è¿æ¥åˆ°å½“å‰ Redis æœåŠ¡ï¼Œéœ€è¦ä½¿ç”¨ <code>--link</code> è¿æ¥ä¸¤ä¸ªå®¹å™¨ï¼Œå¹¶ä¸”è¿æ¥åœ°å€ä½¿ç”¨ Redis å¯¹åº”çš„æœåŠ¡åï¼›</li>
<li>ä»ç‰©ç†æœºè¿æ¥åˆ°å½“å‰ Redis æœåŠ¡ï¼Œç¡®ä¿ç«¯å£æ˜¯<strong>æš´éœ²å‡ºæ¥çš„ç«¯å£å·</strong>ï¼Œè€Œä¸æ˜¯é»˜è®¤çš„ç«¯å£å·ã€‚</li>
</ul>
<h5 id="æƒ…å†µäºŒï¼šé…ç½®æ–‡ä»¶"><a href="#æƒ…å†µäºŒï¼šé…ç½®æ–‡ä»¶" class="headerlink" title="æƒ…å†µäºŒï¼šé…ç½®æ–‡ä»¶"></a>æƒ…å†µäºŒï¼šé…ç½®æ–‡ä»¶</h5><p>åœ¨è¾ƒé«˜ç‰ˆæœ¬çš„ <code>redis.conf</code> é…ç½®æ–‡ä»¶ä¸­ï¼Œå±æ€§ <code>protected-mode yes</code> è¢«é»˜è®¤å¼€å¯ï¼Œä»¥ä¿è¯ Redis çš„å®‰å…¨æ€§ã€‚</p>
<p>æ‰€ä»¥å¿…é¡»ç»™ Redis è®¾ç½®å¯†ç æ‰å¯ä»¥è¿æ¥ã€‚</p>
<p>å¦‚æœåªæ˜¯æµ‹è¯•ç”¨è€Œä¸éœ€è¦å¯†ç ï¼Œåˆ™ä¿®æ”¹æ­¤å±æ€§çš„å€¼ä¸º <code>no</code> ï¼Œå¹¶ä¸”å±æ€§ <code>requirepass xxx</code> ä¸è¦æ‰“å¼€å³å¯ã€‚</p>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Redis</tag>
        <tag>Docker</tag>
        <tag>redis-server</tag>
        <tag>redis-cli</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäº Docker çš„ php-fpm å¦‚ä½•ä½¿ç”¨ socket æ–¹å¼è¿›è¡Œè¿æ¥</title>
    <url>/post/2218952744.html</url>
    <content><![CDATA[<p>ç°æœ‰ä¸¤ä¸ªå®¹å™¨ï¼š<code>nginx</code> å’Œ <code>php-fpm</code>ï¼Œæˆ‘ä»¬é€šå¸¸çš„è¿æ¥æ–¹å¼æ˜¯é‡‡ç”¨ tcp å½¢å¼ï¼Œé…ç½® <code>127.0.0.1:9000</code> å°† php ç›¸å…³è¯·æ±‚è½¬å‘ç»™ php-fpmï¼Œè€Œä½¿ç”¨ socket çš„è¿æ¥æ–¹å¼ï¼Œå°†è·å¾—æ›´å¥½çš„æ€§èƒ½ã€‚</p>
<span id="more"></span>

<p>å…·ä½“é…ç½®ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<ol>
<li><p>é…ç½® docker-compose.yml</p>
 <figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line">version: <span class="string">&#x27;3&#x27;</span></span><br><span class="line"></span><br><span class="line">services:</span><br><span class="line"></span><br><span class="line">  <span class="comment"># Nginx</span></span><br><span class="line">  nginx:</span><br><span class="line">	build:</span><br><span class="line">	  context: ./build/nginx</span><br><span class="line">	  args:</span><br><span class="line">		VERSION: <span class="number">1.14</span></span><br><span class="line">	image: lnmp/nginx:<span class="number">1.14</span></span><br><span class="line">	...</span><br><span class="line">	volumes:</span><br><span class="line">	  .....</span><br><span class="line">	  - ./conf/php_fpm/sock:/sock</span><br><span class="line">	links:</span><br><span class="line">	  - php_fpm</span><br><span class="line"></span><br><span class="line">  <span class="comment"># PHP with fpm</span></span><br><span class="line">  php_fpm:</span><br><span class="line">	build:</span><br><span class="line">	  context: ./build/php70_fpm</span><br><span class="line">	  args:</span><br><span class="line">		- VERSION=<span class="number">7.0</span></span><br><span class="line">	image: lnmp/php_fpm:<span class="number">7.0</span></span><br><span class="line">	  .....</span><br><span class="line">	volumes:</span><br><span class="line">	  .....</span><br><span class="line">	  <span class="comment"># php-fpm çš„é…ç½®</span></span><br><span class="line">	  - ./conf/php_fpm/zz-docker.conf:/usr/local/etc/php-fpm.d/zz-docker.conf</span><br><span class="line">	  <span class="comment"># æŒ‚è½½å®¿ä¸»æœº socket ç›®å½•ï¼Œå› ä¸º nginx æœåŠ¡ä¹Ÿéœ€è¦è®¿é—®</span></span><br><span class="line">	  - ./conf/php_fpm/sock:/sock</span><br></pre></td></tr></table></figure></li>
<li><p>ä¿®æ”¹ php-fpm é…ç½®æ–‡ä»¶</p>
 <figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="section">[global]</span></span><br><span class="line"></span><br><span class="line"><span class="attr">daemonize</span> = <span class="literal">no</span></span><br><span class="line"></span><br><span class="line"><span class="section">[www]</span></span><br><span class="line"><span class="comment">;listen = 127.0.0.1:9000</span></span><br><span class="line"><span class="attr">listen</span> = /sock/php70-fpm.sock</span><br><span class="line"><span class="attr">listen.mode</span> = <span class="number">0666</span></span><br><span class="line"></span><br><span class="line">.....</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>ä¿®æ”¹å¯¹åº”é¡¹ç›®çš„ nginx é…ç½®æ–‡ä»¶</p>
 <figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">  <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">  <span class="attribute">server_name</span> test.local;</span><br><span class="line">  <span class="attribute">index</span> index.html index.htm index.php;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">root</span> /usr/share/nginx/html/testProject;</span><br><span class="line"></span><br><span class="line">  .....</span><br><span class="line"></span><br><span class="line">  <span class="comment"># å¤„ç† php æ–‡ä»¶</span></span><br><span class="line">  <span class="attribute">location</span> <span class="regexp">~ \.php</span> &#123;</span><br><span class="line">    <span class="comment"># fastcgi_pass php_fpm:9000;</span></span><br><span class="line">    <span class="attribute">fastcgi_pass</span> unix:/sock/php70-fpm.sock;</span><br><span class="line">    <span class="attribute">fastcgi_index</span> index.php;</span><br><span class="line">    <span class="attribute">fastcgi_param</span> SCRIPT_FILENAME  /var/www/html/testProject/$fastcgi_script_name;</span><br><span class="line">    <span class="attribute">include</span> fastcgi_params;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .....</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>ä»¥ä¸Šæ“ä½œå®Œæˆåï¼Œé‡æ–°ä½¿ç”¨ <code>docker-compose up</code> å¯åŠ¨æœåŠ¡ã€‚</p>
<blockquote>
<p><strong>æç¤º</strong>ï¼šå¦‚æœå‡ºç° 502 æˆ– æ‰¾ä¸åˆ° xx.sock æ–‡ä»¶çš„é”™è¯¯ï¼Œè¯·æ£€æŸ¥ç¡®è®¤ç”¨æˆ·æƒé™æˆ–ç›¸å…³è®¾ç½®æ˜¯å¦æ­£ç¡®ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>PHP</tag>
        <tag>Docker</tag>
        <tag>php-fpm</tag>
      </tags>
  </entry>
  <entry>
    <title>è§£å†³ Docker å®¹å™¨ä¸å®¿ä¸»æœºæ—¶é—´ä¸åŒæ­¥</title>
    <url>/post/1784173707.html</url>
    <content><![CDATA[<h4 id="è§£å†³æ–¹å¼ä¸€ï¼šè¿½åŠ å®¹å™¨å¯åŠ¨å‚æ•°"><a href="#è§£å†³æ–¹å¼ä¸€ï¼šè¿½åŠ å®¹å™¨å¯åŠ¨å‚æ•°" class="headerlink" title="è§£å†³æ–¹å¼ä¸€ï¼šè¿½åŠ å®¹å™¨å¯åŠ¨å‚æ•°"></a>è§£å†³æ–¹å¼ä¸€ï¼šè¿½åŠ å®¹å™¨å¯åŠ¨å‚æ•°</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-v /etc/localtime:/etc/localtime:ro</span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line">-e <span class="string">&quot;TZ=Asia/Shanghai&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="è§£å†³æ–¹å¼äºŒï¼šè°ƒæ•´-Dockerfile-å‚æ•°"><a href="#è§£å†³æ–¹å¼äºŒï¼šè°ƒæ•´-Dockerfile-å‚æ•°" class="headerlink" title="è§£å†³æ–¹å¼äºŒï¼šè°ƒæ•´ Dockerfile å‚æ•°"></a>è§£å†³æ–¹å¼äºŒï¼šè°ƒæ•´ Dockerfile å‚æ•°</h4><figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ENV</span> TZ=America/Los_Angeles</span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> ln -snf /usr/share/zoneinfo/<span class="variable">$TZ</span> /etc/localtime &amp;&amp; <span class="built_in">echo</span> <span class="variable">$TZ</span> &gt; /etc/timezone</span></span><br></pre></td></tr></table></figure>

<p>å‚ç…§ï¼š</p>
<ul>
<li><a href="https://serverfault.com/questions/683605/docker-container-time-timezone-will-not-reflect-changes">https://serverfault.com/questions/683605/docker-container-time-timezone-will-not-reflect-changes</a></li>
<li><a href="http://stackoverflow.com/questions/22800624/will-docker-container-auto-sync-time-with-the-host-machine">http://stackoverflow.com/questions/22800624/will-docker-container-auto-sync-time-with-the-host-machine</a></li>
</ul>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•ä¼˜é›…çš„å‡çº§ Nginxï¼ˆçƒ­éƒ¨ç½²ï¼‰ç‰ˆæœ¬</title>
    <url>/post/1273366459.html</url>
    <content><![CDATA[<h3 id="1-å‡çº§"><a href="#1-å‡çº§" class="headerlink" title="1. å‡çº§"></a>1. å‡çº§</h3><h4 id="1-1-ä¸‹è½½ã€ç¼–è¯‘æ–°ç‰ˆæœ¬çš„-Nginx"><a href="#1-1-ä¸‹è½½ã€ç¼–è¯‘æ–°ç‰ˆæœ¬çš„-Nginx" class="headerlink" title="1.1. ä¸‹è½½ã€ç¼–è¯‘æ–°ç‰ˆæœ¬çš„ Nginx"></a>1.1. ä¸‹è½½ã€ç¼–è¯‘æ–°ç‰ˆæœ¬çš„ Nginx</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ wget https://nginx.org/download/nginx-1.15.6.tar.gz</span><br><span class="line">âœ  ~ tar zxvf nginx-1.15.6.tar.gz</span><br><span class="line">âœ  ~ <span class="built_in">cd</span> nginx-1.15.6</span><br><span class="line">âœ  ~ ./configure --prefix=/usr/<span class="built_in">local</span>/nginx</span><br><span class="line">âœ  ~ make</span><br></pre></td></tr></table></figure>

<p>å¤‡ä»½åŸ Nginx äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¹¶ç”¨æ–°ç‰ˆæœ¬æ›¿æ¢</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ cp /usr/<span class="built_in">local</span>/nginx/sbin/nginx /usr/<span class="built_in">local</span>/nginx/sbin/nginx.old</span><br><span class="line">âœ  ~ \cp -rf objs/nginx /usr/<span class="built_in">local</span>/nginx/sbin/nginx</span><br></pre></td></tr></table></figure>

<h4 id="1-2-åˆ‡æ¢-Nginx-çš„æ–°è€è¿›ç¨‹"><a href="#1-2-åˆ‡æ¢-Nginx-çš„æ–°è€è¿›ç¨‹" class="headerlink" title="1.2. åˆ‡æ¢ Nginx çš„æ–°è€è¿›ç¨‹"></a>1.2. åˆ‡æ¢ Nginx çš„æ–°è€è¿›ç¨‹</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/nginx/sbin/</span><br><span class="line">âœ  ~ ps -ef | grep nginx</span><br><span class="line">root      6680     1  0 12:17 ?        00:00:00 nginx: master process ./nginx</span><br><span class="line">nobody    6681  6680  0 12:17 ?        00:00:00 nginx: worker process</span><br><span class="line">root     31579  3601  0 12:28 pts/0    00:00:00 grep --color=auto nginx</span><br></pre></td></tr></table></figure>

<p>å‘æ­£åœ¨è¿è¡Œçš„è€ç‰ˆæœ¬çš„ <code>master</code> è¿›ç¨‹å‘é€çƒ­éƒ¨ç½²ä¿¡å·</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ <span class="built_in">kill</span> -USR2 6680</span><br><span class="line"></span><br><span class="line"><span class="comment"># Nginx å°†ä½¿ç”¨æ–°çš„äºŒè¿›åˆ¶æ–‡ä»¶å¯åŠ¨æ–°ç‰ˆæœ¬çš„ master å’Œ worker è¿›ç¨‹</span></span><br><span class="line"><span class="comment"># å¹¶å°†æ‰€æœ‰ç”¨æˆ·è¯·æ±‚å¹³æ»‘çš„è¿‡æ¸¡åˆ°æ–°çš„è¿›ç¨‹</span></span><br><span class="line">âœ  ~ ps -ef | grep nginx</span><br><span class="line">root      6680     1  0 12:17 ?        00:00:00 nginx: master process ./nginx</span><br><span class="line">nobody    6681  6680  0 12:17 ?        00:00:00 nginx: worker process</span><br><span class="line">root     31581  6680  0 12:29 ?        00:00:00 nginx: master process ./nginx</span><br><span class="line">nobody   31582 31581  0 12:29 ?        00:00:00 nginx: worker process</span><br><span class="line">root     31584  3601  0 12:29 pts/0    00:00:00 grep --color=auto nginx</span><br></pre></td></tr></table></figure>

<p>å‘è€ç‰ˆæœ¬çš„ <code>master</code> è¿›ç¨‹å‘é€ä¿¡å·ï¼Œè®©å…¶ä¼˜é›…å…³é—­æ‰€æœ‰ <code>worker</code> è¿›ç¨‹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ <span class="built_in">kill</span> -WINCH 6680</span><br><span class="line">âœ  ~ ps -ef | grep nginx</span><br><span class="line">root      6680     1  0 12:17 ?        00:00:00 nginx: master process ./nginx</span><br><span class="line">root     31581  6680  0 12:29 ?        00:00:00 nginx: master process ./nginx</span><br><span class="line">nobody   31582 31581  0 12:29 ?        00:00:00 nginx: worker process</span><br><span class="line">root     31587  3601  0 12:31 pts/0    00:00:00 grep --color=auto nginx</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>âš ï¸ æ³¨æ„</strong>ï¼šè€ç‰ˆæœ¬çš„ <code>master</code> è¿›ç¨‹ä¸ä¼šè‡ªåŠ¨é€€å‡ºï¼Œä»¥æ–¹ä¾¿æ‰§è¡Œç‰ˆæœ¬å›é€€æ“ä½œã€‚å½“æ–°ç‰ˆæœ¬ç¨³å®šè¿è¡Œåï¼Œå†å‘é€ä¿¡å·é€€å‡ºè€ç‰ˆæœ¬çš„ <code>master</code> è¿›ç¨‹ã€‚</p>
</blockquote>
<span id="more"></span>

<h3 id="2-ç‰ˆæœ¬å›é€€"><a href="#2-ç‰ˆæœ¬å›é€€" class="headerlink" title="2. ç‰ˆæœ¬å›é€€"></a>2. ç‰ˆæœ¬å›é€€</h3><ol>
<li><p>å‘è€ç‰ˆæœ¬çš„ Nginx è¿›ç¨‹å‘é€ä¿¡å·ï¼Œé‡å¯å…¶ <code>worker</code> è¿›ç¨‹</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ <span class="built_in">kill</span> -HUP 6680</span><br><span class="line">âœ  ~ ps -ef | grep nginx</span><br><span class="line">root      6680     1  0 12:17 ?        00:00:00 nginx: master process ./nginx</span><br><span class="line">root     31581  6680  0 12:29 ?        00:00:00 nginx: master process ./nginx</span><br><span class="line">nobody   31582 31581  0 12:29 ?        00:00:00 nginx: worker process</span><br><span class="line">nobody   31588  6680  0 12:35 ?        00:00:00 nginx: worker process</span><br><span class="line">root     31590  3601  0 12:35 pts/0    00:00:00 grep --color=auto nginx</span><br></pre></td></tr></table></figure></li>
</ol>
<ol start="2">
<li><p>ç­‰è€ç‰ˆæœ¬çš„ Nginx <code>worker</code> è¿›ç¨‹å¯åŠ¨åï¼Œå‘æ–°ç‰ˆæœ¬çš„ Nginx <code>master</code> è¿›ç¨‹å‘é€ä¿¡å·ï¼Œè®©å…¶é€€å‡ºæ‰“å¼€çš„æ‰€æœ‰ <code>worker</code> è¿›ç¨‹</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ <span class="built_in">kill</span> -WINCH 31581</span><br><span class="line">âœ  ~ ps -ef | grep nginx</span><br><span class="line">root      6680     1  0 12:17 ?        00:00:00 nginx: master process ./nginx</span><br><span class="line">root     31581  6680  0 12:29 ?        00:00:00 nginx: master process ./nginx</span><br><span class="line">nobody   31588  6680  0 12:35 ?        00:00:00 nginx: worker process</span><br><span class="line">root     31590  3601  0 12:35 pts/0    00:00:00 grep --color=auto nginx</span><br></pre></td></tr></table></figure></li>
<li><p>æœ€åé€€å‡ºæ–°ç‰ˆæœ¬çš„ <code>master</code> è¿›ç¨‹</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ <span class="built_in">kill</span> -QUIT 31581</span><br><span class="line">âœ  ~ ps -ef | grep nginx</span><br><span class="line">root      6680     1  0 12:17 ?        00:00:00 nginx: master process ./nginx</span><br><span class="line">nobody   31588  6680  0 12:35 ?        00:00:00 nginx: worker process</span><br><span class="line">root     31592  3601  0 12:36 pts/0    00:00:00 grep --color=auto nginx</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Nginx</tag>
      </tags>
  </entry>
  <entry>
    <title>é…ç½® Nginx è¾“å…¥ç”¨æˆ·åå’Œå¯†ç æ‰èƒ½è®¿é—®</title>
    <url>/post/2256713588.html</url>
    <content><![CDATA[<blockquote>
<p>åœºæ™¯ï¼šä¸€ä¸ªå¤–ç½‘è®¿é—®åœ°å€ï¼Œä¸å¸Œæœ›å¯¹å…¨éƒ¨äººå¯è§ï¼Œå¸Œæœ›åªæœ‰æ­£ç¡®è¾“å…¥ç”¨æˆ·åã€å¯†ç çš„äººæ‰èƒ½è®¿é—®æ—¶ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹ Nginx é…ç½®å®ç°ã€‚</p>
</blockquote>
<h3 id="1-æ£€æŸ¥-htpasswd-æ˜¯å¦å¯ç”¨"><a href="#1-æ£€æŸ¥-htpasswd-æ˜¯å¦å¯ç”¨" class="headerlink" title="1. æ£€æŸ¥ htpasswd æ˜¯å¦å¯ç”¨"></a>1. æ£€æŸ¥ htpasswd æ˜¯å¦å¯ç”¨</h3><p>æˆ‘ä»¬ä¼šç”¨åˆ°ä¸€ä¸ªå·¥å…· <code>htpasswd</code>ï¼Œä¸»è¦ç”¨äºå¯¹è®¿é—®å¯†ç åŠ å¯†ï¼ˆ<strong>æ³¨ï¼šåƒä¸‡ä¸è¦ç›´æ¥å­˜æ˜æ–‡å¯†ç ï¼ï¼ï¼</strong>ï¼‰ï¼Œå¯ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥æ˜¯å¦å·²ç»å®‰è£…ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sq@host01:~$ <span class="built_in">which</span> htpasswd</span><br><span class="line">/usr/bin/htpasswd</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ²¡æœ‰è¿™ä¸ªå·¥å…·ï¼Œéœ€è¦å…ˆå®‰è£…ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Ubuntu</span></span><br><span class="line">$ sudo apt-get install -y apache2-utils</span><br><span class="line"></span><br><span class="line"><span class="comment"># CentOS</span></span><br><span class="line">$ yum -y install httpd-tools</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h3 id="2-ç”Ÿæˆå¯†é’¥æ–‡ä»¶"><a href="#2-ç”Ÿæˆå¯†é’¥æ–‡ä»¶" class="headerlink" title="2. ç”Ÿæˆå¯†é’¥æ–‡ä»¶"></a>2. ç”Ÿæˆå¯†é’¥æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># /etc/nginx/.htpasswd æ˜¯ç”Ÿæˆçš„ç”¨æˆ·åã€å¯†ç æ–‡ä»¶åŠå­˜æ”¾è·¯å¾„ã€‚</span></span><br><span class="line"><span class="comment"># æ ¹æ®è‡ªå·±çš„æƒ…å†µå­˜æ”¾åˆ°ä¸€ä¸ªåˆé€‚ä½ç½®ï¼Œåé¢ä¿®æ”¹ Nginx é…ç½®æ–‡ä»¶çš„æ—¶å€™ä¼šç”¨åˆ°ã€‚</span></span><br><span class="line">$ htpasswd -c /etc/nginx/.htpasswd admin</span><br><span class="line">New password:</span><br><span class="line">Re-type new password:</span><br><span class="line">Adding password <span class="keyword">for</span> user admin</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ç”Ÿæˆçš„æ–‡ä»¶å†…å®¹å¦‚ä¸‹</span></span><br><span class="line">$ cat /etc/nginx/.htpasswd</span><br><span class="line">admin:$apr1$pCPJOCsr<span class="variable">$pyVB5i</span>.K/CuUPHGeWm6XN1</span><br></pre></td></tr></table></figure>

<h3 id="3-é…ç½®-Nginx-å¹¶é‡å¯"><a href="#3-é…ç½®-Nginx-å¹¶é‡å¯" class="headerlink" title="3. é…ç½® Nginx å¹¶é‡å¯"></a>3. é…ç½® Nginx å¹¶é‡å¯</h3><p>å¦‚ä¸‹ä¿®æ”¹ Nginx é…ç½®ï¼š</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">  <span class="attribute">listen</span>       <span class="number">80</span>;</span><br><span class="line">  <span class="attribute">server_name</span>  demo.xxx.com; <span class="comment"># éœ€è¦æ§åˆ¶è®¿é—®çš„åŸŸå</span></span><br><span class="line">  <span class="attribute">location</span> / &#123;</span><br><span class="line">    <span class="attribute">root</span>   /data/wwwroot/demo;</span><br><span class="line">    <span class="attribute">index</span>  index.htm index.html;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ...</span></span><br><span class="line"></span><br><span class="line">    <span class="attribute">auth_basic</span> <span class="string">&quot;Restricted&quot;</span>; <span class="comment"># å¼¹çª—ä¸Šçš„æç¤ºä¿¡æ¯ï¼ˆæœ‰äº›æµè§ˆå™¨ä¸æ˜¾ç¤ºï¼‰</span></span><br><span class="line">    <span class="attribute">auth_basic_user_file</span> /etc/nginx/.htpasswd; <span class="comment"># ç”Ÿæˆçš„ç”¨æˆ·åã€å¯†ç æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é‡å¯ Nginxï¼Œè®¿é—® <code>demo.xxx.com</code> å³å¯çœ‹åˆ°ç”¨æˆ·åã€å¯†ç è¾“å…¥æ¡†ã€‚</p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Nginx</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux ä¸‹ MySQL è‡ªåŠ¨å¤‡ä»½è„šæœ¬</title>
    <url>/post/3905919184.html</url>
    <content><![CDATA[<blockquote>
<p>åŸºäº mysqldump å‘½ä»¤åˆ›å»ºçš„è„šæœ¬ï¼Œæ”¯æŒè‡ªåŠ¨å¤‡ä»½1ä¸ªæˆ–å¤šä¸ªæ•°æ®åº“åˆ°æŒ‡å®šç›®å½•ï¼Œå¦‚æœéœ€è¦å¤‡ä»½åˆ°æœ¬åœ°ï¼Œè¯·å‚è€ƒï¼š<a href="/post/3997579074.html">ä½¿ç”¨ Shell å¤‡ä»½è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„ MySQL æ•°æ®åº“åˆ°æœ¬æœº</a></p>
</blockquote>
<span id="more"></span>

<h3 id="1-æºç "><a href="#1-æºç " class="headerlink" title="1. æºç "></a>1. æºç </h3><p>æ–°å»º Shell è„šæœ¬æ–‡ä»¶ï¼š<code>mysqlDump.sh</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">################################################</span></span><br><span class="line"><span class="comment"># <span class="doctag">TODO:</span> å¤‡ä»½å½“å‰æœåŠ¡å™¨ä¸ŠæŒ‡å®šçš„æ•°æ®åº“ï¼ˆå¤šä¸ªåº“ï¼Œä»¥ , åˆ†éš”ï¼‰</span></span><br><span class="line"><span class="comment"># ç¤ºä¾‹ï¼š</span></span><br><span class="line"><span class="comment">#       ./mysqlDump.sh å¤‡ä»½é»˜è®¤è®¾ç½®çš„æ•°æ®åº“</span></span><br><span class="line"><span class="comment">#       ./mysqlDump.sh db_name1,db_name2,... å¤‡ä»½æŒ‡å®šåç§°çš„æ•°æ®åº“</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># File: https://github.com/whorusq/linux-learning/blob/master/shell/mysqlDump.sh</span></span><br><span class="line"><span class="comment"># Author: whoru.S.Q &lt;whoru@sqiang.net&gt;</span></span><br><span class="line"><span class="comment"># Version: 1.0</span></span><br><span class="line"><span class="comment">################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ•°æ®åº“è¿æ¥å‚æ•°</span></span><br><span class="line">DB_HOST=<span class="string">&quot;127.0.0.1&quot;</span></span><br><span class="line">DB_USER=<span class="string">&quot;root&quot;</span></span><br><span class="line">DB_PWD=<span class="string">&quot;&quot;</span></span><br><span class="line">DB_PORT=<span class="string">&quot;3306&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¾…å¤‡ä»½çš„æ•°æ®åº“åç§°ï¼Œå¤šä¸ªåº“æ—¶ä»¥ , åˆ†éš”</span></span><br><span class="line">DB_NAME=</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤‡ä»½æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">DUMP_FILE_PATH=/opt/backup</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> main &#123;</span><br><span class="line">    <span class="comment"># å‚æ•°æ£€æŸ¥</span></span><br><span class="line">    <span class="comment"># å¦‚æœå½“å‰è„šæœ¬åœ¨æ‰§è¡Œæ—¶ä¼ é€’äº†å‚æ•°ï¼Œåˆ™ä¼˜å…ˆçº§é«˜äºå½“å‰è„šæœ¬æ–‡ä»¶ä¸­å˜é‡çš„é»˜è®¤è®¾ç½®</span></span><br><span class="line">    <span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$1</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        DB_NAME=<span class="variable">$1</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">if</span> [ ! <span class="string">&quot;<span class="variable">$DB_NAME</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">            <span class="built_in">read</span> -p <span class="string">&quot;è¯·è¾“å…¥è¦å¤‡ä»½çš„æ•°æ®åº“åç§°ï¼š&quot;</span> dbname</span><br><span class="line">            DB_NAME=<span class="variable">$dbname</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ£€æŸ¥å¤‡ä»½ç›®å½•æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">    <span class="keyword">if</span> [ ! -d <span class="string">&quot;<span class="variable">$DUMP_FILE_PATH</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        mkdir -p <span class="variable">$DUMP_FILE_PATH</span></span><br><span class="line">        <span class="keyword">if</span> [ <span class="string">&quot;$?&quot;</span> -ne <span class="string">&quot;0&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">            <span class="built_in">echo</span> -en <span class="string">&quot;æ— æ³•åˆ›å»ºå¤‡ä»½æ–‡ä»¶ç›®å½•ï¼š<span class="variable">$DUMP_FILE_PATH</span>&quot;</span></span><br><span class="line">            <span class="built_in">exit</span> 1</span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ“ä½œå¼€å§‹</span></span><br><span class="line">    OLD_IFS=<span class="string">&quot;<span class="variable">$IFS</span>&quot;</span></span><br><span class="line">    IFS=<span class="string">&quot;,&quot;</span></span><br><span class="line">    arr=(<span class="variable">$DB_NAME</span>)</span><br><span class="line">    IFS=<span class="string">&quot;<span class="variable">$OLD_IFS</span>&quot;</span></span><br><span class="line">    <span class="keyword">for</span> db <span class="keyword">in</span> <span class="variable">$&#123;arr[@]&#125;</span></span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        <span class="comment"># echo &quot;$db&quot;</span></span><br><span class="line">        doDump <span class="variable">$db</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> doDump &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">echo</span> -en <span class="string">&quot;\n\033[32m==&gt;\033[0m å¼€å§‹å¤‡ä»½æ•°æ®åº“ï¼š<span class="variable">$1</span>\n&quot;</span></span><br><span class="line"></span><br><span class="line">    dump_date=`date +%Y%m%d%H%M%S`</span><br><span class="line">    dump_file=<span class="variable">$1</span><span class="string">&quot;_&quot;</span><span class="variable">$dump_date</span><span class="string">&quot;.sql&quot;</span></span><br><span class="line">    final_dump_file=<span class="variable">$dump_file</span><span class="string">&quot;.tar.gz&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¤‡ä»½</span></span><br><span class="line">    <span class="comment"># è€ƒè™‘è¿˜åŸæ•°æ®åº“æ—¶çš„é€šç”¨æ€§ï¼Œå¤‡ä»½çš„åŒæ—¶ä¸æ‰§è¡Œå‹ç¼©æ“ä½œ</span></span><br><span class="line">    $(<span class="built_in">which</span> mysqldump) -u<span class="variable">$DB_USER</span> -p<span class="variable">$DB_PWD</span> -P <span class="variable">$DB_PORT</span> <span class="variable">$DB_NAME</span> &gt; <span class="variable">$dump_file</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;$?&quot;</span> -ne <span class="string">&quot;0&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> -en <span class="string">&quot;æ“ä½œå¤±è´¥&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> 1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å‹ç¼©ã€è½¬ç§»å¤‡ä»½çš„æ–‡ä»¶</span></span><br><span class="line">    tar -zcvf <span class="variable">$final_dump_file</span> <span class="variable">$dump_file</span></span><br><span class="line">    mv <span class="variable">$final_dump_file</span> <span class="variable">$DUMP_FILE_PATH</span></span><br><span class="line">    rm -rf <span class="variable">$dump_file</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">echo</span> -en <span class="string">&quot;\n\033[32m==&gt;\033[0m å¤‡ä»½å®Œæˆï¼Œç”Ÿæˆå¤‡ä»½æ–‡ä»¶ï¼š<span class="variable">$DUMP_FILE_PATH</span>/<span class="variable">$final_dump_file</span>\n&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡Œ</span></span><br><span class="line">main <span class="variable">$1</span></span><br></pre></td></tr></table></figure>

<h3 id="2-ä½¿ç”¨è¯´æ˜"><a href="#2-ä½¿ç”¨è¯´æ˜" class="headerlink" title="2. ä½¿ç”¨è¯´æ˜"></a>2. ä½¿ç”¨è¯´æ˜</h3><ol>
<li><p>ä½¿ç”¨å‰å…ˆè®¾ç½®æ•°æ®åº“è¿æ¥å‚æ•°</p>
</li>
<li><p>è®¾ç½®å¾…å¤‡ä»½çš„æ•°æ®åº“åç§°</p>
<ul>
<li>æ–¹å¼ä¸€ï¼šåœ¨è„šæœ¬æ–‡ä»¶é‡Œä¿®æ”¹å˜é‡ DB_NAME</li>
<li>æ–¹å¼äºŒï¼šè¿è¡Œè„šæœ¬æ—¶åŠ¨æ€ä¼ å‚ï¼Œå¦‚ <code>./mysqlDump.sh db_name</code></li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼šè„šæœ¬è¿è¡Œå‚æ•°ä¼˜å…ˆçº§é«˜äºè„šæœ¬æ–‡ä»¶ä¸­çš„è®¾ç½®ï¼›å¾…å¤‡ä»½çš„æ•°æ®åº“åç§°æ”¯æŒå¤šä¸ªï¼Œä»¥ <code>,</code> åˆ†éš”ã€‚</p>
</blockquote>
</li>
</ol>
<h3 id="3-ç¤ºä¾‹"><a href="#3-ç¤ºä¾‹" class="headerlink" title="3. ç¤ºä¾‹"></a>3. ç¤ºä¾‹</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ./mysqlDump.sh online_v3.0</span><br><span class="line"></span><br><span class="line">==&gt; å¼€å§‹å¤‡ä»½æ•°æ®åº“ï¼šonline_v3.0</span><br><span class="line">Warning: Using a password on the <span class="built_in">command</span> line interface can be insecure.</span><br><span class="line">online_v3.0_20181012164400.sql</span><br><span class="line"></span><br><span class="line">==&gt; å¤‡ä»½å®Œæˆï¼Œç”Ÿæˆå¤‡ä»½æ–‡ä»¶ï¼š/opt/backup/online_v3.0_20181012164400.sql.tar.gz</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>MySQL</tag>
        <tag>Shell</tag>
      </tags>
  </entry>
  <entry>
    <title>Shell è„šæœ¬å…¥é—¨åŠè¯­æ³•é€ŸæŸ¥</title>
    <url>/post/3078944762.html</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡ä¸»è¦ä»‹ç» Linux ä¸‹ Shell çš„åˆ†ç±»åŠåŸºæœ¬è¯­æ³•ã€‚</p>
</blockquote>
<span id="more"></span>

<h3 id="1-Hello-World"><a href="#1-Hello-World" class="headerlink" title="1. Hello World"></a>1. Hello World</h3><h4 id="1-1-åŸºæœ¬ç»“æ„"><a href="#1-1-åŸºæœ¬ç»“æ„" class="headerlink" title="1.1. åŸºæœ¬ç»“æ„"></a>1.1. åŸºæœ¬ç»“æ„</h4><p>åˆ›å»º <code>helloWorld.sh</code> æ–‡ä»¶ï¼Œå†™å…¥å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;hello world&quot;</span></span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ <code>#!</code> å‘Šè¯‰ç³»ç»Ÿå…¶åè·¯å¾„æ‰€æŒ‡å®šçš„ç¨‹åºæ˜¯è§£é‡Šæ­¤è„šæœ¬æ–‡ä»¶çš„ Shell ç¨‹åºï¼Œå¸¸è§çš„ Shell ç¨‹åºæœ‰ä»¥ä¸‹å‡ ç±»ï¼ˆå¯é€šè¿‡å‘½ä»¤ <code>cat /etc/shells</code> æŸ¥çœ‹ï¼‰ï¼š</p>
<ul>
<li>Bourne Shellï¼ˆ/usr/bin/shæˆ–/bin/shï¼‰</li>
<li>Bourne Again Shellï¼ˆ/bin/bashï¼‰</li>
<li>C Shellï¼ˆ/usr/bin/cshï¼‰</li>
<li>K Shellï¼ˆ/usr/bin/kshï¼‰</li>
<li>Shell for Rootï¼ˆ/sbin/shï¼‰</li>
<li>â€¦â€¦</li>
</ul>
<p>å…¶ä¸­ <strong>Bash</strong> åœ¨æ—¥å¸¸å·¥ä½œä¸­è¢«å¹¿æ³›ä½¿ç”¨ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å¤§å¤šæ•° Linux ç³»ç»Ÿé»˜è®¤çš„ Shellã€‚</p>
<p>æ‰§è¡Œè¯¥ sh è„šæœ¬</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¢åŠ å¯æ‰§è¡Œæƒé™</span></span><br><span class="line">âœ  chmod u+x helloWorld.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡Œè„šæœ¬</span></span><br><span class="line">âœ  ./helloWorld.sh</span><br><span class="line">æˆ–</span><br><span class="line">âœ  sh hellowWorld.sh</span><br></pre></td></tr></table></figure>
<h4 id="1-2-æ³¨é‡Š"><a href="#1-2-æ³¨é‡Š" class="headerlink" title="1.2. æ³¨é‡Š"></a>1.2. æ³¨é‡Š</h4><p>å•è¡Œæ³¨é‡Š</p>
<ul>
<li>ä»¥ <code>#</code> å¼€å¤´çš„è¡Œæ˜¯æ³¨é‡Š</li>
</ul>
<p>å¤šè¡Œæ³¨é‡Š</p>
<ul>
<li><p>æ–¹å¼ä¸€ï¼šç”¨ä¸€å¯¹ <code>&#123;&#125;</code> æ‹¬èµ·æ¥ï¼Œå®šä¹‰æˆä¸€ä¸ªå‡½æ•°ï¼Œæ²¡æœ‰åœ°æ–¹è°ƒç”¨å³è¾¾åˆ°æ³¨é‡Šçš„æ•ˆæœã€‚</p>
</li>
<li><p>æ–¹å¼äºŒï¼š</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">:&lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">æ³¨é‡Šå†…å®¹...</span></span><br><span class="line"><span class="string">æ³¨é‡Šå†…å®¹...</span></span><br><span class="line"><span class="string">æ³¨é‡Šå†…å®¹...</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-åŸºæœ¬è¯­æ³•"><a href="#2-åŸºæœ¬è¯­æ³•" class="headerlink" title="2. åŸºæœ¬è¯­æ³•"></a>2. åŸºæœ¬è¯­æ³•</h3><h4 id="2-1-å˜é‡"><a href="#2-1-å˜é‡" class="headerlink" title="2.1. å˜é‡"></a>2.1. å˜é‡</h4><ul>
<li><p>å˜é‡å®šä¹‰</p>
<ul>
<li>å˜é‡åå»ºè®®å¤§å†™ï¼›</li>
<li>æœ‰æ•ˆå­—ç¬¦ä»…èƒ½åŒ…å«å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼Œé¦–ä¸ªå­—ç¬¦ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼›</li>
<li><code>=</code> ä¸¤è¾¹ä¸èƒ½æœ‰ç©ºæ ¼ï¼›</li>
<li>ä¸èƒ½ä½¿ç”¨æ ‡ç‚¹ç¬¦å·ï¼›</li>
<li>ä¸èƒ½ä½¿ç”¨ bash é‡Œçš„å…³é”®å­—ï¼ˆå¯ç”¨ <code>help</code> å‘½ä»¤æŸ¥çœ‹ä¿ç•™å…³é”®å­—ï¼‰ã€‚</li>
</ul>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç¤ºä¾‹</span></span><br><span class="line">VAR1=<span class="string">&quot;whoru&quot;</span></span><br><span class="line">VAR2=100</span><br><span class="line">var3=/data/www</span><br><span class="line">var4_name=<span class="string">&quot;root&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><p>è®¿é—®å˜é‡ <code>$VAR1</code> æˆ– <code>$(var1)</code>ï¼Œå…¶ä¸­ï¼ŒåŠ èŠ±æ‹¬å·æ˜¯ä¸ºäº†å¸®åŠ©è§£é‡Šå™¨è¯†åˆ«å˜é‡çš„è¾¹ç•Œã€‚</p>
</li>
<li><p>è®¾ç½®å˜é‡åªè¯» <code>readonly VAR1</code></p>
</li>
<li><p>åˆ é™¤å˜é‡ï¼ˆ<strong>ä¸é€‚ç”¨äºåªè¯»å˜é‡ï¼</strong>ï¼‰ <code>unset VAR1</code></p>
</li>
<li><p>å±€éƒ¨ã€å…¨å±€å˜é‡</p>
<ul>
<li>ä¸åšç‰¹æ®Šå£°æ˜ï¼Œshell ä¸­æ‰€æœ‰å˜é‡éƒ½æ˜¯<strong>å…¨å±€å˜é‡</strong>ã€‚</li>
<li>å¯ä»¥ä½¿ç”¨å…³é”®å­— <code>local</code> å®šä¹‰å±€éƒ¨å˜é‡ã€‚</li>
<li><em>å¦‚æœå‡½æ•°å†…éƒ¨å’Œå¤–éƒ¨å­˜åœ¨åŒåå˜é‡ï¼Œåˆ™å†…éƒ¨ä¼šè¦†ç›–å¤–éƒ¨</em>ã€‚</li>
</ul>
</li>
</ul>
<h4 id="2-2-å­—ç¬¦ä¸²"><a href="#2-2-å­—ç¬¦ä¸²" class="headerlink" title="2.2. å­—ç¬¦ä¸²"></a>2.2. å­—ç¬¦ä¸²</h4><ul>
<li><p>å€¼ç”¨åŒå¼•å· <code>&quot;&quot;</code> æˆ–å•å¼•å· <code>&#39;&#39;</code> è¡¨ç¤º</p>
<ul>
<li>å•å¼•å·å•é™åˆ¶ï¼š<ul>
<li>å•å¼•å·é‡Œçš„ä»»ä½•å­—ç¬¦éƒ½ä¼šåŸæ ·è¾“å‡ºï¼›</li>
<li>å•å¼•å·å­—ç¬¦ä¸²ä¸­çš„å˜é‡æ˜¯æ— æ•ˆçš„ï¼›</li>
</ul>
</li>
<li>åŒå¼•å·çš„ä¼˜ç‚¹ï¼š<ul>
<li>åŒå¼•å·é‡Œå¯ä»¥æœ‰å˜é‡ï¼›</li>
<li>åŒå¼•å·é‡Œå¯ä»¥å‡ºç°è½¬ä¹‰å­—ç¬¦ï¼›</li>
</ul>
</li>
</ul>
</li>
<li><p>å…¶å®ƒ</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å­—ç¬¦ä¸²æ‹¼æ¥</span></span><br><span class="line">name=<span class="string">&quot;xiaoming&quot;</span></span><br><span class="line">var2=<span class="string">&quot;hello, &quot;</span><span class="variable">$name</span> <span class="comment"># è¾“å‡º hello, xiaoming</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–å­—ç¬¦ä¸²é•¿åº¦</span></span><br><span class="line">string=<span class="string">&quot;abcd&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;#string&#125;</span> <span class="comment"># è¾“å‡º 4</span></span><br><span class="line"><span class="built_in">echo</span> `expr length <span class="string">&quot;<span class="variable">$string</span>&quot;</span>` <span class="comment"># è¾“å‡º 4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æå–å­å­—ç¬¦ä¸²</span></span><br><span class="line">msg=<span class="string">&quot;zhangsan is a good man&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;msg:1:4&#125;</span> <span class="comment"># è¾“å‡º hang</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;msg: -3&#125;</span> <span class="comment"># è¾“å‡º man</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="2-3-æ•°ç»„"><a href="#2-3-æ•°ç»„" class="headerlink" title="2.3. æ•°ç»„"></a>2.3. æ•°ç»„</h4><ul>
<li><p>bash æ”¯æŒä¸€ç»´æ•°ç»„ï¼ˆ<strong>ä¸æ”¯æŒå¤šç»´æ•°ç»„</strong>ï¼‰ï¼Œå¹¶ä¸”æ²¡æœ‰é™å®šæ•°ç»„çš„å¤§å°ã€‚</p>
</li>
<li><p>æ•°ç»„å…ƒç´ çš„ä¸‹æ ‡ç”± 0 å¼€å§‹ï¼Œè·å–æ•°ç»„å…ƒç´ è¦ç”¨åˆ°ä¸‹æ ‡ã€‚</p>
</li>
<li><p>å®šä¹‰ï¼š</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">array1=(value0 value1 value2 value3)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line"></span><br><span class="line">array2[0]=value0</span><br><span class="line">array2[1]=value1</span><br><span class="line">array2[2]=value2</span><br></pre></td></tr></table></figure></li>
<li><p>è¯»å–</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŒ‡å®šä¸‹æ ‡çš„å…ƒç´ </span></span><br><span class="line">âœ  <span class="built_in">echo</span> <span class="variable">$&#123;array2[2]&#125;</span>; // è¾“å‡º value2</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æ•°ç»„æ‰€æœ‰å…ƒç´ </span></span><br><span class="line">âœ  <span class="built_in">echo</span> <span class="variable">$&#123;array2[*]&#125;</span>; // è¾“å‡º value0 value1 value2</span><br><span class="line">âœ  <span class="built_in">echo</span> <span class="variable">$&#123;array2[@]&#125;</span></span><br></pre></td></tr></table></figure></li>
<li><p>è·å–æ•°ç»„å…ƒç´ ä¸ªæ•°</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">echo</span> <span class="variable">$&#123;#array2[@]&#125;</span>; // è¾“å‡º 3</span><br><span class="line">âœ  <span class="built_in">echo</span> <span class="variable">$&#123;#array2[*]&#125;</span>;</span><br></pre></td></tr></table></figure></li>
<li><p>å–å¾—æ•°ç»„ä¸­æŒ‡å®šä¸‹æ ‡å…ƒç´ çš„å­—ç¬¦é•¿åº¦</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">echo</span> <span class="variable">$&#123;#array2[2]&#125;</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="2-4-ä¼ é€’å‚æ•°"><a href="#2-4-ä¼ é€’å‚æ•°" class="headerlink" title="2.4. ä¼ é€’å‚æ•°"></a>2.4. ä¼ é€’å‚æ•°</h4><p>åœ¨æ‰§è¡Œ Shell è„šæœ¬æ—¶ï¼Œå¯ä»¥å‘è„šæœ¬ä¼ é€’å‚æ•°ï¼Œè„šæœ¬å†…è·å–å‚æ•°çš„æ ¼å¼ä¸º <code>$n</code>ï¼Œè¿™é‡Œçš„ <strong>n</strong> æŒ‡ä¼ é€’ç»™è„šæœ¬çš„ç¬¬ <strong>n</strong> ä¸ªå‚æ•°ã€‚</p>
<p>å¦‚ä¸‹è„šæœ¬æ–‡ä»¶ <code>demo.sh</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;æ‰§è¡Œçš„æ–‡ä»¶åï¼š<span class="variable">$0</span>&quot;</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼š<span class="variable">$1</span>&quot;</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ç¬¬äºŒä¸ªå‚æ•°ä¸ºï¼š<span class="variable">$2</span>&quot;</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºï¼š<span class="variable">$3</span>&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œè¯¥æ–‡ä»¶ï¼Œå¹¶ä¼ é€’å‚æ•°ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ./demo3.sh param1 param2 param3</span><br><span class="line">æ‰§è¡Œçš„æ–‡ä»¶åï¼š./demo3.sh</span><br><span class="line">ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼šparam1</span><br><span class="line">ç¬¬äºŒä¸ªå‚æ•°ä¸ºï¼šparam2</span><br><span class="line">ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºï¼šparam3</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œ<code>$0</code> æ˜¯ä¸€ä¸ªç‰¹æ®Šå˜é‡ï¼Œä»£è¡¨å½“å‰è„šæœ¬æ–‡ä»¶åï¼Œè¿˜æœ‰å‡ ä¸ªç±»ä¼¼çš„å˜é‡å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>å˜é‡</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>$#</td>
<td>ä¼ é€’ç»™è„šæœ¬çš„å‚æ•°ä¸ªæ•°ã€‚</td>
</tr>
<tr>
<td>$*</td>
<td>ä»¥ä¸€ä¸ªå•å­—ç¬¦ä¸²çš„å½¢å¼æ˜¾ç¤ºæ‰€æœ‰å‘è„šæœ¬ä¼ é€’çš„å‚æ•°ï¼Œå¦‚ <code>&quot;$1 $2 ... $n&quot;</code></td>
</tr>
<tr>
<td>$@</td>
<td>ä¸ <code>$*</code> ç›¸åŒï¼Œä½†æ˜¯ä½¿ç”¨å¼•å·æŠŠæ¯ä¸ªå‚æ•°åŒ…è£¹èµ·æ¥ï¼Œå¦‚ <code>&quot;$1&quot; &quot;$2&quot; ... &quot;$n&quot;</code></td>
</tr>
<tr>
<td>$?</td>
<td>æœ€åä¸€ä¸ªæ‰§è¡Œçš„å‘½ä»¤çš„é€€å‡ºçŠ¶æ€ï¼š0 æ­£å¸¸ï¼›1 æˆ–å…¶å®ƒä»»ä½•å€¼ï¼Œè¡¨ç¤ºæœ‰é”™è¯¯</td>
</tr>
<tr>
<td>$$</td>
<td>è„šæœ¬è¿è¡Œçš„å½“å‰è¿›ç¨‹IDå·</td>
</tr>
<tr>
<td>$!</td>
<td>æœ€åä¸€ä¸ªåå°å‘½ä»¤çš„è¿›ç¨‹å·ã€‚</td>
</tr>
</tbody></table>
<h3 id="3-è¿ç®—ç¬¦"><a href="#3-è¿ç®—ç¬¦" class="headerlink" title="3. è¿ç®—ç¬¦"></a>3. è¿ç®—ç¬¦</h3><h4 id="3-1-ç®—æ•°è¿ç®—ç¬¦"><a href="#3-1-ç®—æ•°è¿ç®—ç¬¦" class="headerlink" title="3.1. ç®—æ•°è¿ç®—ç¬¦"></a>3.1. ç®—æ•°è¿ç®—ç¬¦</h4><blockquote>
<p>åŸç”Ÿ bash ä¸æ”¯æŒç®€å•çš„æ•°å­¦è¿ç®—ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡å…¶ä»–å‘½ä»¤æ¥å®ç°ï¼Œä¾‹å¦‚ awk å’Œ exprï¼Œå…¶ä¸­ <strong>expr</strong> æœ€å¸¸ç”¨ã€‚</p>
</blockquote>
<p>å‡å®šæœ‰ä¸¤ä¸ªå˜é‡ï¼š<code>a=10</code> <code>b=20</code></p>
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>è¯´æ˜</th>
<th>ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><code>+</code></td>
<td>åŠ æ³•</td>
<td><code>`expr $a + $b`</code> ç»“æœä¸º 30ã€‚</td>
</tr>
<tr>
<td><code>-</code></td>
<td>å‡æ³•</td>
<td><code>`expr $a - $b`</code> ç»“æœä¸º -10ã€‚</td>
</tr>
<tr>
<td><code>*</code></td>
<td>ä¹˜æ³•</td>
<td><code>`expr $a \* $b`</code> ç»“æœä¸º  200ã€‚</td>
</tr>
<tr>
<td><code>/</code></td>
<td>é™¤æ³•</td>
<td><code>`expr $b / $a`</code> ç»“æœä¸º 2ã€‚</td>
</tr>
<tr>
<td><code>%</code></td>
<td>å–ä½™</td>
<td><code>`expr $b % $a`</code> ç»“æœä¸º 0ã€‚</td>
</tr>
<tr>
<td><code>=</code></td>
<td>èµ‹å€¼</td>
<td><code>a=$b</code> å°†æŠŠå˜é‡ b çš„å€¼èµ‹ç»™ aã€‚</td>
</tr>
<tr>
<td><code>==</code></td>
<td>ç”¨äºæ¯”è¾ƒä¸¤ä¸ªæ•°å­—æ˜¯å¦ç›¸åŒ</td>
<td><code>[ $a == $b ]</code> è¿”å› falseã€‚</td>
</tr>
<tr>
<td><code>!=</code></td>
<td>ç”¨äºæ¯”è¾ƒä¸¤ä¸ªæ•°å­—æ˜¯å¦ä¸ç›¸åŒ</td>
<td><code>[ $a != $b ]</code> è¿”å› trueã€‚</td>
</tr>
</tbody></table>
<p><strong>æ³¨æ„</strong>ï¼š</p>
<ul>
<li>è¡¨è¾¾å¼å’Œè¿ç®—ç¬¦ä¹‹é—´è¦æœ‰ç©ºæ ¼ï¼Œå¦‚ <code>2+2</code> æ˜¯é”™è¯¯çš„ï¼Œå¿…é¡»å†™æˆ <code>2 + 2</code>;</li>
<li>å®Œæ•´çš„è¡¨è¾¾å¼è¦è¢«åå¼•å· <code>` `</code> åŒ…è£¹èµ·æ¥ï¼›</li>
</ul>
<h4 id="3-2-å…³ç³»è¿ç®—ç¬¦"><a href="#3-2-å…³ç³»è¿ç®—ç¬¦" class="headerlink" title="3.2. å…³ç³»è¿ç®—ç¬¦"></a>3.2. å…³ç³»è¿ç®—ç¬¦</h4><blockquote>
<p>å…³ç³»è¿ç®—ç¬¦åªæ”¯æŒæ•°å­—ï¼Œä¸æ”¯æŒå­—ç¬¦ä¸²ï¼Œé™¤éå­—ç¬¦ä¸²çš„å€¼æ˜¯æ•°å­—ã€‚</p>
</blockquote>
<p>å‡å®šæœ‰ä¸¤ä¸ªå˜é‡ï¼š<code>a=10</code> <code>b=20</code></p>
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>è¯´æ˜</th>
<th>ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><code>-eq</code></td>
<td>æ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ç›¸ç­‰</td>
<td><code>[ $a -eq $b ]</code> è¿”å› falseã€‚</td>
</tr>
<tr>
<td><code>-ne</code></td>
<td>æ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ä¸ç›¸ç­‰</td>
<td><code>[ $a -ne $b ]</code> è¿”å› trueã€‚</td>
</tr>
<tr>
<td><code>-gt</code></td>
<td>æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å¤§äºå³è¾¹çš„</td>
<td><code>[ $a -gt $b ]</code> è¿”å› falseã€‚</td>
</tr>
<tr>
<td><code>-lt</code></td>
<td>æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å°äºå³è¾¹çš„</td>
<td><code>[ $a -lt $b ]</code> è¿”å› trueã€‚</td>
</tr>
<tr>
<td><code>-ge</code></td>
<td>æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å¤§äºç­‰äºå³è¾¹çš„</td>
<td><code>[ $a -ge $b ]</code> è¿”å› falseã€‚</td>
</tr>
<tr>
<td><code>-le</code></td>
<td>æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å°äºç­‰äºå³è¾¹çš„</td>
<td><code>[ $a -le $b ]</code> è¿”å› trueã€‚</td>
</tr>
</tbody></table>
<h4 id="3-3-å¸ƒå°”æ“ä½œç¬¦"><a href="#3-3-å¸ƒå°”æ“ä½œç¬¦" class="headerlink" title="3.3. å¸ƒå°”æ“ä½œç¬¦"></a>3.3. å¸ƒå°”æ“ä½œç¬¦</h4><p>å‡å®šæœ‰ä¸¤ä¸ªå˜é‡ï¼š<code>a=10</code> <code>b=20</code></p>
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>è¯´æ˜</th>
<th>ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><code>!</code></td>
<td>éè¿ç®—ï¼Œè¡¨è¾¾å¼ä¸º true åˆ™è¿”å› falseï¼Œå¦åˆ™è¿”å› trueã€‚</td>
<td><code>[ ! false ]</code> è¿”å› trueã€‚</td>
</tr>
<tr>
<td><code>-o</code></td>
<td>æˆ–è¿ç®—ï¼Œæœ‰ä¸€ä¸ªè¡¨è¾¾å¼ä¸º true åˆ™è¿”å› trueã€‚</td>
<td><code>[ $a -lt 20 -o $b -gt 100 ]</code> è¿”å› trueã€‚</td>
</tr>
<tr>
<td><code>-a</code></td>
<td>ä¸è¿ç®—ï¼Œä¸¤ä¸ªè¡¨è¾¾å¼éƒ½ä¸º true æ‰è¿”å› trueã€‚</td>
<td><code>[ $a -lt 20 -a $b -gt 100 ]</code> è¿”å› falseã€‚</td>
</tr>
</tbody></table>
<h4 id="3-4-é€»è¾‘è¿ç®—ç¬¦"><a href="#3-4-é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="3.4. é€»è¾‘è¿ç®—ç¬¦"></a>3.4. é€»è¾‘è¿ç®—ç¬¦</h4><p>å‡å®šæœ‰ä¸¤ä¸ªå˜é‡ï¼š<code>a=10</code> <code>b=20</code></p>
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>è¯´æ˜</th>
<th>ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td>&amp;&amp;</td>
<td>é€»è¾‘çš„ AND</td>
<td>[[ $a -lt 100 &amp;&amp; $b -gt 100 ]] è¿”å› false</td>
</tr>
<tr>
<td>&#124;&#124;</td>
<td>é€»è¾‘çš„ OR</td>
<td>[[ $a -lt 100 &#124;&#124; $b -gt 100 ]] è¿”å› true</td>
</tr>
</tbody></table>
<h4 id="3-5-å­—ç¬¦ä¸²è¿ç®—ç¬¦"><a href="#3-5-å­—ç¬¦ä¸²è¿ç®—ç¬¦" class="headerlink" title="3.5. å­—ç¬¦ä¸²è¿ç®—ç¬¦"></a>3.5. å­—ç¬¦ä¸²è¿ç®—ç¬¦</h4><p>å‡å®šæœ‰ä¸¤ä¸ªå˜é‡ï¼š<code>a=&quot;abc&quot;</code> <code>b=&quot;efg&quot;</code></p>
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>è¯´æ˜</th>
<th>ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><code>=</code></td>
<td>æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰</td>
<td><code>[ $a = $b ]</code> è¿”å› falseã€‚</td>
</tr>
<tr>
<td><code>!=</code></td>
<td>æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸ç›¸ç­‰</td>
<td><code>[ $a != $b ]</code> è¿”å› trueã€‚</td>
</tr>
<tr>
<td><code>-z</code></td>
<td>æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸º 0ï¼ˆç©ºï¼‰</td>
<td><code>[ -z $a ]</code> è¿”å› falseã€‚</td>
</tr>
<tr>
<td><code>-n</code></td>
<td>æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸ä¸º0ï¼ˆéç©ºï¼‰</td>
<td><code>[ -n &quot;$a&quot; ]</code> è¿”å› trueã€‚</td>
</tr>
<tr>
<td>str</td>
<td>æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ä¸ºä¸ä¸ºç©º</td>
<td><code>[ $a ]</code> è¿”å› trueã€‚</td>
</tr>
</tbody></table>
<h4 id="3-6-æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦"><a href="#3-6-æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦" class="headerlink" title="3.6. æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦"></a>3.6. æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦</h4><table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>è¯´æ˜ï¼ˆå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueï¼‰</th>
<th>ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><code>-b</code></td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å—è®¾å¤‡æ–‡ä»¶</td>
<td><code>[ -b $file ]</code></td>
</tr>
<tr>
<td><code>-c</code></td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å­—ç¬¦è®¾å¤‡æ–‡ä»¶</td>
<td><code>[ -c $file ]</code></td>
</tr>
<tr>
<td><code>-d</code></td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯ç›®å½•</td>
<td><code>[ -d $file ]</code></td>
</tr>
<tr>
<td><code>-f</code></td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æ™®é€šæ–‡ä»¶ï¼ˆæ—¢ä¸æ˜¯ç›®å½•ï¼Œä¹Ÿä¸æ˜¯è®¾å¤‡æ–‡ä»¶ï¼‰</td>
<td><code>[ -f $file ]</code></td>
</tr>
<tr>
<td><code>-g</code></td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº† SGID ä½</td>
<td><code>[ -g $file ]</code></td>
</tr>
<tr>
<td><code>-k</code></td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº†ç²˜ç€ä½(Sticky Bit)</td>
<td><code>[ -k $file ]</code></td>
</tr>
<tr>
<td><code>-p</code></td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æœ‰åç®¡é“</td>
<td><code>[ -p $file ]</code></td>
</tr>
<tr>
<td><code>-u</code></td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº† SUID ä½</td>
<td><code>[ -u $file ]</code></td>
</tr>
<tr>
<td><code>-r</code></td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯è¯»</td>
<td><code>[ -r $file ]</code></td>
</tr>
<tr>
<td><code>-w</code></td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯å†™</td>
<td><code>[ -w $file ]</code></td>
</tr>
<tr>
<td><code>-x</code></td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯æ‰§è¡Œ</td>
<td><code>[ -x $file ]</code></td>
</tr>
<tr>
<td><code>-s</code></td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦ä¸ºéç©ºï¼ˆæ–‡ä»¶å¤§å°æ˜¯å¦å¤§äº0ï¼‰æ–‡ä»¶</td>
<td><code>[ -s $file ]</code></td>
</tr>
<tr>
<td><code>-e</code></td>
<td>æ£€æµ‹æ–‡ä»¶ï¼ˆåŒ…æ‹¬ç›®å½•ï¼‰æ˜¯å¦å­˜åœ¨</td>
<td><code>[ -e $file ]</code></td>
</tr>
</tbody></table>
<h3 id="4-æµç¨‹æ§åˆ¶"><a href="#4-æµç¨‹æ§åˆ¶" class="headerlink" title="4. æµç¨‹æ§åˆ¶"></a>4. æµç¨‹æ§åˆ¶</h3><h4 id="4-1-if-è¯­å¥"><a href="#4-1-if-è¯­å¥" class="headerlink" title="4.1. if è¯­å¥"></a>4.1. if è¯­å¥</h4><p>å¤§å¤šä½¿ç”¨<strong>å…³ç³»è¿ç®—ç¬¦</strong>æ£€æŸ¥å…³ç³»</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¯­æ³•æ ¼å¼</span></span><br><span class="line"><span class="keyword">if</span> condition1</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    command1</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">elif</span> condition2</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    command2</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    commandN</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<h4 id="4-2-case-è¯­å¥"><a href="#4-2-case-è¯­å¥" class="headerlink" title="4.2. case è¯­å¥"></a>4.2. case è¯­å¥</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¯­æ³•æ ¼å¼</span></span><br><span class="line"><span class="keyword">case</span> å€¼ <span class="keyword">in</span></span><br><span class="line">    æ¨¡å¼1)</span><br><span class="line">        command1</span><br><span class="line">        command2</span><br><span class="line">        ...</span><br><span class="line">        commandN</span><br><span class="line">        ;;</span><br><span class="line">    æ¨¡å¼2ï¼‰</span><br><span class="line">        command1</span><br><span class="line">        command2</span><br><span class="line">        ...</span><br><span class="line">        commandN</span><br><span class="line">        ;;</span><br><span class="line">    *)</span><br><span class="line">        commandDefault</span><br><span class="line">        ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure>


<h4 id="4-3-while-è¯­å¥"><a href="#4-3-while-è¯­å¥" class="headerlink" title="4.3. while è¯­å¥"></a>4.3. while è¯­å¥</h4><p>ç”¨äºä¸æ–­æ‰§è¡Œä¸€ç³»åˆ—å‘½ä»¤ï¼Œä¹Ÿç”¨äºä»è¾“å…¥æ–‡ä»¶ä¸­è¯»å–æ•°æ®ï¼›å‘½ä»¤é€šå¸¸ä¸ºæµ‹è¯•æ¡ä»¶ã€‚å…¶æ ¼å¼ä¸ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¯­æ³•æ ¼å¼</span></span><br><span class="line"><span class="keyword">while</span> condition</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">command</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<h4 id="4-4-until-å¾ªç¯"><a href="#4-4-until-å¾ªç¯" class="headerlink" title="4.4. until å¾ªç¯"></a>4.4. until å¾ªç¯</h4><p>æ‰§è¡Œä¸€ç³»åˆ—å‘½ä»¤ç›´è‡³æ¡ä»¶ä¸º true æ—¶åœæ­¢ï¼Œå®ƒä¸ <code>while å¾ªç¯</code> åœ¨å¤„ç†æ–¹å¼ä¸Šåˆšå¥½ç›¸åã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¯­æ³•æ ¼å¼</span></span><br><span class="line">until condition</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">command</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<h4 id="4-5-for-å¾ªç¯"><a href="#4-5-for-å¾ªç¯" class="headerlink" title="4.5. for å¾ªç¯"></a>4.5. for å¾ªç¯</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¯­æ³•æ ¼å¼</span></span><br><span class="line"><span class="keyword">for</span> var <span class="keyword">in</span> item1 item2 ... itemN</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    command1</span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<h4 id="4-6-æ— é™å¾ªç¯"><a href="#4-6-æ— é™å¾ªç¯" class="headerlink" title="4.6. æ— é™å¾ªç¯"></a>4.6. æ— é™å¾ªç¯</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¯­æ³•1</span></span><br><span class="line"><span class="keyword">while</span> :</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">command</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯­æ³•2</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">true</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">command</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯­æ³•3</span></span><br><span class="line"><span class="keyword">for</span> (( ; ; ))</span><br></pre></td></tr></table></figure>

<h4 id="4-7-é€€å‡ºå¾ªç¯"><a href="#4-7-é€€å‡ºå¾ªç¯" class="headerlink" title="4.7. é€€å‡ºå¾ªç¯"></a>4.7. é€€å‡ºå¾ªç¯</h4><ul>
<li><code>break</code> è·³å‡ºæ•´ä¸ªå¾ªç¯ï¼Œæ‰§è¡Œå¾ªç¯ä½“åé¢çš„ä»£ç ï¼Œæ”¯æŒ <code>break n</code> é€€å‡ºå¤šå±‚åµŒå¥—å¾ªç¯</li>
<li><code>continue</code> ç»“æŸå½“å‰å¾ªç¯ï¼ŒåŒæ ·æ”¯æŒ <code>continue n</code> é€€å‡ºå¤šå±‚</li>
</ul>
<h3 id="5-è¾“å…¥ã€è¾“å‡ºé‡å®šå‘"><a href="#5-è¾“å…¥ã€è¾“å‡ºé‡å®šå‘" class="headerlink" title="5. è¾“å…¥ã€è¾“å‡ºé‡å®šå‘"></a>5. è¾“å…¥ã€è¾“å‡ºé‡å®šå‘</h3><h4 id="5-1-å‘½ä»¤åˆ—è¡¨"><a href="#5-1-å‘½ä»¤åˆ—è¡¨" class="headerlink" title="5.1. å‘½ä»¤åˆ—è¡¨"></a>5.1. å‘½ä»¤åˆ—è¡¨</h4><table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>command &gt; file</code></td>
<td>å°†è¾“å‡ºç»“æœé‡å®šå‘åˆ° fileã€‚</td>
</tr>
<tr>
<td><code>command &lt; file</code></td>
<td>å°†è¾“å…¥é‡å®šå‘åˆ° fileã€‚</td>
</tr>
<tr>
<td><code>command &gt;&gt; file</code></td>
<td>å°†è¾“å‡ºä»¥è¿½åŠ çš„æ–¹å¼é‡å®šå‘åˆ° fileã€‚</td>
</tr>
<tr>
<td><code>n &gt; file</code></td>
<td>å°†æ–‡ä»¶æè¿°ç¬¦ä¸º n çš„æ–‡ä»¶é‡å®šå‘åˆ° fileã€‚</td>
</tr>
<tr>
<td><code>n &gt;&gt; file</code></td>
<td>å°†æ–‡ä»¶æè¿°ç¬¦ä¸º n çš„æ–‡ä»¶ä»¥è¿½åŠ çš„æ–¹å¼é‡å®šå‘åˆ° fileã€‚</td>
</tr>
<tr>
<td><code>n &gt;&amp; m</code></td>
<td>å°†è¾“å‡ºæ–‡ä»¶ m å’Œ n åˆå¹¶ã€‚</td>
</tr>
<tr>
<td><code>n &lt;&amp; m</code></td>
<td>å°†è¾“å…¥æ–‡ä»¶ m å’Œ n åˆå¹¶ã€‚</td>
</tr>
<tr>
<td><code>&lt;&lt; tag</code></td>
<td>å°†å¼€å§‹æ ‡è®° tag å’Œç»“æŸæ ‡è®° tag ä¹‹é—´çš„å†…å®¹ä½œä¸ºè¾“å…¥ã€‚</td>
</tr>
</tbody></table>
<p>å…³äºæ–‡ä»¶æè¿°ç¬¦ï¼š</p>
<ul>
<li><code>0</code> é€šå¸¸æ˜¯æ ‡å‡†è¾“å…¥ï¼ˆSTDINï¼‰ï¼ŒUnixç¨‹åºé»˜è®¤ä» <code>stdin</code> è¯»å–æ•°æ®ã€‚</li>
<li><code>1</code> æ ‡å‡†è¾“å‡ºï¼ˆSTDOUTï¼‰ï¼ŒUnixç¨‹åºé»˜è®¤å‘ <code>stdout</code> è¾“å‡ºæ•°æ®ã€‚</li>
<li><code>2</code> æ ‡å‡†é”™è¯¯è¾“å‡ºï¼ˆSTDERRï¼‰ï¼ŒUnixç¨‹åºä¼šå‘ <code>stderr</code> æµä¸­å†™å…¥é”™è¯¯ä¿¡æ¯ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å°† stdout å’Œ stderr åˆå¹¶åé‡å®šå‘åˆ° file</span></span><br><span class="line">âœ  <span class="built_in">command</span> &gt; file 2&gt;&amp;1</span><br></pre></td></tr></table></figure>

<h4 id="5-2-dev-null-æ–‡ä»¶"><a href="#5-2-dev-null-æ–‡ä»¶" class="headerlink" title="5.2. /dev/null æ–‡ä»¶"></a>5.2. /dev/null æ–‡ä»¶</h4><p>è¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ï¼Œå†™å…¥åˆ°å®ƒçš„å†…å®¹éƒ½ä¼šè¢«ä¸¢å¼ƒï¼›å¦‚æœå°è¯•ä»è¯¥æ–‡ä»¶è¯»å–å†…å®¹ï¼Œä¹Ÿä»€ä¹ˆä¹Ÿè¯»ä¸åˆ°ã€‚æˆ‘ä»¬é€šå¸¸å°†å‘½ä»¤çš„è¾“å‡ºé‡å®šå‘åˆ°å®ƒï¼Œèµ·åˆ°â€œç¦æ­¢è¾“å‡ºâ€çš„æ•ˆæœã€‚</p>
<p>å¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å±è”½ stdout å’Œ stderr</span></span><br><span class="line">âœ  <span class="built_in">command</span> &gt; /dev/null 2&gt;&amp;1</span><br></pre></td></tr></table></figure>

<h4 id="5-3-Here-æ–‡æ¡£"><a href="#5-3-Here-æ–‡æ¡£" class="headerlink" title="5.3. Here æ–‡æ¡£"></a>5.3. Here æ–‡æ¡£</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å°†ä¸¤ä¸ª delimiter ä¹‹é—´çš„å†…å®¹(document) ä½œä¸ºè¾“å…¥ä¼ é€’ç»™ commandã€‚</span></span><br><span class="line"><span class="built_in">command</span> &lt;&lt; <span class="string">delimiter</span></span><br><span class="line"><span class="string">document</span></span><br><span class="line"><span class="string">delimiter</span></span><br></pre></td></tr></table></figure>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>ç»“å°¾çš„ <code>delimiter</code> ä¸€å®šè¦é¡¶æ ¼å†™ï¼Œå‰é¢ä¸èƒ½æœ‰ä»»ä½•å­—ç¬¦ï¼Œåé¢ä¹Ÿä¸èƒ½æœ‰ä»»ä½•å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼å’Œ tab ç¼©è¿›ã€‚</li>
<li>å¼€å§‹çš„ <code>delimiter</code> å‰åçš„ç©ºæ ¼ä¼šè¢«å¿½ç•¥æ‰ã€‚</li>
</ul>
<h3 id="6-å‡½æ•°"><a href="#6-å‡½æ•°" class="headerlink" title="6. å‡½æ•°"></a>6. å‡½æ•°</h3><h4 id="6-1-åŸºæœ¬è¯­æ³•"><a href="#6-1-åŸºæœ¬è¯­æ³•" class="headerlink" title="6.1. åŸºæœ¬è¯­æ³•"></a>6.1. åŸºæœ¬è¯­æ³•</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[ <span class="keyword">function</span> ] funcName [()] &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">command</span>;</span><br><span class="line"></span><br><span class="line">    [<span class="built_in">return</span> int;]</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¯´æ˜ï¼š</p>
<ul>
<li><code>function</code> å…³é”®å­—éå¿…é¡»ï¼›</li>
<li>å¦‚æœè¯¥å‡½æ•°ä¸ä¼ å…¥å˜é‡ï¼Œè¿™å‡½æ•°åçš„åé¢çš„æ‹¬å·å¯ä»¥ä¸åŠ ï¼›</li>
<li><code>return</code> å‡½æ•°è¿”å›å€¼<ul>
<li>éå¿…é¡»ï¼Œé»˜è®¤è¿”å›æœ€åä¸€æ¡å‘½ä»¤çš„æ‰§è¡Œç»“æœï¼›</li>
<li>å®ƒåªèƒ½è¿”å› 1 ï½ 255 ä¹‹é—´çš„æ•´æ•°ï¼Œé€šå¸¸åªæ˜¯ç”¨æ¥ä¾›å…¶å®ƒåœ°æ–¹è·å–çŠ¶æ€ï¼Œæ¯”å¦‚ 0 æˆåŠŸï¼Œ1 æˆ– é 0 å¤±è´¥ï¼›</li>
<li>ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>echo</code> è¾“å‡ºä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼ã€‚</li>
</ul>
</li>
<li>è°ƒç”¨å‡½æ•°ä»…ä½¿ç”¨å…¶å‡½æ•°åï¼Œå¦‚ <code>funcName</code>ï¼›</li>
<li><strong>æ‰€æœ‰å‡½æ•°åœ¨ä½¿ç”¨å‰å¿…é¡»å®šä¹‰</strong>ï¼Œå³å‡½æ•°è°ƒç”¨å¿…é¡»è¦åœ¨å‡½æ•°å£°æ˜ä¹‹åã€‚</li>
</ul>
<h4 id="6-2-å‡½æ•°å‚æ•°"><a href="#6-2-å‡½æ•°å‚æ•°" class="headerlink" title="6.2. å‡½æ•°å‚æ•°"></a>6.2. å‡½æ•°å‚æ•°</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">func</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;ç¬¬ä¸€ä¸ªå‚æ•°ä¸º <span class="variable">$1</span> !&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;ç¬¬äºŒä¸ªå‚æ•°ä¸º <span class="variable">$2</span> !&quot;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;ç¬¬åä¸ªå‚æ•°ä¸º <span class="variable">$&#123;10&#125;</span> !&quot;</span></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># è°ƒç”¨å¹¶ä¼ å‚</span></span><br><span class="line">func param1 param2 param3</span><br></pre></td></tr></table></figure>

<p><strong>è¯´æ˜</strong>ï¼š</p>
<ul>
<li>åœ¨å‡½æ•°ä½“å†…éƒ¨ï¼Œé€šè¿‡ <code>$n</code> çš„å½¢å¼æ¥è·å–å‚æ•°çš„å€¼ï¼Œä¾‹å¦‚ï¼š$1 è¡¨ç¤ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ$2 è¡¨ç¤ºç¬¬äºŒä¸ªå‚æ•°ï¼›</li>
<li>å½“ n &gt;= 10 æ—¶ï¼Œéœ€è¦ä½¿ç”¨ <code>$&#123;n&#125;</code> æ¥è·å–å‚æ•°ã€‚</li>
</ul>
<h3 id="7-åŒ…å«æ–‡ä»¶ï¼ˆå°è£…å‡½æ•°åº“ï¼‰"><a href="#7-åŒ…å«æ–‡ä»¶ï¼ˆå°è£…å‡½æ•°åº“ï¼‰" class="headerlink" title="7. åŒ…å«æ–‡ä»¶ï¼ˆå°è£…å‡½æ•°åº“ï¼‰"></a>7. åŒ…å«æ–‡ä»¶ï¼ˆå°è£…å‡½æ•°åº“ï¼‰</h3><p>é€šå¸¸æˆ‘ä»¬å°†å…¬ç”¨çš„å‡½æ•°æŠ½ç¦»åˆ°å•ç‹¬æ–‡ä»¶ï¼Œä»¥ä¾¿é‡å¤è°ƒç”¨ï¼Œå‡å°‘å†—ä½™ä»£ç ã€‚</p>
<p>å¯¹äºä¸€ä¸ªå‡½æ•°åº“æ–‡ä»¶ï¼š</p>
<ul>
<li>åç¼€åä»»æ„ï¼Œé€šå¸¸ä½¿ç”¨ <code>.lib</code> è¿›è¡Œæ ‡è¯†ï¼›</li>
<li>ä¸€èˆ¬ä¸æˆäºˆå¯æ‰§è¡Œæƒé™ï¼›</li>
<li>ä¸éœ€è¦è·Ÿè„šæœ¬æ”¾åœ¨åŒä¸€çº§ç›®å½•ï¼Œåªéœ€åœ¨è„šæœ¬å¼•ç”¨æ—¶æŒ‡å®šï¼›</li>
<li>é€šå¸¸ç¬¬ä¸€è¡Œä¸€èˆ¬ä½¿ç”¨ <code>#!/bin/echo</code> è¾“å‡ºè­¦å‘Šä¿¡æ¯ï¼Œé¿å…ç”¨æˆ·æ‰§è¡Œã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/echo</span></span><br><span class="line"><span class="comment"># /home/user1/lib/comm_function.lib</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> add &#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;`expr <span class="variable">$1</span> + <span class="variable">$2</span>`&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># /home/user1/test.sh</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼•å…¥å‡½æ•°åº“æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># ä½¿ç”¨ç»å¯¹ æˆ– ç›¸å¯¹è·¯å¾„</span></span><br><span class="line">. ./lib/comm_function.lib</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨æ–‡ä»¶ä¸­çš„å‡½æ•°</span></span><br><span class="line">add 1 3</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  sh -x test_functions.sh</span><br><span class="line">+ . ./lib/comm_function.lib</span><br><span class="line">+ add 1 3</span><br><span class="line">++ expr 1 + 3</span><br><span class="line">+ <span class="built_in">echo</span> 4</span><br><span class="line">4</span><br></pre></td></tr></table></figure>

<h3 id="8-å¸¸ç”¨å‘½ä»¤"><a href="#8-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="8. å¸¸ç”¨å‘½ä»¤"></a>8. å¸¸ç”¨å‘½ä»¤</h3><h4 id="8-1-find-å‘½ä»¤"><a href="#8-1-find-å‘½ä»¤" class="headerlink" title="8.1. find å‘½ä»¤"></a>8.1. find å‘½ä»¤</h4><p>è¯­æ³•ï¼š<code>find [è·¯å¾„] [é€‰é¡¹] [æ“ä½œ]</code></p>
<h5 id="é€‰é¡¹"><a href="#é€‰é¡¹" class="headerlink" title="é€‰é¡¹"></a>é€‰é¡¹</h5><table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>è¯´æ˜</th>
<th>é€‰é¡¹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>-name</code></td>
<td>æ–‡ä»¶å</td>
<td><code>-iname</code></td>
<td>æ–‡ä»¶åï¼ˆå¿½ç•¥å¤§å°å†™ï¼‰</td>
</tr>
<tr>
<td><code>-perm 777</code></td>
<td>æ–‡ä»¶æƒé™</td>
<td><code>-type fï½œdï½œlï½œcï½œbï½œp</code></td>
<td>æ–‡ä»¶ç±»å‹</td>
</tr>
<tr>
<td><code>-user</code></td>
<td>æ–‡ä»¶å±ä¸»</td>
<td><code>-nouser</code></td>
<td>æ— æœ‰æ•ˆå±ä¸»</td>
</tr>
<tr>
<td><code>-group</code></td>
<td>æ–‡ä»¶å±ç»„</td>
<td><code>-nogroup</code></td>
<td>æ— æœ‰æ•ˆå±ç»„</td>
</tr>
<tr>
<td><code>-size -nï½œ+n</code></td>
<td>æ–‡ä»¶å¤§å°</td>
<td><code>-prune</code></td>
<td>æ’é™¤æŸäº›æŸ¥æ‰¾ç›®å½•ï¼ˆé€šå¸¸ä¸ <code>-path</code> ä¸€åŒä½¿ç”¨ï¼‰</td>
</tr>
<tr>
<td><code>-mindepth n</code></td>
<td>ä» n çº§å­ç›®å½•å¼€å§‹æŸ¥æ‰¾</td>
<td><code>-maxdepth n</code></td>
<td>æœ€å¤šæœç´¢åˆ° n çº§å­ç›®å½•</td>
</tr>
<tr>
<td><code>-mtime -nï½œ+n</code></td>
<td>æ–‡ä»¶ä¿®æ”¹æ—¶é—´ï¼ˆå¤©ï¼‰</td>
<td><code>-mmin -nï½œ+n</code></td>
<td>æ–‡ä»¶ä¿®æ”¹æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰</td>
</tr>
<tr>
<td><code>-newer file1</code></td>
<td>æ–‡ä»¶ä¿®æ”¹æ—¶é—´æ¯” file1 æ—©</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ–‡ä»¶å</span></span><br><span class="line">âœ  find /etc/ -name <span class="string">&#x27;*.conf&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–‡ä»¶ç±»å‹</span></span><br><span class="line"><span class="comment"># f æ–‡ä»¶ï¼›d ç›®å½•ï¼›c å­—ç¬¦è®¾å¤‡æ–‡ä»¶ï¼›</span></span><br><span class="line"><span class="comment"># b å—è®¾å¤‡æ–‡ä»¶ï¼›l é“¾æ¥æ–‡ä»¶ï¼›p ç®¡é“æ–‡ä»¶</span></span><br><span class="line">âœ  find /etc/ -<span class="built_in">type</span> f</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–‡ä»¶å¤§å°</span></span><br><span class="line"><span class="comment"># -n å°äºç­‰äºï¼›+n å¤§äºç­‰äº</span></span><br><span class="line">âœ  find . -size +100M</span><br><span class="line">âœ  find . -size -10k</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–‡ä»¶ä¿®æ”¹æ—¶é—´</span></span><br><span class="line"><span class="comment"># -n &lt; nå¤©ä»¥å†…ä¿®æ”¹è¿‡çš„æ–‡ä»¶ï¼›</span></span><br><span class="line"><span class="comment"># n = n å¤©ä¿®æ”¹è¿‡å¾—æ–‡ä»¶ï¼›</span></span><br><span class="line"><span class="comment"># +n &gt; nå¤©ä»¥å¤–ä¿®æ”¹è¿‡çš„æ–‡ä»¶ï¼›</span></span><br><span class="line">âœ  find . -mtime -3</span><br><span class="line">âœ  find . -mtime 3</span><br><span class="line">âœ  find . -mtime +3</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ’é™¤ç›®å½•</span></span><br><span class="line"><span class="comment"># -path ./test1 -prune æ’é™¤ test1 ç›®å½•</span></span><br><span class="line"><span class="comment"># -path ./test2 -prune æ’é™¤ test2 ç›®å½•</span></span><br><span class="line"><span class="comment"># -o type f å›ºå®šç»“å°¾å†™æ³•</span></span><br><span class="line">âœ  find . -path ./test1 -prune -o -path ./test2 -prune -o <span class="built_in">type</span> f</span><br></pre></td></tr></table></figure>

<h5 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h5><ul>
<li><code>-print</code> æ‰“å°è¾“å‡º</li>
<li><code>-exec &#39;command&#39; &#123;&#125; \;</code> å…¶ä¸­ <code>&#123;&#125;</code> æ˜¯å‰é¢æŸ¥æ‰¾åŒ¹é…åˆ°çš„ç»“æœ</li>
<li><code>-ok</code> ä¸ exec åŠŸèƒ½ä¸€æ ·ï¼Œä½†æ¯æ¬¡æ“ä½œéƒ½ç»™ç”¨æˆ·æç¤ºï¼Œç”±ç”¨æˆ·å†³å®šæ˜¯å¦æ‰§è¡Œå¯¹åº”çš„æ“ä½œã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥æ‰¾ 30 å¤©ä»¥å‰çš„æ—¥å¿—æ–‡ä»¶å¹¶åˆ é™¤</span></span><br><span class="line">âœ  find /var/<span class="built_in">log</span> -name <span class="string">&#x27;*.log&#x27;</span> -mtime +30 -<span class="built_in">exec</span> rm -f &#123;&#125; \;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥æ‰¾æ‰€æœ‰ .conf æ–‡ä»¶ï¼Œå¹¶ç§»åŠ¨åˆ°æŒ‡å®šç›®å½•</span></span><br><span class="line">âœ  find /etc/apache -name <span class="string">&#x27;*.conf&#x27;</span> -<span class="built_in">exec</span> cp &#123;&#125; /home/user1/backup \;</span><br></pre></td></tr></table></figure>

<h4 id="8-2-echo-å‘½ä»¤"><a href="#8-2-echo-å‘½ä»¤" class="headerlink" title="8.2. echo å‘½ä»¤"></a>8.2. echo å‘½ä»¤</h4><p>ç”¨äºå­—ç¬¦ä¸²çš„è¾“å‡ºï¼ŒåŸºæœ¬æ ¼å¼ <code>echo string</code>ã€‚</p>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ˜¾ç¤ºæ™®é€šå­—ç¬¦</span></span><br><span class="line">âœ  <span class="built_in">echo</span> <span class="string">&quot;It is a test&quot;</span> <span class="comment"># è¾“å‡º It is a test</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºè½¬ä¹‰å­—ç¬¦</span></span><br><span class="line">âœ  <span class="built_in">echo</span> <span class="string">&quot;\&quot;It is a test\&quot;&quot;</span> <span class="comment"># è¾“å‡º &quot;It is a test&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå˜é‡</span></span><br><span class="line"><span class="comment">#!/bin/sh</span></span><br><span class="line">NAME=<span class="string">&quot;xiaoming&quot;</span></span><br><span class="line">âœ  <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$NAME</span> It is a test&quot;</span> <span class="comment"># è¾“å‡º xiaoming is a test</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæ¢è¡Œ</span></span><br><span class="line">âœ  <span class="built_in">echo</span> -e <span class="string">&quot;OK! \n&quot;</span> <span class="comment"># -e å¼€å¯è½¬ä¹‰</span></span><br><span class="line">âœ  <span class="built_in">echo</span> <span class="string">&quot;It is a test&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºä¸æ¢è¡Œ</span></span><br><span class="line">âœ  <span class="built_in">echo</span> -e <span class="string">&quot;OK! \c&quot;</span> <span class="comment"># -e å¼€å¯è½¬ä¹‰ \c ä¸æ¢è¡Œ</span></span><br><span class="line">âœ  <span class="built_in">echo</span> <span class="string">&quot;It is a test&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºç»“æœå®šå‘è‡³æ–‡ä»¶</span></span><br><span class="line">âœ  <span class="built_in">echo</span> <span class="string">&quot;It is a test&quot;</span> &gt; myfile</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå‘½ä»¤æ‰§è¡Œç»“æœ</span></span><br><span class="line">âœ  <span class="built_in">echo</span> `date`</span><br></pre></td></tr></table></figure>

<h4 id="8-3-printf-å‘½ä»¤"><a href="#8-3-printf-å‘½ä»¤" class="headerlink" title="8.3. printf å‘½ä»¤"></a>8.3. printf å‘½ä»¤</h4><p>æ¨¡ä»¿ C ç¨‹åºåº“ï¼ˆlibraryï¼‰é‡Œçš„ printf() ç¨‹åºï¼Œä¸»è¦ç”¨äºæ ¼å¼åŒ–è¾“å‡ºã€‚</p>
<p>é»˜è®¤ <code>printf</code> ä¸ä¼šåƒ <code>echo</code> è‡ªåŠ¨æ·»åŠ æ¢è¡Œç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æ·»åŠ  <code>\n</code>ã€‚</p>
<p>å…¶åŸºæœ¬è¯­æ³•æ ¼å¼ä¸ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">printf</span>  format-string  [arguments...]</span><br></pre></td></tr></table></figure>

<p>è¯´æ˜ï¼š</p>
<ul>
<li><code>format-string</code> ä¸ºæ ¼å¼æ§åˆ¶å­—ç¬¦ä¸²</li>
<li><code>arguments</code> ä¸ºå‚æ•°åˆ—è¡¨ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">printf</span> <span class="string">&quot;%-10s %-8s %-4s\n&quot;</span> å§“å æ€§åˆ« ä½“é‡kg</span><br><span class="line">âœ  <span class="built_in">printf</span> <span class="string">&quot;%-10s %-8s %-4.2f\n&quot;</span> éƒ­é– ç”· 66.1234</span><br><span class="line">âœ  <span class="built_in">printf</span> <span class="string">&quot;%-10s %-8s %-4.2f\n&quot;</span> æ¨è¿‡ ç”· 48.6543</span><br><span class="line">âœ  <span class="built_in">printf</span> <span class="string">&quot;%-10s %-8s %-4.2f\n&quot;</span> éƒ­èŠ™ å¥³ 47.9876</span><br><span class="line">å§“å     æ€§åˆ«   ä½“é‡kg</span><br><span class="line">éƒ­é–     ç”·      66.12</span><br><span class="line">æ¨è¿‡     ç”·      48.65</span><br><span class="line">éƒ­èŠ™     å¥³      47.99</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼š</p>
<ul>
<li><code>%s</code> <code>%c</code> <code>%d</code> <code>%f</code> éƒ½æ˜¯æ ¼å¼æ›¿ä»£ç¬¦ï¼›</li>
<li><code>%-10s</code> æŒ‡ä¸€ä¸ªå®½åº¦ä¸º10ä¸ªå­—ç¬¦ï¼ˆ-è¡¨ç¤ºå·¦å¯¹é½ï¼Œæ²¡æœ‰åˆ™è¡¨ç¤ºå³å¯¹é½ï¼‰ï¼Œä»»ä½•å­—ç¬¦éƒ½ä¼šè¢«æ˜¾ç¤ºåœ¨10ä¸ªå­—ç¬¦å®½çš„å­—ç¬¦å†…ï¼Œå¦‚æœä¸è¶³åˆ™è‡ªåŠ¨ä»¥ç©ºæ ¼å¡«å……ï¼Œè¶…è¿‡ä¹Ÿä¼šå°†å†…å®¹å…¨éƒ¨æ˜¾ç¤ºå‡ºæ¥ã€‚</li>
<li><code>%-4.2f</code> æŒ‡æ ¼å¼åŒ–ä¸ºå°æ•°ï¼Œå…¶ä¸­.2æŒ‡ä¿ç•™2ä½å°æ•°ã€‚</li>
</ul>
<p>æ›´å¤šä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ²¡æœ‰å¼•å·ä¹Ÿå¯ä»¥è¾“å‡º</span></span><br><span class="line">âœ  <span class="built_in">printf</span> %s abcdef</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¼å¼åªæŒ‡å®šäº†ä¸€ä¸ªå‚æ•°ï¼Œä½†å¤šå‡ºçš„å‚æ•°ä»ç„¶ä¼šæŒ‰ç…§è¯¥æ ¼å¼è¾“å‡ºï¼Œformat-string è¢«é‡ç”¨</span></span><br><span class="line">âœ  <span class="built_in">printf</span> %s abc def</span><br><span class="line">abcdef</span><br><span class="line"></span><br><span class="line">âœ  <span class="built_in">printf</span> <span class="string">&quot;%s\n&quot;</span> abc def</span><br><span class="line">abc</span><br><span class="line">def</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœæ²¡æœ‰ argumentsï¼Œé‚£ä¹ˆ %s ç”¨NULLä»£æ›¿ï¼Œ%d ç”¨ 0 ä»£æ›¿</span></span><br><span class="line">âœ  <span class="built_in">printf</span> <span class="string">&quot;%s and %d \n&quot;</span></span><br><span class="line"> and 0</span><br></pre></td></tr></table></figure>

<h4 id="8-4-test-å‘½ä»¤"><a href="#8-4-test-å‘½ä»¤" class="headerlink" title="8.4. test å‘½ä»¤"></a>8.4. test å‘½ä»¤</h4><p>ç”¨äºæ£€æŸ¥æŸä¸ªæ¡ä»¶æ˜¯å¦æˆç«‹ï¼Œå®ƒå¯ä»¥è¿›è¡Œæ•°å€¼ã€å­—ç¬¦å’Œæ–‡ä»¶ä¸‰ä¸ªæ–¹é¢çš„æµ‹è¯•ï¼ˆè¯¦è§<a href="#3-%E8%BF%90%E7%AE%97%E7%AC%A6">ç¬¬3èŠ‚</a>å¯¹åº”çš„è¿ç®—ç¬¦éƒ¨åˆ†ï¼‰ã€‚</p>
<p>åŸºæœ¬ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /bin</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">test</span> -e ./bash</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;æ–‡ä»¶å·²å­˜åœ¨!&#x27;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;æ–‡ä»¶ä¸å­˜åœ¨!&#x27;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<h3 id="9-è¡¥å……"><a href="#9-è¡¥å……" class="headerlink" title="9. è¡¥å……"></a>9. è¡¥å……</h3><h4 id="9-1-å˜é‡æ›¿æ¢"><a href="#9-1-å˜é‡æ›¿æ¢" class="headerlink" title="9.1. å˜é‡æ›¿æ¢"></a>9.1. å˜é‡æ›¿æ¢</h4><table>
<thead>
<tr>
<th>è§„åˆ™</th>
<th>è¯´æ˜</th>
<th>ç¤ºä¾‹ <code>var=&quot;Hello shell&quot;</code></th>
</tr>
</thead>
<tbody><tr>
<td><code>$&#123;å˜é‡#åŒ¹é…è§„åˆ™&#125;</code></td>
<td>ä»å¤´å¼€å§‹åŒ¹é…ï¼Œæœ€çŸ­åˆ é™¤</td>
<td><code>$&#123;var#*e&#125;</code> =&gt; <code>llo shell</code></td>
</tr>
<tr>
<td><code>$&#123;å˜é‡##åŒ¹é…è§„åˆ™&#125;</code></td>
<td>ä»å¤´å¼€å§‹åŒ¹é…ï¼Œæœ€é•¿åˆ é™¤</td>
<td><code>$&#123;var##*e&#125;</code> =&gt; <code>ll</code></td>
</tr>
<tr>
<td><code>$&#123;å˜é‡%åŒ¹é…è§„åˆ™&#125;</code></td>
<td>ä»å°¾å¼€å§‹åŒ¹é…ï¼Œæœ€çŸ­åˆ é™¤</td>
<td><code>$&#123;var%e*&#125;</code> =&gt; <code>Hello sh</code></td>
</tr>
<tr>
<td><code>$&#123;å˜é‡%%åŒ¹é…è§„åˆ™&#125;</code></td>
<td>ä»å°¾å¼€å§‹åŒ¹é…ï¼Œæœ€é•¿åˆ é™¤</td>
<td><code>$&#123;var%%e*&#125;</code> =&gt; <code>H</code></td>
</tr>
<tr>
<td><code>$&#123;å˜é‡/æ—§å­—ç¬¦ä¸²/æ–°å­—ç¬¦ä¸²&#125;</code></td>
<td>åªæ›¿æ¢åŒ¹é…åˆ°çš„ç¬¬ä¸€ä¸ª</td>
<td><code>$&#123;var/e/*&#125;</code> =&gt; <code>H*llo shell</code></td>
</tr>
<tr>
<td><code>$&#123;å˜é‡//æ—§å­—ç¬¦ä¸²/æ–°å­—ç¬¦ä¸²&#125;</code></td>
<td>å…¨éƒ¨æ›¿æ¢</td>
<td><code>$&#123;var//e/*&#125;</code> =&gt; <code>H*llo sh*ll</code></td>
</tr>
</tbody></table>
<h4 id="9-2-æœ‰ç±»å‹å˜é‡"><a href="#9-2-æœ‰ç±»å‹å˜é‡" class="headerlink" title="9.2. æœ‰ç±»å‹å˜é‡"></a>9.2. æœ‰ç±»å‹å˜é‡</h4><p>shell ä¸­å˜é‡é»˜è®¤éƒ½æ˜¯<strong>å­—ç¬¦ä¸²</strong>ï¼Œé™¤éä½¿ç”¨ä»¥ä¸‹æ–¹å¼å£°æ˜ã€‚</p>
<table>
<thead>
<tr>
<th>declare æˆ– typeset å‚æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>-r</td>
<td>åªè¯»</td>
</tr>
<tr>
<td>-i</td>
<td>æ•´æ•°</td>
</tr>
<tr>
<td>-a</td>
<td>æ•°ç»„</td>
</tr>
<tr>
<td>-f</td>
<td>åœ¨è„šæœ¬ä¸­æ˜¾ç¤ºå®šä¹‰çš„å‡½æ•°å’Œå†…å®¹</td>
</tr>
<tr>
<td>-F</td>
<td>åœ¨è„šæœ¬ä¸­æ˜¾ç¤ºå®šä¹‰çš„å‡½æ•°</td>
</tr>
<tr>
<td>-X</td>
<td>å°†å˜é‡å£°æ˜ä¸ºç¯å¢ƒå˜é‡</td>
</tr>
</tbody></table>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">declare</span> -r var1=<span class="string">&quot;hello shell type&quot;</span></span><br><span class="line">âœ  var1=<span class="string">&quot;hello lalala&quot;</span></span><br><span class="line">zsh: read-only variable: var1</span><br></pre></td></tr></table></figure>

<h4 id="9-3-ä½¿ç”¨-bc-è¿›è¡Œæµ®ç‚¹æ•°è¿ç®—"><a href="#9-3-ä½¿ç”¨-bc-è¿›è¡Œæµ®ç‚¹æ•°è¿ç®—" class="headerlink" title="9.3. ä½¿ç”¨ bc è¿›è¡Œæµ®ç‚¹æ•°è¿ç®—"></a>9.3. ä½¿ç”¨ bc è¿›è¡Œæµ®ç‚¹æ•°è¿ç®—</h4><p>ç³»ç»Ÿå†…ç½®ï¼Œæ”¯æŒ <code>+</code>ã€<code>-</code>ã€<code>*</code>ã€<code>/</code>ã€<code>^ æŒ‡æ•°</code>ã€<code>% å–ä½™</code>ï¼Œå¹¶ä½¿ç”¨ <code>scale</code> æŒ‡å®šå°æ•°ä½æ•°ï¼Œé»˜è®¤ <code>0</code>ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">which</span> bc</span><br><span class="line">/usr/bin/bc</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¤ºä¾‹</span></span><br><span class="line">âœ  <span class="built_in">echo</span> <span class="string">&quot;5+4&quot;</span> | bc</span><br><span class="line">9</span><br><span class="line">âœ  <span class="built_in">echo</span> <span class="string">&quot;5-4&quot;</span> | bc</span><br><span class="line">1</span><br><span class="line">âœ  <span class="built_in">echo</span> <span class="string">&quot;5*4&quot;</span> | bc</span><br><span class="line">20</span><br><span class="line">âœ  <span class="built_in">echo</span> <span class="string">&quot;5/4&quot;</span> | bc</span><br><span class="line">1</span><br><span class="line">âœ  <span class="built_in">echo</span> <span class="string">&quot;scale=3;5/4&quot;</span> | bc</span><br><span class="line">1.250</span><br><span class="line">âœ  <span class="built_in">echo</span> <span class="string">&quot;5%4&quot;</span> | bc</span><br><span class="line">1</span><br><span class="line">âœ  <span class="built_in">echo</span> <span class="string">&quot;5^4&quot;</span> | bc</span><br><span class="line">625</span><br></pre></td></tr></table></figure>

<h4 id="9-4-â€¦-ä¸-â€¦"><a href="#9-4-â€¦-ä¸-â€¦" class="headerlink" title="9.4. [ â€¦ ] ä¸ [[ â€¦ ]]"></a>9.4. [ â€¦ ] ä¸ [[ â€¦ ]]</h4><ul>
<li><code>[[</code> æ˜¯å…³é”®å­—ï¼Œè®¸å¤š shell å¹¶ä¸æ”¯æŒè¿™ç§æ–¹å¼ã€‚<ul>
<li>æ‰€æœ‰çš„å­—ç¬¦éƒ½ä¸ä¼šè¢«æ–‡ä»¶æ‰©å±•æˆ–æ˜¯æ ‡è®°åˆ†å‰²ï¼Œä½†æ˜¯ä¼šæœ‰å‚æ•°å¼•ç”¨å’Œå‘½ä»¤æ›¿æ¢ï¼›</li>
<li>æ›´èƒ½é˜²æ­¢è„šæœ¬é‡Œçš„è®¸å¤šé€»è¾‘é”™è¯¯ï¼Œæ¯”å¦‚è¯´ <code>&amp;&amp;</code>, <code>||</code>, <code>&lt;</code> å’Œ <code>&gt;</code> æ“ä½œç¬¦èƒ½åœ¨ä¸€ä¸ª <code>[[ ... ]]</code> æµ‹è¯•é‡Œé€šè¿‡ï¼Œä½†åœ¨ <code>[ ... ]</code> ç»“æ„ä¼šå‘ç”Ÿé”™è¯¯ã€‚</li>
<li>ä¼šè¿›è¡Œç®—æœ¯æ‰©å±•ã€‚</li>
</ul>
</li>
<li><code>[</code> æ˜¯ä¸€æ¡å‘½ä»¤ï¼Œä¸ test ç­‰ä»·ï¼Œå¤§å¤šæ•°çš„ shell éƒ½æ”¯æŒã€‚<ul>
<li>åœ¨å…¶ä¸­çš„è¡¨è¾¾å¼åº”æ˜¯å®ƒçš„å‘½ä»¤è¡Œå‚æ•°ï¼Œæ‰€ä»¥ä¸²æ¯”è¾ƒæ“ä½œç¬¦ <code>&gt;</code> ä¸ <code>&lt;</code> å¿…é¡»è½¬ä¹‰ï¼Œå¦åˆ™å°±å˜æˆ IO é‡å®šå‘æ“ä½œç¬¦äº†ã€‚</li>
<li>ä¸ä¼šè¿›è¡Œç®—æœ¯æ‰©å±•ã€‚</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Shell</tag>
        <tag>Bash</tag>
      </tags>
  </entry>
  <entry>
    <title>Shellæ–‡æœ¬å¤„ç†ä¸‰å‰‘å®¢ä¹‹awk</title>
    <url>/post/4211206534.html</url>
    <content><![CDATA[<blockquote>
<p>awk æ˜¯ä¸€ä¸ªæ–‡æœ¬å¤„ç†å·¥å…·ï¼Œé€šå¸¸ç”¨äºå¤„ç†æ•°æ®å¹¶ç”Ÿæˆç»“æœæŠ¥å‘Šã€‚å…¶å‘½åæºäºä¸‰ä½åˆ›å§‹äººå§“æ°é¦–å­—æ¯ï¼šAlfred Ahoã€Peter Weinbergerã€Brian Kernighanã€‚</p>
</blockquote>
<p>è¯­æ³•ï¼š</p>
<ul>
<li><code>awk [options] &#39;BEGIN&#123;&#125; pattern &#123;commands&#125; END&#123;&#125;&#39; file</code></li>
<li><code>stdout | awk [options] &#39;BEGIN&#123;&#125; pattern &#123;commands&#125; END&#123;&#125;&#39;</code></li>
</ul>
<p>è¯´æ˜ï¼š</p>
<ul>
<li><code>options</code> é€‰é¡¹</li>
<li><code>BEGIN&#123;&#125;</code> æ­£å¼å¤„ç†æ•°æ®ä¹‹å‰æ‰§è¡Œ</li>
<li><code>pattern</code> åŒ¹é…æ¨¡å¼</li>
<li><code>&#123;commands;...&#125;</code> å¤„ç†å‘½ä»¤ï¼Œå¯èƒ½å¤šè¡Œ</li>
<li><code>END&#123;&#125;</code> å¤„ç†å®Œæ‰€æœ‰åŒ¹é…æ•°æ®åæ‰§è¡Œ</li>
</ul>
<span id="more"></span>

<h3 id="å†…ç½®å˜é‡"><a href="#å†…ç½®å˜é‡" class="headerlink" title="å†…ç½®å˜é‡"></a>å†…ç½®å˜é‡</h3><table>
<thead>
<tr>
<th>å˜é‡å</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>$0</code></td>
<td>æ•´è¡Œå†…å®¹</td>
</tr>
<tr>
<td><code>$1-$n</code></td>
<td>å½“å‰è¡Œçš„ç¬¬ 1 - n ä¸ªå­—æ®µï¼ˆåˆ—ï¼‰</td>
</tr>
<tr>
<td><code>NF</code></td>
<td><em>Number Field</em>ï¼Œå½“å‰è¡Œå­—æ®µä¸ªæ•°ï¼ˆå¤šå°‘åˆ—ï¼‰</td>
</tr>
<tr>
<td><code>NR</code></td>
<td><em>Number Row</em>ï¼Œå½“å‰è¡Œçš„è¡Œå·ï¼Œä» 1 å¼€å§‹è®¡æ•°</td>
</tr>
<tr>
<td><code>FNR</code></td>
<td><em>File Number Row</em>ï¼Œå¤šæ–‡ä»¶å¤„ç†æ—¶ï¼Œæ¯ä¸ªæ–‡ä»¶è¡Œå·å•ç‹¬è®¡æ•°ï¼Œéƒ½æ˜¯ä» 0 å¼€å§‹</td>
</tr>
<tr>
<td><code>FS</code></td>
<td><em>Field Separator</em>ï¼Œè¾“å…¥å­—æ®µåˆ†éš”ç¬¦ï¼ˆé»˜è®¤ç©ºæ ¼æˆ– tab é”®ï¼‰</td>
</tr>
<tr>
<td><code>RS</code></td>
<td><em>Row Separator</em>ï¼Œè¾“å…¥è¡Œåˆ†éš”ç¬¦ï¼ˆé»˜è®¤å›è½¦æ¢è¡Œï¼‰</td>
</tr>
<tr>
<td><code>OFS</code></td>
<td><em>Output Field Separator</em>ï¼Œè¾“å‡ºå­—æ®µåˆ†éš”ç¬¦ï¼ˆé»˜è®¤ç©ºæ ¼ï¼‰</td>
</tr>
<tr>
<td><code>ORS</code></td>
<td><em>Output Row Separator</em>ï¼Œè¾“å‡ºè¡Œåˆ†éš”ç¬¦ï¼ˆé»˜è®¤å›è½¦æ¢è¡Œï¼‰</td>
</tr>
<tr>
<td><code>FILENAME</code></td>
<td>å½“å‰è¾“å…¥çš„æ–‡ä»¶åå­—</td>
</tr>
<tr>
<td><code>ARGC</code></td>
<td>å‘½ä»¤è¡Œå‚æ•°ä¸ªæ•°</td>
</tr>
<tr>
<td><code>ARGV</code></td>
<td>å‘½ä»¤è¡Œå‚æ•°æ•°ç»„</td>
</tr>
</tbody></table>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä»¥ : åˆ†éš”ï¼Œè¾“å‡ºç¬¬ 1 åˆ—</span></span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;FS=&quot;:&quot;&#125; &#123;print $1&#125;&#x27;</span> /etc/passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»¥ -- åˆ†éš”æˆè¡Œï¼Œä»¥ : åˆ†éš”æˆåˆ—ï¼Œè¾“å‡ºç¬¬ 1ã€2 åˆ—</span></span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;FS=&quot;:&quot;;RS=&quot;--&quot;&#125; &#123;print $1,$2&#125;&#x27;</span> /etc/passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»¥ : åˆ†éš”åˆ—ï¼Œè¾“å‡ºæœ€åä¸€åˆ—ï¼Œå› ä¸º NF å˜é‡æ˜¯æ€»åˆ—æ•°</span></span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;FS=&quot;:&quot;&#125; &#123;print $NF&#125;&#x27;</span> /etc/passwd</span><br></pre></td></tr></table></figure>


<h3 id="æ ¼å¼åŒ–è¾“å‡ºï¼ˆprintfï¼‰"><a href="#æ ¼å¼åŒ–è¾“å‡ºï¼ˆprintfï¼‰" class="headerlink" title="æ ¼å¼åŒ–è¾“å‡ºï¼ˆprintfï¼‰"></a>æ ¼å¼åŒ–è¾“å‡ºï¼ˆprintfï¼‰</h3><table>
<thead>
<tr>
<th>æ ¼å¼ç¬¦</th>
<th>è¯´æ˜</th>
<th>ä¿®é¥°ç¬¦</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>%s</code></td>
<td>å­—ç¬¦ä¸²</td>
<td><code>-</code></td>
<td>å·¦å¯¹é½</td>
</tr>
<tr>
<td><code>%d</code></td>
<td>åè¿›åˆ¶</td>
<td><code>+</code></td>
<td>å³å¯¹é½</td>
</tr>
<tr>
<td><code>%f</code></td>
<td>æµ®ç‚¹æ•°</td>
<td><code>#</code></td>
<td>å…«è¿›åˆ¶å‰é¢åŠ  0ï¼Œåå…­è¿›åˆ¶å‰é¢åŠ  0x</td>
</tr>
<tr>
<td><code>%x</code></td>
<td>åå…­è¿›åˆ¶</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>%o</code></td>
<td>å…«è¿›åˆ¶</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>%e</code></td>
<td>ç§‘å­¦è®¡æ•°æ³•</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>%c</code></td>
<td>å•ä¸ªå­—ç¬¦çš„ ASCII ç </td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># printf &quot;%+20s %-20s\n&quot;,$1,$7</span></span><br><span class="line"><span class="comment">#   - å·¦å¯¹é½ï¼›+ å³å¯¹é½</span></span><br><span class="line"><span class="comment">#   20 åˆ—å®½ï¼Œä¸è¶³åˆ™è¡¥ç©º</span></span><br><span class="line"><span class="comment">#   s æ‰“å°å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">#   .3f æ‰“å°ä¿ç•™ 3 ä½æ•°çš„æµ®ç‚¹æ•°</span></span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;FS=&quot;:&quot;;OFS=&quot;-&quot;&#125;&#123;printf &quot;%+20s %20.3f %-20s\n&quot;,$1,$3,$7&#125;&#x27;</span> /etc/passwd</span><br><span class="line">                root                0.000 /bin/bash</span><br><span class="line">                 bin                1.000 /sbin/nologin</span><br><span class="line">              daemon                2.000 /sbin/nologin</span><br><span class="line">                 adm                3.000 /sbin/nologin</span><br><span class="line">                  lp                4.000 /sbin/nologin</span><br></pre></td></tr></table></figure>

<h3 id="æ¨¡å¼åŒ¹é…ï¼ˆpatternï¼‰"><a href="#æ¨¡å¼åŒ¹é…ï¼ˆpatternï¼‰" class="headerlink" title="æ¨¡å¼åŒ¹é…ï¼ˆpatternï¼‰"></a>æ¨¡å¼åŒ¹é…ï¼ˆpatternï¼‰</h3><ul>
<li><code>RegExp</code>ï¼š<code>/patern/</code></li>
<li><code>å…³ç³»è¿ç®—</code>ï¼š<code>&lt;</code>ã€<code>&gt;</code>ã€<code>&lt;=</code>ã€<code>&gt;=</code>ã€<code>==</code>ã€<code>!=</code>ã€<code>~</code> æ­£åˆ™åŒ¹é…ã€<code>!~</code> éæ­£åˆ™åŒ¹é…ã€<code>&amp;&amp; </code> ä¸ã€<code>||</code> æˆ–ã€<code>!</code> é</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ‰“å°ä»¥ root å¼€å¤´çš„è¡Œ</span></span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;FS=&quot;:&quot;&#125; /^root/ &#123;print $0&#125;&#x27;</span> /etc/passwd</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°ç¬¬ 3 åˆ—å¤§äº 1000 çš„è¡Œ</span></span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;FS=&quot;:&quot;&#125; $3&gt;1000 &#123;print $0&#125;&#x27;</span> /etc/passwd</span><br><span class="line">nfsnobody:x:65534:65534:Anonymous NFS User:/var/lib/nfs:/sbin/nologin</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°ç¬¬ 7 åˆ—æ˜¯ /sbin/nologin çš„è¡Œ</span></span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;FS=&quot;:&quot;&#125; $7==&quot;/sbin/nologin&quot; &#123;print $0&#125;&#x27;</span> /etc/passwd</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°ç¬¬ 7 åˆ—ä»¥ nologin ç»“å°¾çš„è¡Œ</span></span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;FS=&quot;:&quot;&#125; $7~/.*nologin$/ &#123;print $0&#125;&#x27;</span> /etc/passwd</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°ç¬¬ 3 åˆ—å¤§äº 500ï¼Œå¹¶ä¸”ç¬¬ 7 åˆ—ä»¥ nologin ç»“å°¾çš„è¡Œ</span></span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;FS=&quot;:&quot;&#125; $3&gt;500 &amp;&amp; $7~/.*nologin$/ &#123;print $0&#125;&#x27;</span> /etc/passwd</span><br><span class="line">chrony:x:997:995::/var/lib/chrony:/sbin/nologin</span><br><span class="line">dockerroot:x:996:993:Docker User:/var/lib/docker:/sbin/nologin</span><br></pre></td></tr></table></figure>

<h3 id="è®¡ç®—è¡¨è¾¾å¼"><a href="#è®¡ç®—è¡¨è¾¾å¼" class="headerlink" title="è®¡ç®—è¡¨è¾¾å¼"></a>è®¡ç®—è¡¨è¾¾å¼</h3><p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ•°å­¦è®¡ç®—</span></span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;x=10;y=2; print x+y&#125;&#x27;</span></span><br><span class="line">12</span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;x=10;y=2; print x*y&#125;&#x27;</span></span><br><span class="line">20</span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;x=10;y=2; print x^y&#125;&#x27;</span></span><br><span class="line">100</span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;x=10;y=2; print x**y&#125;&#x27;</span></span><br><span class="line">100</span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;x=10;y=x++; print x,y&#125;&#x27;</span></span><br><span class="line">11 10</span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;x=10;y=++x; print x,y&#125;&#x27;</span></span><br><span class="line">11 11</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°ç©ºè¡Œè¡Œå·ã€ç»Ÿè®¡ç©ºè¡Œæ•°é‡</span></span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;idx=0;&#125; /^$/ &#123;idx++; print NR&#125; END&#123;print idx;&#125;&#x27;</span> /etc/passwd</span><br></pre></td></tr></table></figure>

<h3 id="æµç¨‹æ§åˆ¶è¯­å¥"><a href="#æµç¨‹æ§åˆ¶è¯­å¥" class="headerlink" title="æµç¨‹æ§åˆ¶è¯­å¥"></a>æµç¨‹æ§åˆ¶è¯­å¥</h3><p>è¯­æ³•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ¡ä»¶åˆ¤æ–­</span></span><br><span class="line"><span class="keyword">if</span>(condition1) &#123;</span><br><span class="line">    <span class="comment"># do something</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(condition2) &#123;</span><br><span class="line">    <span class="comment"># do something</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment"># do something</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¾ªç¯</span></span><br><span class="line"><span class="keyword">while</span>(condition) &#123;</span><br><span class="line">    <span class="comment">#do something</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="comment"># do something</span></span><br><span class="line"><span class="keyword">while</span>(condition)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(i=0;i&lt;10;i++) &#123;</span><br><span class="line">    <span class="comment"># do something</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¦‚æœç¬¬ 3 åˆ—å°äº 10 å¹¶ä¸”ç¬¬ 7 åˆ—æ˜¯ /sbin/nologin çš„è¡Œæ‰“å° this is if</span></span><br><span class="line"><span class="comment"># å¦‚æœç¬¬ 3 åˆ—å¤§äº 500 çš„æ‰“å° this is else if</span></span><br><span class="line"><span class="comment"># å¦åˆ™æ‰“å° this is else</span></span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;FS=&quot;:&quot;&#125; &#123; if($3&lt;10 &amp;&amp; $7=&quot;/sbin/nologin&quot;) &#123;print &quot;this is if&quot;&#125; else if($3&gt;500) &#123;print &quot;this is else if&quot;&#125; else &#123;print &quot;this is else&quot;&#125;&#125;&#x27;</span> /etc/passwd</span><br><span class="line">this is <span class="keyword">if</span></span><br><span class="line">this is <span class="keyword">if</span></span><br><span class="line">this is <span class="keyword">else</span></span><br><span class="line">this is <span class="keyword">else</span> <span class="keyword">if</span></span><br><span class="line">this is <span class="keyword">else</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¡ç®— 1-10 ç›¸åŠ çš„ç»“æœ</span></span><br><span class="line"><span class="comment"># æ³¨æ„ï¼šå˜é‡ä¸éœ€è¦æå‰å£°æ˜</span></span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123; while(i&lt;10) &#123; sum+=i; i++&#125;; print sum&#125;&#x27;</span></span><br><span class="line">45</span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;do &#123; sum+=i; i++; &#125; while(i&lt;10); print sum&#125;&#x27;</span></span><br><span class="line">45</span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123; for(i=0;i&lt;10;i++) &#123; sum+=i; &#125;; print sum&#125;&#x27;</span></span><br><span class="line">45</span><br></pre></td></tr></table></figure>


<h3 id="å­—ç¬¦ä¸²å‡½æ•°"><a href="#å­—ç¬¦ä¸²å‡½æ•°" class="headerlink" title="å­—ç¬¦ä¸²å‡½æ•°"></a>å­—ç¬¦ä¸²å‡½æ•°</h3><table>
<thead>
<tr>
<th>å‡½æ•°å</th>
<th>è¯´æ˜</th>
<th>è¿”å›å€¼</th>
</tr>
</thead>
<tbody><tr>
<td><code>length(str)</code></td>
<td>è®¡ç®—å­—ç¬¦ä¸²é•¿åº¦</td>
<td>æ•´æ•°é•¿åº¦å€¼</td>
</tr>
<tr>
<td><code>index(str,sub_str)</code></td>
<td>åœ¨ str ä¸­æŸ¥æ‰¾ sub_str çš„ä½ç½®</td>
<td>ä½ç½®ç´¢å¼•ï¼Œä» 1 è®¡æ•°</td>
</tr>
<tr>
<td><code>tolower(str)</code></td>
<td>è½¬å°å†™</td>
<td>è½¬æ¢åçš„å°å†™å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td><code>toupper(str)</code></td>
<td>è½¬å¤§äº›</td>
<td>è½¬æ¢åçš„å¤§å†™å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td><code>substr(str,start,length)</code></td>
<td>ä» str ç¬¬ start ä¸ªå­—ç¬¦å¼€å§‹ï¼Œæˆªå– length ä½</td>
<td>æˆªå–ååˆ°å­ä¸²</td>
</tr>
<tr>
<td><code>split(str,arr,fs)</code></td>
<td>æŒ‰ fs æ‹†åˆ†å­—ç¬¦ä¸²ï¼Œç»“æœä¿å­˜åˆ° arr</td>
<td>æ‹†åˆ†åå­ä¸²çš„ä¸ªæ•°</td>
</tr>
<tr>
<td><code>match(str,reg)</code></td>
<td>åœ¨ str ä¸­æŒ‰ reg æŸ¥æ‰¾ï¼Œè¿”å›ä½ç½®</td>
<td>ç´¢å¼•ä½ç½®</td>
</tr>
<tr>
<td><code>sub(reg,new_sub_str,str)</code></td>
<td>åœ¨ str ä¸­æœç´¢ç¬¦åˆ reg  çš„å­ä¸²ï¼Œå°†å…¶æ›¿æ¢ä¸º new_sub_strï¼Œ<strong>åªæ›¿æ¢ç¬¬ä¸€ä¸ª</strong></td>
<td>æ›¿æ¢çš„ä¸ªæ•°</td>
</tr>
<tr>
<td><code>gsub(reg,new_sub_str,str)</code></td>
<td>ç±»ä¼¼ <code>sub</code>ï¼Œæ›¿æ¢æ‰€æœ‰</td>
<td>æ›¿æ¢çš„ä¸ªæ•°</td>
</tr>
</tbody></table>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># sub(/oo/,&quot;11&quot;,$1) è¿”å›æ›¿æ¢çš„ä¸ªæ•°ï¼›åé¢çš„ $1 ä¸ºæ›¿æ¢åçš„å€¼</span></span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;FS=&quot;:&quot;&#125; &#123; print length($1),toupper($1),substr($1,0,2),sub(/oo/,&quot;11&quot;,$1),$1&#125;&#x27;</span> /etc/passwd</span><br><span class="line">4 ROOT ro 1 r11t</span><br><span class="line">3 BIN bi 0 bin</span><br><span class="line">6 DAEMON da 0 daemon</span><br><span class="line">4 SYNC sy 0 sync</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ•°ç»„ä¸‹æ ‡ä» 1 å¼€å§‹</span></span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;str=&quot;Shell;Python;C;C++;Java;PHP&quot;; split(str,arr,&quot;;&quot;); print arr[2]&#125;&#x27;</span></span><br><span class="line">Python</span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;str=&quot;Shell;Python;C;C++;Java;PHP&quot;; split(str,arr,&quot;;&quot;); for(i in arr) &#123; print arr[i]; &#125;&#125;&#x27;</span></span><br><span class="line">C++</span><br><span class="line">Java</span><br><span class="line">PHP</span><br><span class="line">Shell</span><br><span class="line">Python</span><br><span class="line">C</span><br></pre></td></tr></table></figure>


<h3 id="å¸¸ç”¨é€‰é¡¹ï¼ˆoptionsï¼‰"><a href="#å¸¸ç”¨é€‰é¡¹ï¼ˆoptionsï¼‰" class="headerlink" title="å¸¸ç”¨é€‰é¡¹ï¼ˆoptionsï¼‰"></a>å¸¸ç”¨é€‰é¡¹ï¼ˆoptionsï¼‰</h3><ul>
<li><code>-v</code> å‚æ•°ä¼ é€’</li>
<li><code>-f</code> æŒ‡å®šè„šæœ¬æ–‡ä»¶</li>
<li><code>-v</code> æŒ‡å®šåˆ†éš”ç¬¦</li>
<li><code>-V</code> æŸ¥çœ‹ awk ç‰ˆæœ¬</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¼•å…¥å¤–éƒ¨å˜é‡</span></span><br><span class="line">âœ  var1=10</span><br><span class="line">âœ  var2=<span class="string">&quot;hello awk&quot;</span></span><br><span class="line">âœ  awk -v var1=<span class="string">&quot;<span class="variable">$var1</span>&quot;</span> -v var2=<span class="string">&quot;<span class="variable">$var2</span>&quot;</span> <span class="string">&#x27;BEGIN&#123;print var1,var2&#125;&#x27;</span></span><br><span class="line">10 hello awk</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠŠæ‰€æœ‰æ“ä½œæŠ½ç¦»åˆ°ä¸€ä¸ªç‹¬ç«‹æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># å»ºè®®ï¼šå¤æ‚æ“ä½œä¼˜å…ˆä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œæ›´æ˜“äºç¨‹åºç†è§£å’Œç®¡ç†</span></span><br><span class="line">âœ  touch script.awk</span><br><span class="line">BEGIN&#123;</span><br><span class="line">    FS=<span class="string">&quot;:&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$3</span>&lt;10 &amp;&amp; <span class="variable">$7</span>=<span class="string">&quot;/sbin/nologin&quot;</span>) &#123;</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&quot;this is if&quot;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable">$3</span>&gt;500) &#123;</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&quot;this is else if&quot;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&quot;this is else&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">âœ  awk -f script.awk /etc/passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># -F: ç›¸å½“äº BEGIN&#123;FS=&quot;:&quot;&#125;</span></span><br><span class="line">$ awk -F: <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> <span class="built_in">pwd</span></span><br><span class="line">root</span><br><span class="line">bin</span><br><span class="line">daemon</span><br></pre></td></tr></table></figure>

<h3 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h3><p>shell ä¸­çš„æ•°ç»„æ“ä½œå¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th>ç¤ºä¾‹</th>
<th>è¾“å‡º</th>
</tr>
</thead>
<tbody><tr>
<td>å®šä¹‰ä¸€ä¸ªæ•°ç»„</td>
<td><code>arr=(&quot;Python&quot; &quot;PHP&quot; &quot;Java&quot; &quot;Go&quot; &quot;Rust&quot;)</code></td>
<td></td>
</tr>
<tr>
<td>æŸä¸ªæ•°ç»„å…ƒç´ ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰</td>
<td><code>echo $&#123;arr[2]&#125;</code></td>
<td>Java</td>
</tr>
<tr>
<td>æ•°ç»„å…ƒç´ ä¸ªæ•°</td>
<td><code>echo $&#123;#arr[@]&#125;</code></td>
<td>5</td>
</tr>
<tr>
<td>æŸä¸ªå…ƒç´ çš„é•¿åº¦</td>
<td><code>echo $&#123;#arr[0]&#125;</code></td>
<td>6</td>
</tr>
<tr>
<td>ä¿®æ”¹å…ƒç´ å€¼</td>
<td><code>arr[2]=&quot;JAVA&quot;</code></td>
<td></td>
</tr>
<tr>
<td>åˆ é™¤æ•°ç»„å…ƒç´ </td>
<td><code>unset arr[1]</code></td>
<td></td>
</tr>
<tr>
<td>æ‰“å°æ‰€æœ‰æ•°ç»„å…ƒç´ ï¼‰</td>
<td><code>echo $&#123;arr[@]&#125;</code></td>
<td>Python JAVA Go Rust</td>
</tr>
<tr>
<td>åˆ†ç‰‡è®¿é—®</td>
<td><code>echo $&#123;arr[@]:0:2&#125;</code></td>
<td>Python JAVA</td>
</tr>
<tr>
<td>æ•°ç»„å…ƒç´ æ›¿æ¢ï¼ˆæ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªï¼‰</td>
<td><code>echo $&#123;arr[@]/A/a&#125;</code></td>
<td>Python JaVA Go Rust</td>
</tr>
<tr>
<td>æ•°ç»„å…ƒç´ æ›¿æ¢ï¼ˆæ‰€æœ‰ï¼‰</td>
<td><code>echo $&#123;arr[@]//A/a&#125;</code></td>
<td>Python JaVa Go Rust</td>
</tr>
<tr>
<td>æ•°ç»„éå†</td>
<td><code>for a in $&#123;arr[*]&#125;; do echo $a; done</code></td>
<td></td>
</tr>
</tbody></table>
<blockquote>
<p>è€Œ awk ä¸­æ•°ç»„çš„ä½¿ç”¨ç•¥æœ‰ä¸åŒï¼Œå®ƒä½¿ç”¨<strong>å…³è”æ•°ç»„</strong>æä¾›æ•°ç»„åŠŸèƒ½ï¼Œå³æ•°ç»„çš„ç´¢å¼•å¯ä»¥æ˜¯<strong>æ•°å­—</strong>æˆ–<strong>ä»»æ„å­—ç¬¦ä¸²</strong>ã€‚</p>
</blockquote>
<p>è¯­æ³•ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®šä¹‰</span></span><br><span class="line"><span class="comment"># è¯­æ³•ï¼šarray_name[index]=value</span></span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;arr[0]=0; arr[&quot;second&quot;]=&quot;2&quot;; print arr[0],arr[&quot;second&quot;];&#125;&#x27;</span></span><br><span class="line">0 2</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ•°ç»„å…ƒç´ å‚ä¸è®¡ç®—</span></span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;arr[0]=0; arr[&quot;second&quot;]=&quot;2&quot;; print arr[0]+3,arr[&quot;second&quot;];&#125;&#x27;</span></span><br><span class="line">3 2</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤æ•°ç»„å…ƒç´ </span></span><br><span class="line"><span class="comment"># è¯­æ³•ï¼šdelete array_name[index]</span></span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;arr[0]=0;arr[&quot;second&quot;]=&quot;2&quot;; delete arr[&quot;second&quot;]; print arr[&quot;second&quot;];&#125;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># éå†æ•°ç»„</span></span><br><span class="line"><span class="comment"># æ–¹å¼ä¸€ï¼šfor ... in æ˜¯æ— åºè¾“å‡º</span></span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;str=&quot;Python Rust PHP Go&quot;; arrLen=split(str,arr,&quot; &quot;); for(i in arr)&#123; print i,arr[i] &#125;&#125;&#x27;</span></span><br><span class="line">4 Go</span><br><span class="line">1 Python</span><br><span class="line">2 Rust</span><br><span class="line">3 PHP</span><br><span class="line"><span class="comment"># æ–¹å¼äºŒï¼šfor(i=1;i&lt;=len;i++) &#123; ... &#125; æœ‰åºè¾“å‡º</span></span><br><span class="line">âœ  awk <span class="string">&#x27;BEGIN&#123;str=&quot;Python Rust PHP Go&quot;; arrLen=split(str,arr,&quot; &quot;); for(i=1;i&lt;=arrLen;i++)&#123; print i,arr[i] &#125;&#125;&#x27;</span></span><br><span class="line">1 Rust</span><br><span class="line">2 Go</span><br><span class="line">3 Python</span><br><span class="line">4 PHP</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Shell</tag>
        <tag>awk</tag>
      </tags>
  </entry>
  <entry>
    <title>Shellæ–‡æœ¬å¤„ç†ä¸‰å‰‘å®¢ä¹‹grep</title>
    <url>/post/990120436.html</url>
    <content><![CDATA[<blockquote>
<p>è¿‡æ»¤å™¨ï¼Œä¸»è¦ç”¨äºè¿‡æ»¤æ–‡ä»¶å†…å®¹ï¼ŒæŸ¥æ‰¾åŒ¹é…ä¿¡æ¯ã€‚</p>
</blockquote>
<p>è¯­æ³•ï¼š</p>
<ul>
<li><code>grep [option] [pattern] [file1,file2...]</code></li>
<li><code>command | grep [option] [pattern]</code></li>
</ul>
<span id="more"></span>

<p>å‚æ•°ï¼ˆoptionï¼‰ï¼š</p>
<ul>
<li><code>-v</code> ä¸æ˜¾ç¤ºåŒ¹é…ä¿¡æ¯</li>
<li><code>-i</code> æœç´¢æ—¶å¿½ç•¥å¤§å°å†™</li>
<li><code>-n</code> æ˜¾ç¤ºè¡Œå·</li>
<li><code>-r</code> é€’å½’æœç´¢ï¼ˆå½“å‰ç›®å½•ä¸‹æ‰€æœ‰ç›®å½•ï¼‰</li>
<li><code>-E</code> æ”¯æŒæ‰©å±•çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œç›¸å½“äº <code>egrep</code> å‘½ä»¤</li>
<li><code>-F</code> ä¸æŒ‰æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼ŒæŒ‰å­—ç¬¦ä¸²å­—é¢æ„æ€åŒ¹é…</li>
<li>å…¶å®ƒ<ul>
<li><code>-c</code> æˆåŠŸåŒ¹é…æ•°é‡</li>
<li><code>-w</code> åŒ¹é…æ•´ä¸ªå•è¯</li>
<li><code>-x</code> åŒ¹é…æ•´è¡Œ</li>
<li><code>-l</code> åªåˆ—å‡ºåŒ¹é…çš„æ–‡ä»¶å</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Shell</tag>
        <tag>grep</tag>
      </tags>
  </entry>
  <entry>
    <title>Shellæ–‡æœ¬å¤„ç†ä¸‰å‰‘å®¢ä¹‹sed</title>
    <url>/post/216593370.html</url>
    <content><![CDATA[<blockquote>
<p>sed æ˜¯ stream editor çš„ç¼©å†™ï¼Œæµç¼–è¾‘å™¨ï¼Œä¸»è¦ç”¨äºå¯¹æ ‡å‡†è¾“å‡ºæˆ–æ–‡ä»¶è¿›è¡Œå¤„ç†ã€‚</p>
</blockquote>
<p>è¯­æ³•ï¼š</p>
<ul>
<li><code>stdout | sed [option] &quot;pattern command&quot;</code></li>
<li><code>sed [option] &quot;pattern command&quot; file1</code></li>
</ul>
<span id="more"></span>

<h4 id="å¸¸ç”¨é€‰é¡¹ï¼ˆoptionï¼‰"><a href="#å¸¸ç”¨é€‰é¡¹ï¼ˆoptionï¼‰" class="headerlink" title="å¸¸ç”¨é€‰é¡¹ï¼ˆoptionï¼‰"></a>å¸¸ç”¨é€‰é¡¹ï¼ˆoptionï¼‰</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -n åªæ‰“å°é™é»˜æ¨¡å¼åŒ¹é…è¡Œï¼Œè€Œä¸è¾“å‡ºåŸè¡Œ</span></span><br><span class="line"><span class="comment"># p æ˜¯æ‰“å°å‘½ä»¤</span></span><br><span class="line">âœ  sed <span class="string">&#x27;/hello/p&#x27;</span> helloWorld.sh</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">HELLO bash</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;hello world&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;hello world&quot;</span></span><br><span class="line">âœ  sed -n <span class="string">&#x27;/hello/p&#x27;</span> helloWorld.sh</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;hello world&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -e è¿½åŠ ä¸€ç»„ç¼–è¾‘å‘½ä»¤</span></span><br><span class="line">âœ  sed -n -e <span class="string">&#x27;/hello/p&#x27;</span> -e <span class="string">&#x27;/HELLO/p&#x27;</span> helloWorld.sh</span><br><span class="line">HELLO bash</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;hello world&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -f æŠŠæ‰€æœ‰ç¼–è¾‘å‘½ä»¤ä¿å­˜åœ¨æ–‡ä»¶ä¸­ï¼Œé€‚ç”¨äºå¤æ‚ç¼–è¾‘æ“ä½œ</span></span><br><span class="line">âœ  cat edit.sed</span><br><span class="line">/hello/p</span><br><span class="line">âœ  sed -n -f edit.sed hello.md</span><br><span class="line"></span><br><span class="line"><span class="comment"># -E ï¼ˆæˆ– -rï¼‰æ”¯æŒæ‰©å±•æ­£åˆ™è¡¨è¾¾å¼</span></span><br><span class="line">âœ  sed -n -E <span class="string">&#x27;/hello|HELLO/p&#x27;</span> helloWorld.sh</span><br><span class="line">HELLO bash</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;hello world&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -i ç›´æ¥ä¿®æ”¹æºæ–‡ä»¶å†…å®¹</span></span><br><span class="line"><span class="comment"># s æ˜¯æ›¿æ¢å‘½ä»¤</span></span><br><span class="line"><span class="comment"># è¿™é‡Œæ˜¯å§ helloWorld.sh æ–‡ä»¶ä¸­æ‰€æœ‰çš„ hello æ”¹ä¸º hello123</span></span><br><span class="line">âœ  sed -n -i <span class="string">&#x27;s/hello/hello123/g&#x27;</span> helloWorld.sh</span><br></pre></td></tr></table></figure>


<h4 id="åŒ¹é…æ¨¡å¼ï¼ˆpatternï¼‰"><a href="#åŒ¹é…æ¨¡å¼ï¼ˆpatternï¼‰" class="headerlink" title="åŒ¹é…æ¨¡å¼ï¼ˆpatternï¼‰"></a>åŒ¹é…æ¨¡å¼ï¼ˆpatternï¼‰</h4><table>
<thead>
<tr>
<th>åŒ¹é…æ¨¡å¼</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>10command</code></td>
<td>ç¬¬ 10 è¡Œ</td>
</tr>
<tr>
<td><code>10,20command</code></td>
<td>ç¬¬ 10 åˆ° 20 è¡Œ</td>
</tr>
<tr>
<td><code>10,+5command</code></td>
<td>ç¬¬ 10 åˆ° 16 è¡Œ</td>
</tr>
<tr>
<td><code>/pattern1/command</code></td>
<td>åŒ¹é… pattern1 å¯¹åº”çš„è¡Œ</td>
</tr>
<tr>
<td><code>/pattern1/,/pattern2/command</code></td>
<td>ä» pattern1 å¯¹åº”çš„è¡Œå¼€å§‹ï¼Œåˆ° pattern2 çš„è¡Œ</td>
</tr>
<tr>
<td><code>10,/pattern1/command</code></td>
<td>ä»ç¬¬ 10 è¡Œå¼€å§‹ï¼Œåˆ° pattern1 çš„è¡Œ</td>
</tr>
<tr>
<td><code>/pattern1/,10command</code></td>
<td>ä» pattern1 å¯¹åº”çš„è¡Œå¼€å§‹ï¼Œåˆ°ç¬¬ 10 è¡Œ</td>
</tr>
</tbody></table>
<h4 id="å¸¸ç”¨ç¼–è¾‘å‘½ä»¤ï¼ˆcommandï¼‰"><a href="#å¸¸ç”¨ç¼–è¾‘å‘½ä»¤ï¼ˆcommandï¼‰" class="headerlink" title="å¸¸ç”¨ç¼–è¾‘å‘½ä»¤ï¼ˆcommandï¼‰"></a>å¸¸ç”¨ç¼–è¾‘å‘½ä»¤ï¼ˆcommandï¼‰</h4><ul>
<li>æŸ¥è¯¢<ul>
<li><code>p</code> æ‰“å°åŒ¹é…çš„å†…å®¹</li>
</ul>
</li>
<li>å¢åŠ <ul>
<li><code>a string</code> è¡Œåè¿½åŠ </li>
<li><code>i string</code> è¡Œå‰è¿½åŠ </li>
<li><code>r file</code> ä»å¤–éƒ¨æ–‡ä»¶è¯»å…¥ï¼Œåœ¨åŒ¹é…çš„è¡Œåè¿½åŠ </li>
<li><code>w newfile</code> å°†åŒ¹é…çš„è¡Œå†™å…¥å¤–éƒ¨æ–‡ä»¶</li>
</ul>
</li>
<li>åˆ é™¤<ul>
<li><code>d</code> åˆ é™¤</li>
</ul>
</li>
<li>ä¿®æ”¹<ul>
<li><code>s/old/new</code> æ›¿æ¢è¡Œå†…ç¬¬ä¸€ä¸ª old ä¸º new</li>
<li><code>s/old/new/g</code> è¡Œå†…æ‰€æœ‰ old æ›¿æ¢ä¸º new</li>
<li><code>s/old/new/2g</code> ä»ç¬¬ 2 è¡Œå¼€å§‹åˆ°æ–‡ä»¶æœ«å°¾çš„æ‰€æœ‰ old æ›¿æ¢ä¸º new</li>
<li><code>s/old/new/ig</code> è¡Œå†…æ‰€æœ‰ old æ›¿æ¢ä¸º newï¼Œå¿½ç•¥å¤§å°å†™</li>
</ul>
</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ é™¤ä»¥ sys å¼€å¤´ã€å¹¶ä¸”ä»¥/sbin/nologin ç»“å°¾çš„è¡Œ</span></span><br><span class="line">âœ  sed -i <span class="string">&#x27;/^sys.*\/sbin\/nologin$/d&#x27;</span> passwd_bak</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤æ³¨é‡Šè¡Œã€ç©ºè¡Œ</span></span><br><span class="line">sed -i <span class="string">&#x27;/[:blank:]*#/d;/^$/d&#x27;</span> passwd_bak</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥æ‰¾åœ¨ä»¥ vagrant å¼€å¤´çš„è¡Œï¼Œä¸‹ä¸€è¡Œè¿½åŠ å†…å®¹</span></span><br><span class="line">âœ  sed -i <span class="string">&#x27;/^vagrant/a è¿™æ˜¯è¿½åŠ çš„ä¸€è¡Œå†…å®¹&#x27;</span> passwd_bak</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠŠæ‰€æœ‰çš„ root æ›¿æ¢ä¸º root123</span></span><br><span class="line">âœ  sed -i <span class="string">&#x27;s/root/root123/ig&#x27;</span> passwd_bak</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨æ‰€æœ‰ä»¥ sys å¼€å¤´ã€ä»¥ nologin ç»“å°¾çš„è¡Œï¼Œå°¾éƒ¨è¿½åŠ  _666</span></span><br><span class="line"><span class="comment"># å…¶ä¸­ &amp; è¡¨ç¤ºå‰é¢æ­£åˆ™åŒ¹é…åˆ°çš„å†…å®¹</span></span><br><span class="line">âœ  sed -i <span class="string">&#x27;s/^sys.*nologin$/&amp;_666/g&#x27;</span> passwd_bak</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠŠæ‰€æœ‰ä»¥ sys å¼€å¤´ã€ä»¥ nologin_666 ç»“å°¾çš„è¡Œ æ”¹ä¸º</span></span><br><span class="line"><span class="comment"># ä»¥ SYS_ å¼€å¤´ã€ä»¥ _777 ç»“å°¾ï¼Œå…¶ä¸­ \1 è¡¨ç¤ºå‰é¢æ‹¬å·ä¸­åŒ¹é…çš„ä¸­é—´éƒ¨åˆ†å†…å®¹</span></span><br><span class="line">âœ  sed -i <span class="string">&#x27;s/^sys\(.*\)nologin_666$/SYS_\1_777/g&#x27;</span> passwd_bak</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠŠ 1 ï½ 10 è¡Œæ‰€æœ‰çš„ sys æ”¹ä¸º SYS</span></span><br><span class="line">âœ  sed -i <span class="string">&#x27;1,10s/sys/SYS/ig&#x27;</span> passwd_bak</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»Ÿè®¡ my.cnf æ–‡ä»¶ä¸­ mysqld çš„å­é…ç½®é¡¹æ•°é‡</span></span><br><span class="line"><span class="comment"># sed æŸ¥æ‰¾ä» [mysqld] åˆ° ä¸‹ä¸€ä¸ª[.*] ä¹‹é—´çš„è¡Œ</span></span><br><span class="line"><span class="comment"># grep -v è¿‡æ»¤æ³¨é‡Šã€ç©ºè¡Œå’Œ [.*] è¡Œ</span></span><br><span class="line"><span class="comment"># wc -l ç»Ÿè®¡æœ€åçš„è¡Œæ•°</span></span><br><span class="line">âœ  sed -n <span class="string">&quot;/^\[mysqld\]$/,/^\[.*\]$/p&quot;</span> /etc/my.cnf | grep -Ev <span class="string">&#x27;^$|[#;]|^\[.*&#x27;</span> | wc -l</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„</strong>ï¼šå¦‚æœåŒ¹é…æ¨¡å¼ä¸­å­˜åœ¨å˜é‡ï¼Œåˆ™å»ºè®®ä½¿ç”¨åŒå¼•å·ï¼Œå¦‚ <code>sed -i &quot;s/$OLD_STR/$NEW_STR/g&quot; passwd_bak</code></p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Shell</tag>
        <tag>grep</tag>
      </tags>
  </entry>
  <entry>
    <title>shell ä¸­å¦‚ä½•è¾“å‡º n ä¸ªè¿ç»­å­—ç¬¦</title>
    <url>/post/1152072481.html</url>
    <content><![CDATA[<p>æœ¬æ–‡ä»¥è¾“å‡º n ä¸ªç©ºæ ¼ä¸ºä¾‹ï¼Œæ–°å»º <code>demo.sh</code> ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">IP=<span class="string">&#x27;192.168.1.5&#x27;</span></span><br><span class="line">DESCRIPTION=<span class="string">&#x27;å†…éƒ¨æœåŠ¡å™¨5&#x27;</span></span><br><span class="line"><span class="comment"># spacenum=`expr 16 - $&#123;#IP&#125;`</span></span><br><span class="line">spacenum=12</span><br><span class="line"><span class="comment"># seq -s &#x27; &#x27; 5 è¾“å‡º 1 2 3 4 5</span></span><br><span class="line"><span class="comment"># seq -s &#x27;a&#x27; 5 è¾“å‡º 1a2a3a4a5a</span></span><br><span class="line"><span class="comment"># sed &#x27;s/[0-9]//g&#x27; å°† 0-9 çš„æ•°å­—å»æ‰</span></span><br><span class="line">spaces=$(seq -s <span class="string">&#x27; &#x27;</span> <span class="variable">$spacenum</span> | sed <span class="string">&#x27;s/[0-9]//g&#x27;</span>)</span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;$IP<span class="variable">$spaces</span>- <span class="variable">$DESCRIPTION</span>&quot;</span></span><br></pre></td></tr></table></figure>

<p>è¿è¡Œè¾“å‡ºå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ ~ sh demo.sh</span><br><span class="line">192.168.1.5            - å†…éƒ¨æœåŠ¡å™¨5</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Shell</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸€é”®åˆ‡æ¢brewå›½å†…é•œåƒæº</title>
    <url>/post/1031793596.html</url>
    <content><![CDATA[<blockquote>
<p>è¿™æ˜¯ä¸€ä¸ªåˆ‡æ¢ brew é•œåƒçš„è„šæœ¬ï¼Œèœå•ä¸€é”®æ“ä½œã€‚ç›®å‰åªæ·»åŠ äº†<strong>é˜¿é‡Œäº‘</strong>å’Œ<strong>ä¸­ç§‘å¤§</strong>çš„é•œåƒæºï¼Œå¦‚æœéœ€è¦ä½¿ç”¨å…¶å®ƒé•œåƒï¼Œè¯·æŒ‰ç…§æ ¼å¼è‡ªè¡Œæ·»åŠ ã€‚</p>
</blockquote>
<h3 id="æ“ä½œæ­¥éª¤"><a href="#æ“ä½œæ­¥éª¤" class="headerlink" title="æ“ä½œæ­¥éª¤"></a>æ“ä½œæ­¥éª¤</h3><ol>
<li>æ–°å»ºæ–‡ä»¶ <code>changeBrewMirror.sh</code>ï¼›</li>
<li>å°†ä¸‹é¢çš„ä»£ç æ‹·è´åˆ°æ–‡ä»¶ä¸­ï¼›</li>
<li>ç»™æ–‡ä»¶èµ‹äºˆå¯æ‰§è¡Œæƒé™ <code>chmod u+x changeBrewMirror.sh</code>ï¼›</li>
<li>è¿è¡Œè„šæœ¬ <code>sh changeBrewMirror.sh</code> æˆ– <code>./changeBrewMirror.sh</code>ï¼›</li>
<li>ok</li>
</ol>
<span id="more"></span>

<h3 id="è„šæœ¬æ–‡ä»¶"><a href="#è„šæœ¬æ–‡ä»¶" class="headerlink" title="è„šæœ¬æ–‡ä»¶"></a>è„šæœ¬æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">################################################</span></span><br><span class="line"><span class="comment"># <span class="doctag">TODO:</span> ä¿®æ”¹ macOS ç³»ç»Ÿä¸‹çš„ brew ä¸ºå›½å†…é•œåƒæº</span></span><br><span class="line"><span class="comment"># ç¤ºä¾‹ï¼š</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#       ./changeBrewMirror.sh</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Author: whoru.S.Q &lt;whoru@sqiang.net&gt;</span></span><br><span class="line"><span class="comment"># Link: https://github.com/whorusq/learning-linux/blob/master/shell/changeBrewMirror.sh</span></span><br><span class="line"><span class="comment"># Version: 1.0</span></span><br><span class="line"><span class="comment">################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é•œåƒåˆ—è¡¨</span></span><br><span class="line"><span class="comment"># æ ¼å¼ï¼š&quot;é•œåƒåç§°,brewåœ°å€,homebrew-coreåœ°å€,homebrew-bottlesåœ°å€&quot;</span></span><br><span class="line">MIRROR_LIST=(</span><br><span class="line">  <span class="string">&quot;é˜¿é‡Œäº‘,https://mirrors.aliyun.com/homebrew/brew.git,https://mirrors.aliyun.com/homebrew/homebrew-core.git,https://mirrors.aliyun.com/homebrew/homebrew-bottles&quot;</span></span><br><span class="line">  <span class="string">&quot;ä¸­ç§‘é™¢,https://mirrors.ustc.edu.cn/brew.git,https://mirrors.ustc.edu.cn/homebrew-core.git,https://mirrors.ustc.edu.cn/homebrew-bottles&quot;</span></span><br><span class="line">)</span><br><span class="line">IFS_OLD=<span class="variable">$IFS</span></span><br><span class="line"><span class="comment"># æ”¯æŒçš„ shell ç±»å‹</span></span><br><span class="line"><span class="comment"># å…¶å®ƒç±»å‹è¯·ä¿®æ”¹ç›¸å…³åˆ¤æ–­é€»è¾‘</span></span><br><span class="line">SHELL_TYPE_LIST=(<span class="string">&quot;/bin/zsh&quot;</span> <span class="string">&quot;/bin/bash&quot;</span>)</span><br><span class="line"><span class="comment"># å½“å‰ shell çš„é…ç½®æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">SHELL_CONFIG_PATH=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="comment"># å…è®¸çš„æ“ä½œåºå·</span></span><br><span class="line">ALLOWED_CHOICE=(0)</span><br><span class="line"><span class="comment"># è¾“å…¥é”™è¯¯è®¡æ•°</span></span><br><span class="line">ERROR_NO=0</span><br><span class="line"><span class="comment"># æœ€å¤§é”™è¯¯è¾“å…¥æ¬¡æ•°</span></span><br><span class="line">MAX_ERROR_NO=3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># èœå•</span></span><br><span class="line"><span class="keyword">function</span> menu &#123;</span><br><span class="line">  <span class="comment"># æ ¹æ®é…ç½®è¯»å–é•œåƒåˆ—è¡¨ï¼Œæ„é€ æ“ä½œèœå•</span></span><br><span class="line">  <span class="built_in">local</span> menu_num=1</span><br><span class="line">  <span class="built_in">local</span> MENUS=<span class="string">&quot;&quot;</span></span><br><span class="line">  <span class="keyword">for</span>(( i=1; i&lt;=<span class="variable">$&#123;#MIRROR_LIST[@]&#125;</span>; i++))</span><br><span class="line">  <span class="keyword">do</span></span><br><span class="line">    IFS=,</span><br><span class="line">    <span class="built_in">local</span> mirror=(<span class="variable">$&#123;MIRROR_LIST[$(($i-1))]&#125;</span>)</span><br><span class="line">    MENUS=<span class="variable">$MENUS</span><span class="string">&quot;[<span class="variable">$&#123;menu_num&#125;</span>]. <span class="variable">$&#123;mirror[0]&#125;</span>é•œåƒæº\n&quot;</span></span><br><span class="line">    ALLOWED_CHOICE[i]=<span class="variable">$menu_num</span></span><br><span class="line">    menu_num=$((<span class="variable">$menu_num</span>+<span class="number">1</span>))</span><br><span class="line">  <span class="keyword">done</span></span><br><span class="line">  MENUS=<span class="variable">$MENUS</span><span class="string">&quot;[0]. æ¢å¤é»˜è®¤\n&quot;</span></span><br><span class="line">  clear</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;-------------------------------------&quot;</span></span><br><span class="line">	<span class="built_in">echo</span> -en <span class="variable">$MENUS</span></span><br><span class="line">	IFS=<span class="variable">$IFS_OLD</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;-------------------------------------&quot;</span></span><br><span class="line"></span><br><span class="line">  getShellConfigPath ;</span><br><span class="line"></span><br><span class="line">  handleChoice ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤„ç†ç”¨æˆ·è¾“å…¥</span></span><br><span class="line"><span class="keyword">function</span> handleChoice &#123;</span><br><span class="line">  <span class="built_in">echo</span> -en <span class="string">&quot;è¯·è¾“å…¥\033[32måºå·\033[0mé€‰æ‹©è¦æ‰§è¡Œçš„æ“ä½œ: &quot;</span></span><br><span class="line">	<span class="built_in">read</span> choice</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$&#123;ALLOWED_CHOICE[@]&#125;</span>&quot;</span>  =~ <span class="string">&quot;<span class="variable">$choice</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="variable">$choice</span> -eq 0 ]; <span class="keyword">then</span></span><br><span class="line">      reset ;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      change <span class="variable">$choice</span>;</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="variable">$ERROR_NO</span> -lt <span class="variable">$MAX_ERROR_NO</span> ]; <span class="keyword">then</span></span><br><span class="line">      <span class="built_in">echo</span> -e <span class="string">&quot;æ— æ•ˆæ“ä½œï¼Œè¯·é‡æ–°è¾“å…¥...\n&quot;</span></span><br><span class="line">      ERROR_NO=$((<span class="variable">$ERROR_NO</span>+<span class="number">1</span>))</span><br><span class="line">      handleChoice ;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      <span class="built_in">echo</span> -e <span class="string">&quot;é”™è¯¯æ¬¡æ•°è¿‡å¤šï¼Œè¯·é‡æ–°è¿è¡Œç¨‹åº&quot;</span></span><br><span class="line">      <span class="built_in">exit</span> 1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å– shell é…ç½®æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="keyword">function</span> getShellConfigPath &#123;</span><br><span class="line">  <span class="built_in">local</span> shell_type=`<span class="built_in">echo</span> <span class="variable">$SHELL</span>`</span><br><span class="line">  <span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$&#123;SHELL_TYPE_LIST[@]&#125;</span>&quot;</span>  =~ <span class="string">&quot;<span class="variable">$shell_type</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;<span class="variable">$shell_type</span>&quot;</span> <span class="keyword">in</span></span><br><span class="line">      <span class="string">&quot;/bin/zsh&quot;</span>)</span><br><span class="line">        SHELL_CONFIG_PATH=~/.zshrc</span><br><span class="line">        ;;</span><br><span class="line">      <span class="string">&quot;/bin/bash&quot;</span>)</span><br><span class="line">        SHELL_CONFIG_PATH=~/.bash_profile</span><br><span class="line">        ;;</span><br><span class="line">      *)</span><br><span class="line">        <span class="comment"># default</span></span><br><span class="line">        ;;</span><br><span class="line">    <span class="keyword">esac</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;æœªçŸ¥çš„ shell ç±»å‹ï¼Œè¯·æ‰‹åŠ¨è®¾ç½®&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºä¸Šä¸€æ­¥æ‰§è¡Œç»“æœ</span></span><br><span class="line"><span class="keyword">function</span> showResult &#123;</span><br><span class="line">  <span class="keyword">if</span> [ `<span class="built_in">echo</span> $?` -eq 0 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;ok&quot;</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;failed&quot;</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›¿æ¢</span></span><br><span class="line"><span class="comment"># brew config | grep &quot;$&#123;mirror_config[1]&#125;&quot; | wc -l</span></span><br><span class="line"><span class="keyword">function</span> change &#123;</span><br><span class="line">  <span class="comment"># æ ¹æ®ä¼ è¿‡æ¥çš„ç¼–å·è¯»å–å¯¹åº”çš„é…ç½®ä¿¡æ¯</span></span><br><span class="line">  IFS=,</span><br><span class="line">  <span class="built_in">local</span> mirror_config=(<span class="variable">$&#123;MIRROR_LIST[$(($1-1))]&#125;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment"># brew.git</span></span><br><span class="line">  <span class="built_in">echo</span> -e <span class="string">&quot;\n\033[32m==&gt;\033[0m æ›¿æ¢\033[32m brew.git \033[0m\n&quot;</span></span><br><span class="line">  <span class="built_in">cd</span> <span class="string">&quot;<span class="subst">$(brew --repo)</span>&quot;</span></span><br><span class="line">  git remote set-url origin <span class="variable">$&#123;mirror_config[1]&#125;</span></span><br><span class="line">  showResult ;</span><br><span class="line"></span><br><span class="line">  <span class="comment"># homebrew-core.git</span></span><br><span class="line">  <span class="built_in">echo</span> -e <span class="string">&quot;\n\033[32m==&gt;\033[0m æ›¿æ¢\033[32m homebrew-core.git \033[0m\n&quot;</span></span><br><span class="line">  <span class="built_in">cd</span> <span class="string">&quot;<span class="subst">$(brew --repo)</span>/Library/Taps/homebrew/homebrew-core&quot;</span></span><br><span class="line">  git remote set-url origin <span class="variable">$&#123;mirror_config[2]&#125;</span></span><br><span class="line">  showResult ;</span><br><span class="line"></span><br><span class="line">  <span class="comment"># æ›´æ–°</span></span><br><span class="line">  <span class="built_in">echo</span> -e <span class="string">&quot;\n\033[32m==&gt;\033[0m æ›´æ–°\033[32m brew \033[0m\n&quot;</span></span><br><span class="line">  brew update</span><br><span class="line">  showResult ;</span><br><span class="line"></span><br><span class="line">  <span class="comment"># homebrew-bottles</span></span><br><span class="line">  <span class="built_in">echo</span> -e <span class="string">&quot;\n\033[32m==&gt;\033[0m æ›¿æ¢\033[32m homebrew-bottles \033[0m\n&quot;</span></span><br><span class="line">  <span class="built_in">local</span> exp=<span class="string">&quot;export HOMEBREW_BOTTLE_DOMAIN=<span class="variable">$&#123;mirror_config[3]&#125;</span>&quot;</span></span><br><span class="line">  <span class="keyword">if</span> [ <span class="variable">$SHELL_CONFIG_PATH</span> != <span class="string">&quot;&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$exp</span> &gt;&gt; <span class="variable">$SHELL_CONFIG_PATH</span></span><br><span class="line">    <span class="built_in">source</span> <span class="variable">$SHELL_CONFIG_PATH</span> &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;æ‰¾ä¸åˆ° shell é…ç½®æ–‡ä»¶ï¼Œè¯·æ‰‹åŠ¨å°† <span class="variable">$exp</span> æ·»åŠ åˆ°ä½ ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ä¸­ã€‚&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">  showResult ;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">echo</span> -e <span class="string">&quot;\næˆåŠŸåˆ‡æ¢åˆ°ã€<span class="variable">$&#123;mirror_config[0]&#125;</span>ã€‘é•œåƒæº\n&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¢å¤</span></span><br><span class="line"><span class="keyword">function</span> reset &#123;</span><br><span class="line">  <span class="built_in">echo</span> -e <span class="string">&quot;\n\033[32m==&gt;\033[0m æ¢å¤\033[32m brew.git \033[0m\n&quot;</span></span><br><span class="line">  <span class="built_in">cd</span> <span class="string">&quot;<span class="subst">$(brew --repo)</span>&quot;</span></span><br><span class="line">  git remote set-url origin https://github.com/Homebrew/brew.git</span><br><span class="line">  showResult ;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">echo</span> -e <span class="string">&quot;\n\033[32m==&gt;\033[0m æ¢å¤\033[32m homebrew-core.git \033[0m\n&quot;</span></span><br><span class="line">  <span class="built_in">cd</span> <span class="string">&quot;<span class="subst">$(brew --repo)</span>/Library/Taps/homebrew/homebrew-core&quot;</span></span><br><span class="line">  git remote set-url origin https://github.com/Homebrew/homebrew-core.git</span><br><span class="line">  showResult ;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">echo</span> -e <span class="string">&quot;\n\033[32m==&gt;\033[0m æ›´æ–°\033[32m brew \033[0m\n&quot;</span></span><br><span class="line">  brew update</span><br><span class="line">  showResult ;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">echo</span> -e <span class="string">&quot;\n\033[32m==&gt;\033[0m æ¢å¤\033[32m homebrew-bottles \033[0m\n&quot;</span></span><br><span class="line">  sed -e <span class="string">&#x27;/HOMEBREW_BOTTLE_DOMAIN/d&#x27;</span> <span class="variable">$SHELL_CONFIG_PATH</span> &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">  <span class="built_in">source</span> <span class="variable">$SHELL_CONFIG_PATH</span> &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">  showResult ;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">echo</span> -e <span class="string">&quot;\nå·²æ¢å¤\n&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">menu ;</span><br></pre></td></tr></table></figure>

<h3 id="QA"><a href="#QA" class="headerlink" title="QA"></a>QA</h3><h4 id="warning-There-are-too-many-unreachable-loose-objects-run-39-git-prune-39-to-remove-them"><a href="#warning-There-are-too-many-unreachable-loose-objects-run-39-git-prune-39-to-remove-them" class="headerlink" title="warning: There are too many unreachable loose objects; run &#39;git prune&#39; to remove them."></a><code>warning: There are too many unreachable loose objects; run &#39;git prune&#39; to remove them.</code></h4><p>è§£å†³ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">cd</span> <span class="string">&quot;<span class="subst">$(brew --repo)</span>&quot;</span></span><br><span class="line">âœ  git prune &amp;&amp; git gc</span><br><span class="line"></span><br><span class="line">âœ  <span class="built_in">cd</span> <span class="string">&quot;<span class="subst">$(brew --repo homebrew/core)</span>&quot;</span></span><br><span class="line">âœ  git prune &amp;&amp; git gc</span><br><span class="line"></span><br><span class="line">âœ  <span class="built_in">cd</span> -</span><br><span class="line">âœ  brew update</span><br></pre></td></tr></table></figure>

<p>å‚ç…§ï¼š</p>
<ul>
<li><a href="https://stackoverflow.com/questions/34859640/error-when-trying-to-brew-update">https://stackoverflow.com/questions/34859640/error-when-trying-to-brew-update</a></li>
</ul>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>macOS</tag>
        <tag>Shell</tag>
        <tag>Bash</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨ Shell å¤‡ä»½è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„ MySQL æ•°æ®åº“åˆ°æœ¬æœº</title>
    <url>/post/3997579074.html</url>
    <content><![CDATA[<blockquote>
<p>æ“ä½œæµç¨‹ï¼š</p>
<ol>
<li>å…ˆç™»å½•æœåŠ¡å™¨ï¼Œå¤‡ä»½æ•°æ®åº“ï¼›</li>
<li>å°†å¤‡ä»½æ–‡ä»¶æ‹‰å–åˆ°æœ¬æœºã€‚</li>
</ol>
</blockquote>
<p>ä¸»è¦æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š<code>expect</code>ã€<code>mysqldump</code>ã€<code>scp</code></p>
<span id="more"></span>

<h3 id="1-æºç "><a href="#1-æºç " class="headerlink" title="1. æºç "></a>1. æºç </h3><p>æ–°å»º Shell æ–‡ä»¶ï¼š<code>mysqlDumpRemote2Local.sh</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">################################################</span></span><br><span class="line"><span class="comment"># <span class="doctag">TODO:</span> ç™»å½•è¿œç¨‹æœåŠ¡å™¨ï¼Œå¤‡ä»½æŒ‡å®šæ•°æ®åº“å¹¶ä¸‹è½½åˆ°æœ¬åœ°</span></span><br><span class="line"><span class="comment"># ç¤ºä¾‹ï¼š</span></span><br><span class="line"><span class="comment">#       ./mysqlDumpRemote2Local.sh</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># File: https://github.com/whorusq/linux-learning/blob/master/shell/mysqlDumpRemote2Local.sh</span></span><br><span class="line"><span class="comment"># Author: whoru.S.Q &lt;whoru@sqiang.net&gt;</span></span><br><span class="line"><span class="comment"># Version: 1.0</span></span><br><span class="line"><span class="comment">################################################</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¾…æ“ä½œå¾…æœåŠ¡å™¨åˆ—è¡¨</span></span><br><span class="line"><span class="comment"># æ ¼å¼ï¼š&quot;æè¿°,æ•°æ®åº“å,æ•°æ®åº“ç”¨æˆ·å,æ•°æ®åº“å¯†ç ,æ•°æ®åº“ç«¯å£å·,SSHç™»å½•ç”¨æˆ·å,SSHæœåŠ¡å™¨IP,SSHç™»å½•å¯†ç ,SSHç«¯å£å·&quot;</span></span><br><span class="line">HOSTS=(</span><br><span class="line"> 	<span class="string">&quot;test,db_demo,root,pwd123456,3306,root,192.168.1.127,pwd3333,22&quot;</span></span><br><span class="line">)</span><br><span class="line">HOSTS_LEN=`<span class="built_in">echo</span> <span class="variable">$&#123;#HOSTS[*]&#125;</span>`</span><br><span class="line">HOST_KEY=</span><br><span class="line"></span><br><span class="line"><span class="comment"># æœåŠ¡å™¨ä¸Šå¤‡ä»½æ–‡ä»¶çš„å­˜æ”¾ç›®å½•</span></span><br><span class="line">DB_BACKUP_PATH=/opt/backup</span><br><span class="line"></span><br><span class="line"><span class="comment"># å½“å‰è„šæœ¬æ‰€å¤„ç›®å½•</span></span><br><span class="line">BASE_PATH=$(<span class="built_in">cd</span> <span class="string">&quot;<span class="subst">$(dirname <span class="string">&quot;<span class="variable">$0</span>&quot;</span>)</span>&quot;</span>;<span class="built_in">pwd</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…¥å£</span></span><br><span class="line"><span class="keyword">function</span> main &#123;</span><br><span class="line">    <span class="comment">#æ£€æŸ¥åŸºç¡€è®¾ç½®</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$HOST_LEN</span>&quot;</span> == <span class="string">&quot;0&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;æ‚¨è¿˜æ²¡æœ‰é…ç½®å¾…æ“ä½œçš„æœåŠ¡å™¨å‚æ•°&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> 1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ˜¾ç¤ºèœå•</span></span><br><span class="line">    MENU=<span class="string">&quot;\n&quot;</span></span><br><span class="line">    INDEX=1</span><br><span class="line">    <span class="keyword">for</span> host <span class="keyword">in</span> <span class="variable">$&#123;HOSTS[*]&#125;</span></span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        <span class="built_in">local</span> host_name=`<span class="built_in">echo</span> <span class="variable">$host</span> | awk -F <span class="string">&#x27;,&#x27;</span> <span class="string">&#x27;&#123; print $1&quot; ===&gt; &quot;$2&#125;&#x27;</span>`</span><br><span class="line">        MENU=<span class="variable">$MENU</span><span class="string">&quot;\t&quot;</span><span class="variable">$INDEX</span><span class="string">&quot;. &quot;</span><span class="variable">$host_name</span><span class="string">&quot;\n&quot;</span></span><br><span class="line">        INDEX=`expr <span class="variable">$INDEX</span> + 1`</span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">    <span class="built_in">echo</span> -en <span class="variable">$MENU</span><span class="string">&quot;\n&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ£€æŸ¥é€‰æ‹©</span></span><br><span class="line">    checkChoice</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¼€å§‹å¯¼å‡ºæ“ä½œ</span></span><br><span class="line">    doDump</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> checkChoice &#123;</span><br><span class="line">    <span class="built_in">read</span> -p <span class="string">&quot;è¯·è¾“å…¥åºå·é€‰æ‹©å¾…å¤‡ä»½çš„æ•°æ®åº“ï¼š&quot;</span> HOST_NUM</span><br><span class="line">    len=`<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$HOST_NUM</span>&quot;</span>|sed <span class="string">&#x27;s/[1-9]//g&#x27;</span>`</span><br><span class="line">    <span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$len</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        ifGoon <span class="string">&quot;è¾“å…¥æœ‰è¯¯ï¼Œåªæ”¯æŒ1-9çš„æ•°å­—ï¼Œæ˜¯å¦é‡æ–°è¾“å…¥[y/n]ï¼š&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        KEY=`expr <span class="variable">$HOST_NUM</span> - 1`</span><br><span class="line">        <span class="keyword">if</span> [ <span class="variable">$KEY</span> -le <span class="variable">$HOSTS_LEN</span> ]; <span class="keyword">then</span></span><br><span class="line">            HOST_KEY=<span class="variable">$KEY</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            ifGoon <span class="string">&quot;æœªçŸ¥çš„åºå·ï¼Œæ˜¯å¦é‡æ–°è¾“å…¥[y/n]ï¼š&quot;</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> ifGoon &#123;</span><br><span class="line">    <span class="built_in">echo</span> -en <span class="string">&quot;\033[32m==&gt;\033[0m &quot;</span></span><br><span class="line">    <span class="built_in">read</span> -p <span class="variable">$1</span> GOON</span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$GOON</span>&quot;</span> == <span class="string">&quot;y&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        checkChoice</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">exit</span> 0</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> doDump &#123;</span><br><span class="line">    <span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$SERVER_KEY</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;æœªçŸ¥çš„åºå·&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> 0</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä»å¯¹åº”çš„é…ç½®ä¸­è§£ææ•°æ®åº“å’Œ SSH å‚æ•°</span></span><br><span class="line">    HOST=<span class="variable">$&#123;HOSTS[$HOST_KEY]&#125;</span></span><br><span class="line">    HOST_NAME=`<span class="built_in">echo</span> <span class="variable">$HOST</span> | awk -F <span class="string">&#x27;,&#x27;</span> <span class="string">&#x27;&#123; print $1 &#125;&#x27;</span>`</span><br><span class="line">    DB_NAME=`<span class="built_in">echo</span> <span class="variable">$HOST</span> | awk -F <span class="string">&#x27;,&#x27;</span> <span class="string">&#x27;&#123; print $2 &#125;&#x27;</span>`</span><br><span class="line">    DB_USER=`<span class="built_in">echo</span> <span class="variable">$HOST</span> | awk -F <span class="string">&#x27;,&#x27;</span> <span class="string">&#x27;&#123; print $3 &#125;&#x27;</span>`</span><br><span class="line">    DB_PWD=`<span class="built_in">echo</span> <span class="variable">$HOST</span> | awk -F <span class="string">&#x27;,&#x27;</span> <span class="string">&#x27;&#123; print $4 &#125;&#x27;</span>`</span><br><span class="line">    DB_PORT=`<span class="built_in">echo</span> <span class="variable">$HOST</span> | awk -F <span class="string">&#x27;,&#x27;</span> <span class="string">&#x27;&#123; print $5 &#125;&#x27;</span>`</span><br><span class="line">    SSH_USER=`<span class="built_in">echo</span> <span class="variable">$HOST</span> | awk -F <span class="string">&#x27;,&#x27;</span> <span class="string">&#x27;&#123; print $6 &#125;&#x27;</span>`</span><br><span class="line">    SSH_IP=`<span class="built_in">echo</span> <span class="variable">$HOST</span> | awk -F <span class="string">&#x27;,&#x27;</span> <span class="string">&#x27;&#123; print $7 &#125;&#x27;</span>`</span><br><span class="line">    SSH_PWD=`<span class="built_in">echo</span> <span class="variable">$HOST</span> | awk -F <span class="string">&#x27;,&#x27;</span> <span class="string">&#x27;&#123; print $8 &#125;&#x27;</span>`</span><br><span class="line">    SSH_PORT=`<span class="built_in">echo</span> <span class="variable">$HOST</span> | awk -F <span class="string">&#x27;,&#x27;</span> <span class="string">&#x27;&#123; print $9 &#125;&#x27;</span>`</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¤‡ä»½æ–‡ä»¶å</span></span><br><span class="line">    DUMP_FILENAME=<span class="variable">$HOST_NAME</span><span class="string">&quot;_&quot;</span>`date +%Y%m%d%H%M%S`</span><br><span class="line"></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\n\033[32m==&gt;\033[0m æ“ä½œå¼€å§‹ &quot;</span></span><br><span class="line">    sleep 1</span><br><span class="line"></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\n\033[32m==&gt;\033[0m ç™»å½• <span class="variable">$&#123;HOST_NAME&#125;</span> æ­£å¼æœåŠ¡å™¨ï¼Œå¤‡ä»½æ•°æ®åº“&quot;</span></span><br><span class="line">    sleep 1</span><br><span class="line">    expect -c <span class="string">&quot;</span></span><br><span class="line"><span class="string">        spawn ssh <span class="variable">$&#123;SSH_USER&#125;</span>@<span class="variable">$&#123;SSH_IP&#125;</span> -p <span class="variable">$&#123;SSH_PORT&#125;</span></span></span><br><span class="line"><span class="string">        expect &#123;</span></span><br><span class="line"><span class="string">            \&quot;yes/no\&quot; &#123;send \&quot;yes\n\&quot;; exp_continue;&#125;</span></span><br><span class="line"><span class="string">            \&quot;*assword\&quot; &#123; send \&quot;<span class="variable">$&#123;SSH_PWD&#125;</span>\r\n\&quot;; exp_continue ; sleep 3; &#125;</span></span><br><span class="line"><span class="string">            \&quot;Last*\&quot; &#123;  send_user \&quot;\n ç™»å½•æˆåŠŸ \n\&quot;;&#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">        expect \&quot;*]#\&quot;</span></span><br><span class="line"><span class="string">        send \&quot;ls <span class="variable">$&#123;DB_BACKUP_PATH&#125;</span> &amp;&gt;/dev/null &amp;&amp; cd <span class="variable">$&#123;DB_BACKUP_PATH&#125;</span> || mkdir -p <span class="variable">$&#123;DB_BACKUP_PATH&#125;</span> &amp;&amp; cd <span class="variable">$&#123;DB_BACKUP_PATH&#125;</span> \r\&quot;</span></span><br><span class="line"><span class="string">        send \&quot;mysqldump -u<span class="variable">$&#123;DB_USER&#125;</span> -p<span class="variable">$&#123;DB_PWD&#125;</span> -P <span class="variable">$&#123;DB_PORT&#125;</span> <span class="variable">$&#123;DB_NAME&#125;</span> &gt; <span class="variable">$&#123;DUMP_FILENAME&#125;</span>.sql \r\&quot;</span></span><br><span class="line"><span class="string">        send \&quot;tar -zcvf <span class="variable">$&#123;DUMP_FILENAME&#125;</span>.tar.gz <span class="variable">$&#123;DUMP_FILENAME&#125;</span>.sql  \r\&quot;</span></span><br><span class="line"><span class="string">        send \&quot;exit \r\&quot;</span></span><br><span class="line"><span class="string">        interact</span></span><br><span class="line"><span class="string">    &quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\n\033[32m==&gt;\033[0m é€€å‡º <span class="variable">$&#123;HOST_NAME&#125;</span> æ­£å¼æœåŠ¡å™¨ \n&quot;</span></span><br><span class="line">    sleep 1</span><br><span class="line"></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\n\033[32m==&gt;\033[0m å°†å¤‡ä»½æ–‡ä»¶æ‹‰å–åˆ°æœ¬æœº \n&quot;</span></span><br><span class="line">    sleep 1</span><br><span class="line">    expect -c <span class="string">&quot;</span></span><br><span class="line"><span class="string">        spawn scp -P <span class="variable">$SSH_PORT</span> <span class="variable">$SSH_USER</span>@<span class="variable">$SSH_IP</span>:<span class="variable">$DB_BACKUP_PATH</span>/<span class="variable">$DUMP_FILENAME</span>.tar.gz <span class="variable">$BASE_PATH</span></span></span><br><span class="line"><span class="string">        expect &#123;</span></span><br><span class="line"><span class="string">            \&quot;*assword\&quot; &#123; send \&quot;<span class="variable">$&#123;SSH_PWD&#125;</span>\r\n\&quot;; exp_continue ; &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\n\033[32m==&gt;\033[0m æ“ä½œç»“æŸï¼Œæ–‡ä»¶ä½ç½®ï¼š&quot;</span><span class="variable">$BASE_PATH</span>/<span class="variable">$DUMP_FILENAME</span>.tar.gz<span class="string">&quot; \n&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡Œ</span></span><br><span class="line">main</span><br></pre></td></tr></table></figure>

<h3 id="2-ä½¿ç”¨ç¤ºä¾‹"><a href="#2-ä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="2. ä½¿ç”¨ç¤ºä¾‹"></a>2. ä½¿ç”¨ç¤ºä¾‹</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">âœ  ./mysqlDumpRemote2Local.sh</span><br><span class="line"></span><br><span class="line">        1. test ===&gt; db_demo</span><br><span class="line"></span><br><span class="line">è¯·è¾“å…¥åºå·é€‰æ‹©å¾…å¤‡ä»½çš„æ•°æ®åº“ï¼š1</span><br><span class="line"></span><br><span class="line">==&gt; æ“ä½œå¼€å§‹</span><br><span class="line"></span><br><span class="line">==&gt; ç™»å½• test æ­£å¼æœåŠ¡å™¨ï¼Œå¤‡ä»½æ•°æ®åº“</span><br><span class="line">spawn ssh root@192.168.1.127 -p 22</span><br><span class="line">root@192.168.1.127&#x27;s password:</span><br><span class="line">Last login: Tue Nov 13 13:43:53 2018 from xxxxxxxxx</span><br><span class="line"></span><br><span class="line"> ç™»å½•æˆåŠŸ</span><br><span class="line">[root@ test ~]# ls /opt/backup &amp;&gt;/dev/null &amp;&amp; cd /opt/backup || mkdir -p /opt/backup &amp;&amp; cd /opt/backup</span><br><span class="line">[root@ test backup]# mysqldump -uroot -ppwd123456 -P 3306 db_demo &gt; test_20181113135359.sql</span><br><span class="line">Warning: Using a password on the command line interface can be insecure.</span><br><span class="line">[root@dbhs backup]# tar -zcvf test_20181113135359.tar.gz test_20181113135359.sql</span><br><span class="line">test_20181113135359.sql</span><br><span class="line">[root@dbhs backup]# exit</span><br><span class="line">logout</span><br><span class="line">Connection to 192.168.1.127 closed.</span><br><span class="line"></span><br><span class="line">==&gt; é€€å‡º test æ­£å¼æœåŠ¡å™¨</span><br><span class="line"></span><br><span class="line">==&gt; å°†å¤‡ä»½æ–‡ä»¶æ‹‰å–åˆ°æœ¬æœº</span><br><span class="line"></span><br><span class="line">spawn scp -P 22 root@192.168.1.127:/opt/backup/test_20181113135359.tar.gz /Users/xxxxx/mydev/linux-learning/shell</span><br><span class="line">root@218.29.103.28&#x27;s password:</span><br><span class="line">test_20181113135359.tar.gz                       100%   66KB 941.5KB/s   00:00</span><br><span class="line"></span><br><span class="line">==&gt; æ“ä½œç»“æŸï¼Œæ–‡ä»¶ä½ç½®ï¼š/Users/xxxxx/mydev/linux-learning/shell/test_20181113135359.tar.gz</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>MySQL</tag>
        <tag>Shell</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux ä¸‹å¦‚ä½•ä¿®æ”¹ ssh ç™»å½•æ¬¢è¿ä¿¡æ¯</title>
    <url>/post/980934396.html</url>
    <content><![CDATA[<h3 id="æ•ˆæœé¢„è§ˆ"><a href="#æ•ˆæœé¢„è§ˆ" class="headerlink" title="æ•ˆæœé¢„è§ˆ"></a>æ•ˆæœé¢„è§ˆ</h3><center>
<img data-src="https://static.sqiang.net/image/post/linux_motd.png" width="90%">
</center>

<span id="more"></span>

<h3 id="æ“ä½œæ­¥éª¤"><a href="#æ“ä½œæ­¥éª¤" class="headerlink" title="æ“ä½œæ­¥éª¤"></a>æ“ä½œæ­¥éª¤</h3><ol>
<li><p>æ–°å»ºä¸€ä¸ªshè„šæœ¬æ–‡ä»¶</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vimÂ motd.sh</span><br></pre></td></tr></table></figure></li>
<li><p>åœ¨æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼ˆå¯æ ¹æ®éœ€è¦è‡ªè¡Œä¿®æ”¹ <code>echo</code> éƒ¨åˆ†çš„å†…å®¹ï¼‰</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash">defineÂ theÂ filenameÂ toÂ useÂ asÂ output</span></span><br><span class="line">motd=&quot;/etc/motd&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash">Â CollectÂ usefulÂ informationÂ aboutÂ yourÂ system</span></span><br><span class="line"><span class="meta">#</span><span class="bash">Â <span class="variable">$USER</span>Â isÂ automaticallyÂ defined</span></span><br><span class="line">HOSTNAME=`unameÂ -n`</span><br><span class="line">KERNEL=`unameÂ -r`</span><br><span class="line">CPU=`unameÂ -p`</span><br><span class="line">ARCH=`unameÂ -m`</span><br><span class="line"><span class="meta">#</span><span class="bash">Â TheÂ differentÂ coloursÂ asÂ variables</span></span><br><span class="line">W=&quot;\033[01;37m&quot;</span><br><span class="line">B=&quot;\033[01;34m&quot;</span><br><span class="line">R=&quot;\033[01;31m&quot;</span><br><span class="line">X=&quot;\033[00;37m&quot;</span><br><span class="line">G=&quot;\033[01;32m&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash">Â clearÂ &gt;Â <span class="variable">$motd</span>Â <span class="comment">#Â toÂ clearÂ theÂ screenÂ whenÂ showingÂ up</span></span></span><br><span class="line">echoÂ -eÂ &quot;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &quot;Â &gt;&gt;Â $motd</span><br><span class="line">echoÂ -eÂ &quot;Â Â Â Â Â Â Â Â WelcomeÂ toÂ $BÂ Your-Host-NameÂ $XÂ server.Â Â Â Â Â Â Â Â Â Â &quot;Â &gt;&gt;Â $motd</span><br><span class="line">echoÂ -eÂ &quot;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &quot;Â &gt;&gt;Â $motd</span><br><span class="line">echoÂ -eÂ &quot;Â Â $GÂ TheÂ worldÂ isÂ notÂ youÂ canÂ do,Â butÂ youÂ should.Â Â Â Â Â Â $XÂ &quot;Â &gt;&gt;Â $motd</span><br><span class="line">echoÂ -eÂ &quot;$B&quot;Â &gt;&gt;Â $motd</span><br><span class="line">echoÂ -eÂ &quot;Â Â Â Â Â Â Â Â Â \Â Â Â ,__,Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &quot;Â &gt;&gt;Â $motd</span><br><span class="line">echoÂ -eÂ &quot;Â Â Â Â Â Â Â Â Â Â \Â Â (oo)____Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &quot;Â &gt;&gt;Â $motd</span><br><span class="line">echoÂ -eÂ &quot;Â Â Â Â Â Â Â Â Â Â Â Â Â (__)Â Â Â Â )\Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &quot;Â &gt;&gt;Â $motd</span><br><span class="line">echoÂ -eÂ &quot;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ||--||Â *Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &quot;Â &gt;&gt;Â $motd</span><br><span class="line">echoÂ -eÂ &quot;$X&quot;Â &gt;&gt;Â $motd</span><br></pre></td></tr></table></figure></li>
<li><p>ä»¥rootç”¨æˆ·æ‰§è¡Œè¯¥è„šæœ¬</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ./motd.shÂ </span><br><span class="line">æˆ–Â </span><br><span class="line">$ shÂ motd.sh</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>motd</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux ä¸‹æ–‡ä»¶ç±»å‹è¯´æ˜</title>
    <url>/post/2330113912.html</url>
    <content><![CDATA[<blockquote>
<p>åœ¨Linuxç³»ç»Ÿä¸­ï¼Œæ–‡ä»¶çš„åç¼€åå¹¶æ²¡æœ‰å…·ä½“æ„ä¹‰.ä½†æ˜¯ä¸ºäº†ä¾¿äºåŒºåˆ†å’Œç®¡ç†ï¼Œæ¨èç»™æ–‡ä»¶åŠ ä¸€ä¸ªåç¼€åã€‚</p>
</blockquote>
<span id="more"></span>

<p>å¸¸è§æ–‡ä»¶ç±»å‹å¦‚ä¸‹ï¼š</p>
<ol>
<li><p>æ™®é€šæ–‡ä»¶</p>
<ul>
<li>ä»¥ <strong>-</strong> å¼€å¤´ï¼Œä¸€èˆ¬æ˜¯çº¯æ–‡æœ¬æ–‡ä»¶æˆ–äºŒè¿›åˆ¶æ–‡ä»¶</li>
</ul>
</li>
<li><p>ç›®å½•æ–‡ä»¶</p>
<ul>
<li>ä»¥ <strong>b</strong> å¼€å¤´</li>
</ul>
</li>
<li><p>é“¾æ¥æ–‡ä»¶</p>
<ul>
<li>ä»¥ <strong>l</strong> å¼€å¤´ï¼Œåˆ†ä¸º<em>è½¯é“¾æ¥</em>å’Œ<em>ç¡¬é“¾æ¥</em></li>
<li>è½¯é“¾æ¥ç±»ä¼¼ Windows ä¸‹çš„å¿«æ·æ–¹å¼ï¼›ç¡¬é“¾æ¥åªæ˜¯å¤åˆ¶äº†ä¸€ä»½æºæ–‡ä»¶çš„inodeä¿¡æ¯ï¼Œå¹¶ä¸”ä¸èƒ½ç”¨äºç›®å½•</li>
</ul>
<ul>
<li>åˆ›å»ºæ–¹å¼ï¼š<ul>
<li>è½¯é“¾æ¥ï¼š<code>ln -s [æ¥æºæ–‡ä»¶]  [ç›®çš„æ–‡ä»¶]</code></li>
<li>ç¡¬é“¾æ¥ï¼š<code>ln [æ¥æºæ–‡ä»¶]  [ç›®çš„æ–‡ä»¶]</code></li>
</ul>
</li>
</ul>
</li>
<li><p>è®¾å¤‡æ–‡ä»¶</p>
<ul>
<li>å—ï¼ˆblockï¼‰è®¾å¤‡<ul>
<li>ä»¥ <strong>b</strong> å¼€å¤´</li>
<li>ä¸€äº›å‚¨å­˜æ•°æ®ï¼Œä»¥æä¾›ç³»ç»Ÿå­˜å–çš„æ¥å£è®¾å¤‡ï¼Œæ¯”å¦‚è¡¨ç¤ºä¸€å—ç¡¬ç›˜çš„ <code>/dev/sda</code></li>
</ul>
</li>
<li>å­—ç¬¦ï¼ˆcharacterï¼‰è®¾å¤‡<ul>
<li>ä»¥ <strong>c</strong> å¼€å¤´</li>
<li>ä¸€äº›ä¸²è¡Œç«¯å£çš„æ¥å£è®¾å¤‡ï¼Œä¾‹å¦‚é”®ç›˜ã€é¼ æ ‡ç­‰</li>
</ul>
</li>
</ul>
</li>
</ol>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäº shell ä½¿ç”¨ expect å®ç° SSH è‡ªåŠ¨ç™»å½•è¿œç¨‹æœåŠ¡å™¨ </title>
    <url>/post/3553742260.html</url>
    <content><![CDATA[<h3 id="1-æ•ˆæœé¢„è§ˆ"><a href="#1-æ•ˆæœé¢„è§ˆ" class="headerlink" title="1. æ•ˆæœé¢„è§ˆ"></a>1. æ•ˆæœé¢„è§ˆ</h3><center>
<img data-src="https://static.sqiang.net/image%2Fpost%2Flinux_shell_expect.jpg" width="90%">
</center>

<span id="more"></span>

<h3 id="2-ç›¸å…³çŸ¥è¯†ç‚¹"><a href="#2-ç›¸å…³çŸ¥è¯†ç‚¹" class="headerlink" title="2. ç›¸å…³çŸ¥è¯†ç‚¹"></a>2. ç›¸å…³çŸ¥è¯†ç‚¹</h3><h4 id="2-1-expect"><a href="#2-1-expect" class="headerlink" title="2.1. expect"></a>2.1. expect</h4><p>expect æ˜¯ä¸€ä¸ªå…è´¹çš„ç¼–ç¨‹å·¥å…·ï¼Œç”¨æ¥å®ç°è‡ªåŠ¨çš„äº¤äº’å¼ä»»åŠ¡ï¼Œè€Œæ— éœ€äººä¸ºå¹²é¢„ã€‚</p>
<p><strong>è¯´ç™½äº†ï¼Œexpect å°±æ˜¯ä¸€å¥—ç”¨æ¥å®ç°è‡ªåŠ¨äº¤äº’åŠŸèƒ½çš„è½¯ä»¶ã€‚</strong></p>
<p>åœ¨å®é™…å·¥ä½œä¸­ï¼Œæˆ‘ä»¬è¿è¡Œå‘½ä»¤ã€è„šæœ¬æˆ–ç¨‹åºæ—¶ï¼Œè¿™äº›å‘½ä»¤ã€è„šæœ¬æˆ–ç¨‹åºéƒ½éœ€è¦ä»ç»ˆç«¯è¾“å…¥æŸäº›ç»§ç»­è¿è¡Œçš„æŒ‡ä»¤ï¼Œè€Œè¿™äº›è¾“å…¥éƒ½éœ€è¦äººä¸ºçš„æ‰‹å·¥è¿›è¡Œã€‚è€Œåˆ©ç”¨expectï¼Œåˆ™å¯ä»¥æ ¹æ®ç¨‹åºçš„æç¤ºï¼Œæ¨¡æ‹Ÿæ ‡å‡†è¾“å…¥æä¾›ç»™ç¨‹åºï¼Œä»è€Œå®ç°è‡ªåŠ¨åŒ–äº¤äº’æ‰§è¡Œã€‚</p>
<p>è¿™å°±æ˜¯ expectï¼ï¼ï¼</p>
<h4 id="2-2-IFS"><a href="#2-2-IFS" class="headerlink" title="2.2. IFS"></a>2.2. IFS</h4><p>IFS æ˜¯å­˜å‚¨å®šç•Œç¬¦çš„ç¯å¢ƒå˜é‡ï¼Œæ˜¯Shellç¯å¢ƒä¸­çš„é»˜è®¤å®šç•Œç¬¦å­—ç¬¦ä¸²ï¼Œé»˜è®¤å€¼ä¸ºç©ºç™½å­—ç¬¦ï¼ˆæ¢è¡Œç¬¦ã€åˆ¶è¡¨ç¬¦ã€ç©ºæ ¼ï¼‰</p>
<h3 id="3-ä¸»è¦æ–‡ä»¶"><a href="#3-ä¸»è¦æ–‡ä»¶" class="headerlink" title="3. ä¸»è¦æ–‡ä»¶"></a>3. ä¸»è¦æ–‡ä»¶</h3><p>æºç åœ°å€ï¼š<a href="https://github.com/whorusq/ssh-autologin">https://github.com/whorusq/ssh-autologin</a></p>
<ul>
<li><code>goto.sh</code> å…¥å£è„šæœ¬</li>
<li><code>goto.ex</code> expect æ‰§è¡Œè„šæœ¬</li>
<li><code>goto.conf</code> æœåŠ¡å™¨åˆ—è¡¨å‚æ•°é…ç½®æ–‡ä»¶</li>
</ul>
<h3 id="4-å¦‚ä½•ä½¿ç”¨"><a href="#4-å¦‚ä½•ä½¿ç”¨" class="headerlink" title="4. å¦‚ä½•ä½¿ç”¨"></a>4. å¦‚ä½•ä½¿ç”¨</h3><ol>
<li><p><code>git clone https://github.com/whorusq/shell-ssh-autologin.git</code></p>
</li>
<li><p><code>cd shell-ssh-autologin</code></p>
</li>
<li><p>ä¿®æ”¹ goto.conf ï¼Œè¿½åŠ æœåŠ¡å™¨åˆ—è¡¨</p>
</li>
<li><p>èµ‹äºˆè„šæœ¬å¯æ‰§è¡Œæƒé™ <code>sudo chmod u+x goto.sh goto.ex</code></p>
</li>
<li><p>ä½¿ç”¨</p>
<ul>
<li><p>æ–¹å¼ä¸€ï¼š<code>./goto.sh</code></p>
</li>
<li><p>æ–¹å¼äºŒï¼šå°† goto åŠ å…¥å½“å‰ç”¨æˆ·å…¨å±€ä½¿ç”¨</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ <span class="built_in">echo</span> <span class="string">&quot;alias goto=\&quot;<span class="variable">$PWD</span>/goto.sh\&quot;&quot;</span> &gt;&gt; ~/.zshrc</span><br><span class="line">âœ  ~ <span class="built_in">source</span> ~/.zshrc</span><br><span class="line">âœ  ~ goto</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
<h3 id="5-å¸¸è§é—®é¢˜"><a href="#5-å¸¸è§é—®é¢˜" class="headerlink" title="5. å¸¸è§é—®é¢˜"></a>5. å¸¸è§é—®é¢˜</h3><h4 id="5-1-æç¤ºæ²¡æœ‰-expect-æˆ–-spawn-å‘½ä»¤"><a href="#5-1-æç¤ºæ²¡æœ‰-expect-æˆ–-spawn-å‘½ä»¤" class="headerlink" title="5.1. æç¤ºæ²¡æœ‰ expect æˆ– spawn å‘½ä»¤"></a>5.1. æç¤ºæ²¡æœ‰ expect æˆ– spawn å‘½ä»¤</h4><p>å½“å‰è„šæœ¬ä¸»è¦åŸºäº expect ä½¿ç”¨ spawn å®ç°ã€‚</p>
<p>Expect æ˜¯ä¸€ä¸ªç”¨æ¥å¤„ç†äº¤äº’çš„å·¥å…·ï¼Œé€šå¸¸ç”¨äºéœ€è¦æ‰‹åŠ¨è¾“å…¥æ•°æ®çš„åœºæ™¯ï¼Œå¯åœ¨è„šæœ¬ä¸­ä½¿ç”¨ Expect æ¥å®ç°è‡ªåŠ¨åŒ–ã€‚</p>
<p>é¦–å…ˆä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ expect æ˜¯å¦å·²å®‰è£…ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  whereis expect</span><br><span class="line">/usr/bin/expect</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ²¡æœ‰å®‰è£…ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li><p>å®‰è£… expect çš„ä¾èµ– tcl</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  wget https://sourceforge.net/projects/tcl/files/Tcl/8.4.19/tcl8.4.19-src.tar.gz</span><br><span class="line">âœ  tar zxvf tcl8.4.19-src.tar.gz</span><br><span class="line">âœ  <span class="built_in">cd</span> tcl8.4.19/unix &amp;&amp; ./configure</span><br><span class="line">âœ  make</span><br><span class="line">âœ  make install</span><br></pre></td></tr></table></figure></li>
<li><p>å®‰è£… expect</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  wget http://sourceforge.net/projects/expect/files/Expect/5.45/expect5.45.tar.gz</span><br><span class="line">âœ  tar zxvf expect5.45.tar.gz</span><br><span class="line">âœ  <span class="built_in">cd</span> expect5.45</span><br><span class="line">âœ  ./configure --with-tcl=/usr/<span class="built_in">local</span>/lib --with-tclinclude=../tcl8.4.19/generic</span><br><span class="line">âœ  make</span><br><span class="line">âœ  make install</span><br><span class="line">âœ  ln -s /usr/<span class="built_in">local</span>/bin/expect /usr/bin/expect</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="5-2-ç‰¹æ®Šå­—ç¬¦è½¬ä¹‰"><a href="#5-2-ç‰¹æ®Šå­—ç¬¦è½¬ä¹‰" class="headerlink" title="5.2. ç‰¹æ®Šå­—ç¬¦è½¬ä¹‰"></a>5.2. ç‰¹æ®Šå­—ç¬¦è½¬ä¹‰</h4><p>å¦‚æœå¯†ç ä¸­æœ‰ç‰¹æ®Šå­—ç¬¦ï¼Œéœ€è¦åšè½¬ä¹‰å¤„ç†ï¼Œå¦åˆ™ä½¿ç”¨ expect çš„ send è¯­æ³•æ˜¯æ— æ³•å‘é€æˆåŠŸçš„ï¼Œå…·ä½“éœ€è¦è½¬ä¹‰çš„å­—ç¬¦å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">\ ===&gt; \\\</span><br><span class="line">&#125; ===&gt; \&#125;</span><br><span class="line">[ ===&gt; \[</span><br><span class="line">$ ===&gt; \\\$</span><br><span class="line">` ===&gt; \`</span><br><span class="line">&quot; ===&gt; \\\&quot;</span><br><span class="line">~ ===&gt; \\~</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Shell</tag>
        <tag>expect</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux æ–‡ä»¶æƒé™ç®¡ç†</title>
    <url>/post/3913386097.html</url>
    <content><![CDATA[<h3 id="æƒé™ä½è¯´æ˜"><a href="#æƒé™ä½è¯´æ˜" class="headerlink" title="æƒé™ä½è¯´æ˜"></a>æƒé™ä½è¯´æ˜</h3><p>Linux ç»ˆç«¯ä¸‹æ‰§è¡Œ <code>ls -la</code> æˆ– <code>ll</code> å‘½ä»¤ï¼Œå¾—åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-rw-r--r-- 1 root root    0 11-12 22:02 t3.php</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œæœ€å¼€å§‹ä½ç½®çš„ <strong>-rw-râ€“râ€“</strong> æ˜¯æ ‡è¯†æ–‡ä»¶æƒé™çš„ä¿¡æ¯ï¼Œé•¿åº¦æ€»å…±åä½</p>
<ul>
<li>ç¬¬1ä½ï¼šä»£è¡¨<a href="/post/2330113912.html">æ–‡ä»¶ç±»å‹</a>ï¼ˆ- æ™®é€šæ–‡ä»¶ï¼›d ç›®å½•æ–‡ä»¶ï¼›l é“¾æ¥æ–‡ä»¶ï¼‰</li>
<li>å9ä½ï¼š2-4 å±ä¸»ï¼ˆuserï¼‰æƒé™ uï¼›5-7å±ç»„ï¼ˆgroupï¼‰æƒé™ gï¼›8-10å…¶ä»–ç”¨æˆ·æƒé™ oï¼ˆ<strong>r = è¯» =  4ï¼›w = å†™ = 2ï¼› x = æ‰§è¡Œ = 1</strong>ï¼‰</li>
</ul>
<span id="more"></span>

<h3 id="ä¿®æ”¹æƒé™"><a href="#ä¿®æ”¹æƒé™" class="headerlink" title="ä¿®æ”¹æƒé™"></a>ä¿®æ”¹æƒé™</h3><h4 id="æ–¹å¼ä¸€ï¼šé€šè¿‡r-w-xçš„-ä¸"><a href="#æ–¹å¼ä¸€ï¼šé€šè¿‡r-w-xçš„-ä¸" class="headerlink" title="æ–¹å¼ä¸€ï¼šé€šè¿‡r/w/xçš„+ä¸-"></a>æ–¹å¼ä¸€ï¼šé€šè¿‡r/w/xçš„+ä¸-</h4><ul>
<li><code>chmod u+x test</code> ç»™æ–‡ä»¶çš„å±ä¸»æ·»åŠ æ‰§è¡Œæƒé™ <strong>+x</strong></li>
<li><code>chmod u-x test</code> å»é™¤æ–‡ä»¶å±ä¸»çš„æ‰§è¡Œæƒé™ <strong>-x</strong></li>
<li><code>chmod u=rwx test</code> ç»™æ–‡ä»¶å±ä¸»æ·»åŠ ï¼ˆè¯» <strong>r</strong> ã€å†™ <strong>w</strong> ã€æ‰§è¡Œ <strong>x</strong> ï¼‰æƒé™</li>
<li><code> chmod g+w,o+w test</code> ç»™æ–‡ä»¶å±ä¸»çš„æ‰€å±ç»„å’Œå…¶å®ƒç”¨æˆ·æ·»åŠ ï¼ˆå†™ <strong>w</strong>ï¼‰æƒé™</li>
</ul>
<h4 id="æ–¹å¼äºŒï¼šé€šè¿‡å¯¹åº”çš„æ•°å­—ç»„åˆï¼ˆ4-è¯»ã€2-å†™ã€1-æ‰§è¡Œï¼‰"><a href="#æ–¹å¼äºŒï¼šé€šè¿‡å¯¹åº”çš„æ•°å­—ç»„åˆï¼ˆ4-è¯»ã€2-å†™ã€1-æ‰§è¡Œï¼‰" class="headerlink" title="æ–¹å¼äºŒï¼šé€šè¿‡å¯¹åº”çš„æ•°å­—ç»„åˆï¼ˆ4 è¯»ã€2 å†™ã€1 æ‰§è¡Œï¼‰"></a>æ–¹å¼äºŒï¼šé€šè¿‡å¯¹åº”çš„æ•°å­—ç»„åˆï¼ˆ<em>4 è¯»</em>ã€<em>2 å†™</em>ã€<em>1 æ‰§è¡Œ</em>ï¼‰</h4><p>ç¤ºä¾‹ï¼šç»™ç›®å½•å±ä¸»æ·»åŠ è¯»å†™ï¼ˆ4+2ï¼‰æƒé™ï¼Œæ‰€å±ç»„å’Œå…¶å®ƒç”¨æˆ·æ·»åŠ è¯»ã€æ‰§è¡Œï¼ˆ4+1ï¼‰æƒé™</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ chmod 655 <span class="built_in">test</span></span><br><span class="line">$ ll</span><br><span class="line">æ€»è®¡ 4</span><br><span class="line">drw-r-xr-x 2 sq sq 4096 11-12 22:47 <span class="built_in">test</span></span><br></pre></td></tr></table></figure>

<h3 id="æƒé™çš„æ„ä¹‰"><a href="#æƒé™çš„æ„ä¹‰" class="headerlink" title="æƒé™çš„æ„ä¹‰"></a>æƒé™çš„æ„ä¹‰</h3><h4 id="å¯¹äºç›®å½•æ–‡ä»¶"><a href="#å¯¹äºç›®å½•æ–‡ä»¶" class="headerlink" title="å¯¹äºç›®å½•æ–‡ä»¶"></a>å¯¹äºç›®å½•æ–‡ä»¶</h4><ul>
<li><p><strong>rï¼šè¯»</strong></p>
<p>å¯ä»¥æŸ¥è¯¢ç›®å½•ä¸‹çš„å†…å®¹ï¼Œlsã€ll</p>
</li>
<li><p><strong>wï¼šå†™</strong></p>
<p>å…·æœ‰ä¿®æ”¹ç›®å½•ç»“æ„çš„æƒé™ï¼Œå¦‚æ–°å»ºæ–‡ä»¶å’Œç›®å½•ï¼Œåˆ é™¤æ­¤ç›®å½•ä¸‹æ–‡ä»¶å’Œç›®å½•ï¼Œé‡å‘½åæ­¤ç›®å½•ä¸‹æ–‡ä»¶å’Œç›®å½•ï¼Œå‰ªåˆ‡ï¼Œmkdirã€touchã€rmã€mvã€cp</p>
</li>
<li><p><strong>xï¼šæ‰§è¡Œ</strong></p>
<p>å¯ä»¥è¿›å…¥ç›®å½•ï¼Œcd</p>
</li>
</ul>
<h4 id="å¯¹äºæ™®é€šæ–‡ä»¶"><a href="#å¯¹äºæ™®é€šæ–‡ä»¶" class="headerlink" title="å¯¹äºæ™®é€šæ–‡ä»¶"></a>å¯¹äºæ™®é€šæ–‡ä»¶</h4><ul>
<li><p><strong>rï¼šè¯»</strong></p>
<p>è¯»å–æ–‡ä»¶å†…å®¹ï¼Œå¯æ‰§è¡Œcatã€moreã€headã€tailã€viï¼ˆä½†ä¸èƒ½ç¼–è¾‘ï¼‰</p>
</li>
<li><p><strong>wï¼šå†™</strong></p>
<p>å¯¹æ–‡ä»¶å†…å®¹ç¼–è¾‘ã€æ–°å¢ã€ä¿®æ”¹ï¼Œå¯æ‰§è¡Œviã€echo</p>
</li>
<li><p><strong>xï¼šæ‰§è¡Œ</strong></p>
<p>å¯æ‰§è¡Œ</p>
</li>
</ul>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxâ€œä¸‡èƒ½â€åˆ†åŒºæ–¹æ¡ˆ</title>
    <url>/post/1562646191.html</url>
    <content><![CDATA[<p><strong>è¿™é‡Œä»‹ç»çš„åˆ†åŒºæ–¹æ¡ˆåªæ˜¯ä¸ªé€šç”¨å»ºè®®ï¼Œå¹¶ä¸é€‚ç”¨äºæ‰€æœ‰æƒ…å†µï¼Œéœ€è¦æ ¹æ®æœåŠ¡å™¨å…·ä½“é…ç½®å†³å®šï¼</strong></p>
<table>
<thead>
<tr>
<th>æŒ‚è½½ç‚¹</th>
<th>å¤§å°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>/</td>
<td>20G</td>
<td>æ ¹åˆ†åŒº</td>
</tr>
<tr>
<td>/boot</td>
<td>100M</td>
<td>å¯åŠ¨åˆ†åŒº</td>
</tr>
<tr>
<td>swap</td>
<td>å»ºè®®å†…å­˜çš„ä¸¤å€ï¼Œæœ€å¤š 16G</td>
<td>å†…å­˜äº¤æ¢ç©ºé—´</td>
</tr>
<tr>
<td>/usr</td>
<td>20G</td>
<td>ç”¨æˆ·ç›®å½•ï¼Œå­˜æ”¾ç”¨æˆ·å®‰è£…çš„è½¯ä»¶ç­‰</td>
</tr>
<tr>
<td>/data</td>
<td>å‰©ä¸‹çš„æ‰€æœ‰ç©ºé—´</td>
<td>è¿™é‡Œçš„åç§°æ ¹æ®éœ€è¦è‡ªå®šä¹‰ï¼Œä¸»è¦ç”¨äºå­˜æ”¾å„ç±»ç‰©ç†æ•°æ®ã€‚</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>åˆ†åŒº</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxç³»ç»Ÿåˆ‡æ¢é˜¿é‡Œäº‘è½¯ä»¶æ›´æ–°æº</title>
    <url>/post/600047155.html</url>
    <content><![CDATA[<blockquote>
<ul>
<li><p>æœ¬æ–‡æ•´ç†è‡ªé˜¿é‡Œäº‘æä¾›çš„æ›´æ–°æºè„šæœ¬ï¼Œè¯·ä»¥ root ç”¨æˆ·æ“ä½œã€‚</p>
</li>
<li><p>å¦‚æœä½¿ç”¨çš„æ˜¯é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼Œå°†æºçš„åŸŸåä» <strong>mirrors.aliyun.com</strong> æ”¹ä¸º <strong>mirrors.aliyuncs.com</strong>ï¼Œä¸å ç”¨å…¬ç½‘æµé‡ã€‚</p>
</li>
<li><p>å®˜ç½‘ï¼š<a href="https://developer.aliyun.com/mirror/?lang=zh-CN">https://developer.aliyun.com/mirror/?lang=zh-CN</a></p>
</li>
</ul>
</blockquote>
<span id="more"></span>

<h3 id="CentOS"><a href="#CentOS" class="headerlink" title="CentOS"></a>CentOS</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. å¤‡ä»½</span></span><br><span class="line">$ sudo mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup</span><br><span class="line"><span class="comment"># ä»¥ä¸‹ä¸¤ä¸ªæ–‡ä»¶ï¼Œåœ¨æŸäº›ç‰ˆæœ¬ä¸­å¯èƒ½ä¸å­˜åœ¨ï¼Œå¯å¿½ç•¥</span></span><br><span class="line">$ sudo mv /etc/yum.repos.d/epel.repo /etc/yum.repos.d/epel.repo.backup</span><br><span class="line">$ sudo mv /etc/yum.repos.d/epel-testing.repo /etc/yum.repos.d/epel-testing.repo.backup</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. æ›¿æ¢æ›´æ–°æº</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ³¨ï¼š</span></span><br><span class="line"><span class="comment"># å¦‚æœç³»ç»Ÿæ²¡æœ‰å®‰è£… wget åˆ™æç¤ºï¼š-bash: wget: command not found</span></span><br><span class="line"><span class="comment"># å¯ä»¥ä½¿ç”¨ curl -o æ›¿ä»£ wget -O</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------- CentOS 6.x ----------</span></span><br><span class="line">$ sudo wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo</span><br><span class="line">$ sudo wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-6.repo</span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------- CentOS 7.x ----------</span></span><br><span class="line">$ sudo wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</span><br><span class="line">$ sudo wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo</span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------- CentOS 8.x ----------</span></span><br><span class="line">$ sudo wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-8.repo</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. é‡å»ºç¼“å­˜</span></span><br><span class="line">$ sudo yum clean metadata</span><br><span class="line">$ sudo yum makecache</span><br></pre></td></tr></table></figure>

<p>âš ï¸ æ³¨æ„ï¼šå¦‚æœéé˜¿é‡Œäº‘ ECS å‡ºç°ç±»ä¼¼ <code>Couldn&#39;t resolve host &#39;mirrors.cloud.aliyuncs.com&#39;</code> çš„ä¿¡æ¯ï¼Œè§£å†³æ–¹æ³• <code>sed -i -e &#39;/mirrors.cloud.aliyuncs.com/d&#39; -e &#39;/mirrors.aliyuncs.com/d&#39; /etc/yum.repos.d/CentOS-Base.repo</code></p>
<h3 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. å¤‡ä»½</span></span><br><span class="line">$ sudo cp -fp /etc/apt/sources.list /etc/apt/sources.list.back</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. æ›¿æ¢æ›´æ–°æº</span></span><br><span class="line">$ sudo vi /etc/apt/sources.list</span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------- Ubuntu 14.04 (trusty) ----------</span></span><br><span class="line">deb https://mirrors.aliyun.com/ubuntu/ trusty main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.aliyun.com/ubuntu/ trusty main restricted universe multiverse</span><br><span class="line">deb https://mirrors.aliyun.com/ubuntu/ trusty-security main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.aliyun.com/ubuntu/ trusty-security main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb https://mirrors.aliyun.com/ubuntu/ trusty-updates main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.aliyun.com/ubuntu/ trusty-updates main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb https://mirrors.aliyun.com/ubuntu/ trusty-backports main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.aliyun.com/ubuntu/ trusty-backports main restricted universe multiverse</span><br><span class="line"></span><br><span class="line"><span class="comment">## Not recommended</span></span><br><span class="line"><span class="comment"># deb https://mirrors.aliyun.com/ubuntu/ trusty-proposed main restricted universe multiverse</span></span><br><span class="line"><span class="comment"># deb-src https://mirrors.aliyun.com/ubuntu/ trusty-proposed main restricted universe multiverse</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------- Ubuntu 16.04 (xenial) ----------</span></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial main</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ xenial main</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial universe</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ xenial universe</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-updates universe</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates universe</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-security main</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-security universe</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security universe</span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------- Ubuntu 18.04 (bionic) ----------</span></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------- Ubuntu 20.04 (focal) ----------</span></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. é‡å»ºç¼“å­˜</span></span><br><span class="line">$ sudo apt-get update</span><br></pre></td></tr></table></figure>

<h3 id="Debian"><a href="#Debian" class="headerlink" title="Debian"></a>Debian</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. å¤‡ä»½</span></span><br><span class="line">$ sudo cp -fp /etc/apt/sources.list /etc/apt/sources.list.back</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. å°†ä»¥ä¸‹æŒ‡å®šç³»ç»Ÿçš„å†…å®¹æ’å…¥æ–‡ä»¶å¤´éƒ¨</span></span><br><span class="line">$ sudo vi /etc/apt/sources.list</span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------- Debian 7.x (wheezy) ----------</span></span><br><span class="line">deb http://mirrors.aliyun.com/debian/ wheezy main non-free contrib</span><br><span class="line">deb http://mirrors.aliyun.com/debian/ wheezy-proposed-updates main non-free contrib</span><br><span class="line">deb-src http://mirrors.aliyun.com/debian/ wheezy main non-free contrib</span><br><span class="line">deb-src http://mirrors.aliyun.com/debian/ wheezy-proposed-updates main non-free contrib</span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------- Debian 8.x (jessie) ----------</span></span><br><span class="line">deb http://mirrors.aliyun.com/debian/ jessie main non-free contrib</span><br><span class="line">deb http://mirrors.aliyun.com/debian/ jessie-proposed-updates main non-free contrib</span><br><span class="line">deb-src http://mirrors.aliyun.com/debian/ jessie main non-free contrib</span><br><span class="line">deb-src http://mirrors.aliyun.com/debian/ jessie-proposed-updates main non-free contrib</span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------- Debian 9.x (stretch) ----------</span></span><br><span class="line">deb http://mirrors.aliyun.com/debian/ stretch main non-free contrib</span><br><span class="line">deb-src http://mirrors.aliyun.com/debian/ stretch main non-free contrib</span><br><span class="line">deb http://mirrors.aliyun.com/debian-security stretch/updates main</span><br><span class="line">deb-src http://mirrors.aliyun.com/debian-security stretch/updates main</span><br><span class="line">deb http://mirrors.aliyun.com/debian/ stretch-updates main non-free contrib</span><br><span class="line">deb-src http://mirrors.aliyun.com/debian/ stretch-updates main non-free contrib</span><br><span class="line">deb http://mirrors.aliyun.com/debian/ stretch-backports main non-free contrib</span><br><span class="line">deb-src http://mirrors.aliyun.com/debian/ stretch-backports main non-free contrib</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. é‡å»ºç¼“å­˜</span></span><br><span class="line">$ sudo apt-get update</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>è½¯ä»¶æ›´æ–°æº</tag>
      </tags>
  </entry>
  <entry>
    <title>dayjsæ—¶é—´å¤„ç†åº“</title>
    <url>/post/3076911137.html</url>
    <content><![CDATA[<p><code>Day.js</code> æ˜¯ä¸€ä¸ªè½»é‡çš„ JavaScript æ—¶é—´æ—¥æœŸå¤„ç†åº“ï¼Œä¸ <code>Moment.js</code> çš„ API è®¾è®¡ä¿æŒä¸€è‡´ã€‚</p>
<blockquote>
<p>æœ¬æ–‡åªä»‹ç»äº†ä¸€äº›å¸¸ç”¨æ“ä½œï¼Œå…³äºå›½é™…åŒ–ã€æ’ä»¶ã€è‡ªå®šä¹‰ç­‰é«˜çº§å†…å®¹è¯¦è§å®˜æ–¹æ–‡æ¡£ã€‚</p>
</blockquote>
<p>å…¶ä¸»è¦ç‰¹æ€§å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä¸ <code>Moment.js</code> ç›¸åŒçš„ API å’Œç”¨æ³•</li>
<li>ä¸å¯å˜æ•°æ®ï¼ˆImmutableï¼‰</li>
<li>æ”¯æŒé“¾å¼æ“ä½œï¼ˆChainableï¼‰</li>
<li>åªæœ‰ <strong>2kb</strong> å¤§å°ï¼ˆ<em>ä¸€äº›é«˜çº§ç”¨æ³•ä»¥æ‰©å±•çš„å½¢å¼å­˜åœ¨ï¼Œå¯æŒ‰éœ€åŠ è½½</em>ï¼‰</li>
<li>å…¨æµè§ˆå™¨å…¼å®¹</li>
<li>å¼ºå¤§çš„å›½é™…åŒ–æ”¯æŒï¼ˆI18nï¼‰</li>
</ul>
<p>å®˜ç½‘ï¼š<a href="https://day.js.org/en">https://day.js.org/en</a></p>
<p>Githubï¼š<a href="https://github.com/iamkun/dayjs">https://github.com/iamkun/dayjs</a></p>
<span id="more"></span>

<h3 id="1-å®‰è£…"><a href="#1-å®‰è£…" class="headerlink" title="1. å®‰è£…"></a>1. å®‰è£…</h3><h4 id="1-1-ä¸‹è½½"><a href="#1-1-ä¸‹è½½" class="headerlink" title="1.1. ä¸‹è½½"></a>1.1. ä¸‹è½½</h4><p>ä¸‹è½½åœ°å€ï¼š<a href="https://github.com/iamkun/dayjs/releases">https://github.com/iamkun/dayjs/releases</a></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;path/to/dayjs/dayjs.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">  dayjs().format()</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="1-2-CDN"><a href="#1-2-CDN" class="headerlink" title="1.2. CDN"></a>1.2. CDN</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/dayjs@1.8.21/dayjs.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span>dayjs().format()<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="1-3-Node-JS"><a href="#1-3-Node-JS" class="headerlink" title="1.3. Node.JS"></a>1.3. Node.JS</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install dayjs --save</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> dayjs = <span class="built_in">require</span>(<span class="string">&#x27;dayjs&#x27;</span>)</span><br><span class="line"><span class="comment">//import dayjs from &#x27;dayjs&#x27; // ES 2015</span></span><br><span class="line"></span><br><span class="line">dayjs().format()</span><br></pre></td></tr></table></figure>

<h4 id="1-4-TypeScript"><a href="#1-4-TypeScript" class="headerlink" title="1.4. TypeScript"></a>1.4. TypeScript</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install dayjs --save</span><br></pre></td></tr></table></figure>

<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> dayjs <span class="keyword">from</span> <span class="string">&#x27;dayjs&#x27;</span></span><br><span class="line">dayjs().format()</span><br></pre></td></tr></table></figure>

<p>æ›´å¤šè§å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://day.js.org/docs/en/installation/typescript">https://day.js.org/docs/en/installation/typescript</a></p>
<h3 id="2-API"><a href="#2-API" class="headerlink" title="2. API"></a>2. API</h3><h4 id="2-1-è§£æ"><a href="#2-1-è§£æ" class="headerlink" title="2.1. è§£æ"></a>2.1. è§£æ</h4><p><code>Day.js</code> å¹¶æ²¡æœ‰æ”¹å˜æˆ–è¦†ç›– Javascript åŸç”Ÿçš„ <code>Date.prototype</code>ï¼Œ è€Œæ˜¯åˆ›é€ äº†ä¸€ä¸ªå…¨æ–°çš„åŒ…å« <code>Javascript Date</code> çš„ <strong><code>Day.js</code></strong> å¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ <strong><code>dayjs()</code></strong> æ¥è°ƒç”¨ã€‚</p>
<p><code>Day.js</code> å¯¹è±¡æ˜¯ä¸å¯å˜çš„, æ‰€æœ‰çš„ API æ“ä½œéƒ½å°†è¿”å›ä¸€ä¸ªæ–°çš„ <code>Day.js</code> å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿”å›åŒ…å«å½“å‰æ—¥æœŸå’Œæ—¶é—´çš„ Day.js å¯¹è±¡</span></span><br><span class="line"><span class="comment">// ä»€ä¹ˆéƒ½ä¸ä¼ ï¼Œç›¸å½“äº dayjs(new Date())</span></span><br><span class="line"><span class="keyword">let</span> now = dayjs();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¼ å…¥ä¸€ä¸ªæ ‡å‡†çš„ ISO 8601 æ—¶é—´å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">// https://en.wikipedia.org/wiki/ISO_8601</span></span><br><span class="line"><span class="keyword">let</span> date = dayjs(<span class="string">&#x27;2020-06-01&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¼ å…¥ä¸€ä¸ª Unix æ—¶é—´æˆ³ (13ä½)</span></span><br><span class="line"><span class="keyword">let</span> date = dayjs(<span class="number">1591149248030</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¼ å…¥ä¸€ä¸ª Javascript Date å¯¹è±¡</span></span><br><span class="line"><span class="keyword">let</span> date = dayjs(<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2020</span>, <span class="number">6</span>, <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// å› ä¸º Day.js å¯¹è±¡æ˜¯ä¸å¯å˜çš„ï¼Œå¯ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•è·å–ä¸€ä¸ªå¯¹è±¡æ‹·è´</span></span><br><span class="line"><span class="keyword">let</span> date1 = date.clone(); <span class="comment">// æ–¹æ³•ä¸€ï¼šåœ¨ä¸€ä¸ª Day.js å¯¹è±¡ä¸Šä½¿ç”¨ clone å‡½æ•°</span></span><br><span class="line"><span class="keyword">let</span> date2 = dayjs(date); <span class="comment">// æ–¹æ³•äºŒï¼šä¼ å…¥ä¸€ä¸ª Day.js å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ£€æŸ¥å½“å‰ Day.js å¯¹è±¡æ˜¯å¦æ˜¯æœ‰æ•ˆæ—¥æœŸæ—¶é—´</span></span><br><span class="line"><span class="keyword">if</span> (dayjs().isValid()) &#123;</span><br><span class="line">  <span class="comment">// æœ‰æ•ˆ</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// æ— æ•ˆ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-2-è·å–å’Œè®¾ç½®"><a href="#2-2-è·å–å’Œè®¾ç½®" class="headerlink" title="2.2. è·å–å’Œè®¾ç½®"></a>2.2. è·å–å’Œè®¾ç½®</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è·å–ï¼Œè¿”å› number ç±»å‹çš„å€¼</span></span><br><span class="line">dayjs().year(); <span class="comment">// å¹´ ==&gt; dayjs().get(&#x27;year&#x27;)</span></span><br><span class="line">dayjs().month(); <span class="comment">// æœˆ ==&gt; dayjs().get(&#x27;month&#x27;)</span></span><br><span class="line">dayjs().date(); <span class="comment">// æ—¥ ==&gt; dayjs().get(&#x27;date&#x27;)</span></span><br><span class="line">dayjs().hour(); <span class="comment">// æ—¶ ==&gt; dayjs().get(&#x27;hour&#x27;)</span></span><br><span class="line">dayjs().minute(); <span class="comment">// åˆ† ==&gt; dayjs().get(&#x27;minute&#x27;)</span></span><br><span class="line">dayjs().second(); <span class="comment">// ç§’ ==&gt; dayjs().get(&#x27;second&#x27;)</span></span><br><span class="line">dayjs().millisecond(); <span class="comment">// æ¯«ç§’ ==&gt; dayjs().get(&#x27;millisecond&#x27;)</span></span><br><span class="line">dayjs().day(); <span class="comment">// æœ¬å‘¨çš„ç¬¬å‡ å¤© ==&gt; dayjs().get(&#x27;day&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®ï¼Œå•ä½å¯¹åº”çš„å€¼å¤§å°å†™ä¸æ•æ„Ÿ</span></span><br><span class="line">dayjs().set(<span class="string">&#x27;month&#x27;</span>, <span class="number">3</span>);</span><br><span class="line">dayjs().set(<span class="string">&#x27;second&#x27;</span>, <span class="number">30</span>);</span><br></pre></td></tr></table></figure>

<h4 id="2-3-æ“ä½œ"><a href="#2-3-æ“ä½œ" class="headerlink" title="2.3. æ“ä½œ"></a>2.3. æ“ä½œ</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¢åŠ </span></span><br><span class="line">dayjs().add(<span class="number">7</span>, <span class="string">&#x27;day&#x27;</span>); <span class="comment">// å¢åŠ  7 å¤©</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å‡å°‘</span></span><br><span class="line">dayjs().subtract(<span class="number">2</span>, <span class="string">&#x27;month&#x27;</span>); <span class="comment">// å‡å°‘ 2 ä¸ªæœˆ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  å¼€å¤´</span></span><br><span class="line">dayjs().startOf(<span class="string">&#x27;month&#x27;</span>); <span class="comment">// å½“æœˆç¬¬ä¸€å¤©</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æœ«å°¾</span></span><br><span class="line">dayjs().endOf(<span class="string">&#x27;year&#x27;</span>); <span class="comment">// å½“å¹´æœ€åä¸€å¤©</span></span><br></pre></td></tr></table></figure>

<h4 id="2-4-æ˜¾ç¤º"><a href="#2-4-æ˜¾ç¤º" class="headerlink" title="2.4. æ˜¾ç¤º"></a>2.4. æ˜¾ç¤º</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ ¼å¼åŒ–</span></span><br><span class="line">dayjs().format(); <span class="comment">// é»˜è®¤æ ¼å¼ï¼Œå¦‚ï¼š2020-06-03T20:06:13+08:00</span></span><br><span class="line">dayjs().format(<span class="string">&quot;YYYY-MM-DD HH:mm:ss&quot;</span>); <span class="comment">// æŒ‡å®šæ ¼å¼ 2020-06-03 20:07:12</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–ä¸¤ä¸ª Day.js å¯¹è±¡çš„æ—¶é—´å·®ï¼Œé»˜è®¤æ¯«ç§’ï¼Œå¯æŒ‡å®šå•ä½</span></span><br><span class="line">dayjs(<span class="string">&#x27;2020&#x27;</span>).diff(dayjs(<span class="string">&#x27;1998&#x27;</span>)); <span class="comment">// 694224000000</span></span><br><span class="line">dayjs(<span class="string">&#x27;2020&#x27;</span>).diff(dayjs(<span class="string">&#x27;1998&#x27;</span>), <span class="string">&#x27;year&#x27;</span>); <span class="comment">// 22</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ—¶é—´æˆ³</span></span><br><span class="line">dayjs().valueOf(); <span class="comment">// æ¯«ç§’</span></span><br><span class="line">dayjs().unix(); <span class="comment">// ç§’</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤©æ•°</span></span><br><span class="line">dayjs(<span class="string">&#x27;2020-07&#x27;</span>).daysInMonth(); <span class="comment">// 31</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åŸç”Ÿ Date å¯¹è±¡</span></span><br><span class="line">dayjs().toDate(); <span class="comment">// Wed Jun 03 2020 20:13:40 GMT+0800 (China Standard Time)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å› ISO 8601 æ ¼å¼çš„å­—ç¬¦ä¸²</span></span><br><span class="line">dayjs().toJSON(); <span class="comment">// &quot;2020-06-03T12:15:54.635Z&quot;</span></span><br><span class="line">dayjs().toISOString(); <span class="comment">// &quot;2020-06-03T12:16:48.199Z&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-5-æŸ¥è¯¢"><a href="#2-5-æŸ¥è¯¢" class="headerlink" title="2.5. æŸ¥è¯¢"></a>2.5. æŸ¥è¯¢</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ£€æŸ¥ä¸€ä¸ªæ—¥æœŸæ˜¯å¦åœ¨å¦ä¸€ä¸ªæ—¥æœŸä¹‹å‰</span></span><br><span class="line">dayjs(<span class="string">&#x27;2020-06-03&#x27;</span>).isBefore(dayjs(<span class="string">&#x27;2020-05-03&#x27;</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ£€æŸ¥ä¸€ä¸ªæ—¥æœŸæ˜¯å¦åœ¨å¦ä¸€ä¸ªæ—¥æœŸä¹‹å</span></span><br><span class="line">dayjs(<span class="string">&#x27;2020-06-03&#x27;</span>).isAfter(dayjs(<span class="string">&#x27;2020-05-03&#x27;</span>)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ£€æŸ¥ä¸¤ä¸ªæ—¥æœŸæ˜¯å¦ç›¸åŒ</span></span><br><span class="line">dayjs(<span class="string">&#x27;2020-06-03&#x27;</span>).isSame(dayjs(<span class="string">&#x27;2020-06-03&#x27;</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>dayjs</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript ä¸­ undefined ä¸ null çš„ç”¨æ³•åŒºåˆ«</title>
    <url>/post/2719612904.html</url>
    <content><![CDATA[<p>å¤§å¤šæ•°è®¡ç®—æœºè¯­è¨€ï¼Œæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªè¡¨ç¤ºâ€œæ— â€çš„å€¼ï¼Œæ¯”å¦‚ï¼šC è¯­è¨€çš„ NULLï¼ŒJava è¯­è¨€çš„ nullï¼ŒPython è¯­è¨€çš„ Noneï¼ŒRuby è¯­è¨€çš„ nilã€‚</p>
<p>ä½†æ˜¯åœ¨ JavaScript ä¸­å´åŒæ—¶å­˜åœ¨ <code>undefined</code> å’Œ <code>null</code>ï¼Œè¿™ä¸»è¦æ˜¯ç”±äºå†å²åŸå› ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥æŸ¥ä¸€ä¸‹ã€‚</p>
<p>äºŒè€…çš„ä¸»è¦ç”¨æ³•åŒºåˆ«å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>undefined</code><ul>
<li>å˜é‡è¢«å£°æ˜äº†ï¼Œä½†æ²¡æœ‰èµ‹å€¼æ—¶ï¼Œå°±ç­‰äº <code>undefined</code></li>
<li>è°ƒç”¨å‡½æ•°æ—¶ï¼Œåº”è¯¥æä¾›çš„å‚æ•°æ²¡æœ‰æä¾›ï¼Œè¯¥å‚æ•°ç­‰äº <code>undefined</code></li>
<li>å¯¹è±¡æ²¡æœ‰èµ‹å€¼çš„å±æ€§ï¼Œè¯¥å±æ€§çš„å€¼ä¸º <code>undefined</code></li>
<li>å‡½æ•°æ²¡æœ‰è¿”å›å€¼æ—¶ï¼Œé»˜è®¤è¿”å› <code>undefined</code></li>
</ul>
</li>
<li><code>null</code><ul>
<li>ä½œä¸ºå‡½æ•°çš„å‚æ•°ï¼Œè¡¨ç¤ºè¯¥å‡½æ•°çš„å‚æ•°ä¸æ˜¯å¯¹è±¡ã€‚</li>
<li>ä½œä¸ºå¯¹è±¡åŸå‹é“¾çš„ç»ˆç‚¹ã€‚</li>
</ul>
</li>
</ul>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šåœ¨ JavaScript ä¸­ <code>undefined</code> æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œè€Œä¸æ˜¯å…³é”®å­—ï¼</p>
<ol>
<li>ä¸ºäº†é¿å…æ— æ„ä¸­è¢«ç¯¡æ”¹ï¼Œå»ºè®®ä½¿ç”¨ <code>void 0</code> æ¥è·å– <code>undefined</code> å€¼ã€‚</li>
<li>åœ¨æ¯”è¾ƒæ—¶ï¼Œå»ºè®®ä½¿ç”¨ <code>if (typeof var1 === &#39;undefined&#39;) &#123;&#125;</code>ã€‚</li>
</ol>
</blockquote>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>æ•°æ®ç±»å‹</tag>
      </tags>
  </entry>
  <entry>
    <title>PM2 å…¥é—¨æŒ‡å—</title>
    <url>/post/1046389609.html</url>
    <content><![CDATA[<h3 id="1-PM2-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#1-PM2-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="1. PM2 æ˜¯ä»€ä¹ˆï¼Ÿ"></a>1. PM2 æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>PM2 = Process Manager 2</p>
<blockquote>
<p>ADVANCED, PRODUCTION PROCESS MANAGER FOR NODE.JS</p>
</blockquote>
<blockquote>
<p>PM2 is a daemon process manager that will help you manage and keep your application online 24/7</p>
</blockquote>
<p>ä¸Šé¢æ˜¯å®˜ç½‘ç»™å‡ºçš„ titleï¼Œç®€å•æ¥è¯´ï¼š<strong>å®ƒæ˜¯åœ¨åå°è¿è¡Œçš„ <code>Node.js</code> è¿›ç¨‹ç®¡ç†å™¨ï¼Œæä¾›ä¸€å¥—é’ˆå¯¹ç”Ÿäº§ç¯å¢ƒè¿è¡Œæ—¶çš„å·¥å…·é›†ï¼Œå¯ä»¥ä¿éšœä½ çš„ç¨‹åº 7 * 24 å°æ—¶åœ¨çº¿ã€‚</strong></p>
<p>å®˜ç½‘ï¼š<a href="https://pm2.keymetrics.io/">https://pm2.keymetrics.io</a></p>
<p>æ–‡æ¡£ï¼š<a href="https://pm2.keymetrics.io/docs/usage/quick-start">https://pm2.keymetrics.io/docs/usage/quick-start</a></p>
<p>æ€»ç»“å…¶ä¸»è¦ç‰¹æ€§å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ—¥å¿—ç®¡ç†ï¼šåº”ç”¨ç¨‹åºæ—¥å¿—ä¿å­˜åœ¨æœåŠ¡å™¨çš„ç¡¬ç›˜ä¸­ <code>~/.pm2/logs/</code></li>
<li>è´Ÿè½½å‡è¡¡ï¼šä½¿ç”¨ <code>Node cluster</code> é›†ç¾¤æ¨¡å—ï¼Œå¯ä»¥é€šè¿‡åˆ›å»ºå…±äº«åŒä¸€æœåŠ¡å™¨ç«¯å£çš„å¤šä¸ªå­è¿›ç¨‹æ¥æ‰©å±•æ‚¨çš„åº”ç”¨ç¨‹åºã€‚è¿™æ ·åšè¿˜å…è®¸æ‚¨ä»¥é›¶ç§’åœæœºæ—¶é—´é‡æ–°å¯åŠ¨åº”ç”¨ç¨‹åºï¼Œå®ç°çƒ­é‡è½½ã€‚</li>
<li>ç»ˆç«¯ç›‘æ§ï¼šå¯ä»¥åœ¨ç»ˆç«¯ä¸­ç›‘æ§æ‚¨çš„åº”ç”¨ç¨‹åºè¿è¡ŒçŠ¶å†µï¼ŒåŒ…æ‹¬CPUä½¿ç”¨ç‡ï¼Œä½¿ç”¨çš„å†…å­˜ï¼Œè¯·æ±‚/åˆ†é’Ÿç­‰ã€‚</li>
<li>è‡ªåŠ¨åœæ­¢ä¸ç¨³å®šçš„è¿›ç¨‹ï¼ˆé¿å…æ— é™å¾ªç¯ï¼‰</li>
<li>æ”¯æŒé™æ€æœåŠ¡å™¨åŠŸèƒ½</li>
<li>æä¾› <code>HTTP API</code></li>
</ul>
<span id="more"></span>

<h3 id="2-å®‰è£…"><a href="#2-å®‰è£…" class="headerlink" title="2. å®‰è£…"></a>2. å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ npm install pm2 -g</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line">$ yarn global add pm2</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¯ä»¥ä½¿ç”¨å·¥å…· <code>nvm</code> å®‰è£…ç®¡ç† <code>Node.js</code> å’Œ <code>npm</code> ï¼Œå‚è§æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ï¼š<a href="https://blog.sqiang.net/post/3176262256.html">å€ŸåŠ© nvm å®‰è£…ã€ç®¡ç†å¤šä¸ª NodeJS ç‰ˆæœ¬</a></p>
</blockquote>
<p>æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pm2 --version</span><br><span class="line"></span><br><span class="line">                        -------------</span><br><span class="line"></span><br><span class="line">__/\\\\\\\\\\\\\____/\\\\____________/\\\\____/\\\\\\\\\_____</span><br><span class="line"> _\/\\\/////////\\\_\/\\\\\\________/\\\\\\__/\\\///////\\\___</span><br><span class="line">  _\/\\\_______\/\\\_\/\\\//\\\____/\\\//\\\_\///______\//\\\__</span><br><span class="line">   _\/\\\\\\\\\\\\\/__\/\\\\///\\\/\\\/_\/\\\___________/\\\/___</span><br><span class="line">    _\/\\\/////////____\/\\\__\///\\\/___\/\\\________/\\\//_____</span><br><span class="line">     _\/\\\_____________\/\\\____\///_____\/\\\_____/\\\//________</span><br><span class="line">      _\/\\\_____________\/\\\_____________\/\\\___/\\\/___________</span><br><span class="line">       _\/\\\_____________\/\\\_____________\/\\\__/\\\\\\\\\\\\\\\_</span><br><span class="line">        _\///______________\///______________\///__\///////////////__</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                          Runtime Edition</span><br><span class="line"></span><br><span class="line">        PM2 is a Production Process Manager <span class="keyword">for</span> Node.js applications</span><br><span class="line">                     with a built-in Load Balancer.</span><br><span class="line"></span><br><span class="line">                Start and Daemonize any application:</span><br><span class="line">                $ pm2 start app.js</span><br><span class="line"></span><br><span class="line">                Load Balance 4 instances of api.js:</span><br><span class="line">                $ pm2 start api.js -i 4</span><br><span class="line"></span><br><span class="line">                Monitor <span class="keyword">in</span> production:</span><br><span class="line">                $ pm2 monitor</span><br><span class="line"></span><br><span class="line">                Make pm2 auto-boot at server restart:</span><br><span class="line">                $ pm2 startup</span><br><span class="line"></span><br><span class="line">                To go further checkout:</span><br><span class="line">                http://pm2.io/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                        -------------</span><br><span class="line"></span><br><span class="line">[PM2] Spawning PM2 daemon with pm2_home=/Users/sunqiang/.pm2</span><br><span class="line">[PM2] PM2 Successfully daemonized</span><br><span class="line">4.4.0</span><br></pre></td></tr></table></figure>

<h3 id="3-åŸºæœ¬ä½¿ç”¨"><a href="#3-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="3. åŸºæœ¬ä½¿ç”¨"></a>3. åŸºæœ¬ä½¿ç”¨</h3><h4 id="3-1-å¯åŠ¨"><a href="#3-1-å¯åŠ¨" class="headerlink" title="3.1. å¯åŠ¨"></a>3.1. å¯åŠ¨</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä»¥æŒ‡å®šçš„ Node server å…¥å£æ–‡ä»¶å¯åŠ¨åº”ç”¨</span></span><br><span class="line">$ pm2 start app.js</span><br><span class="line">[PM2] Starting /Users/sunqiang/mydev/NodeProjects/demo/demo-koa2/app.js <span class="keyword">in</span> fork_mode (1 instance)</span><br><span class="line">[PM2] Done.</span><br><span class="line">â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">â”‚ id  â”‚ name   â”‚ namespace   â”‚ version â”‚ mode    â”‚ pid      â”‚ uptime â”‚ â†º    â”‚ status    â”‚ cpu      â”‚ mem      â”‚ user     â”‚ watching â”‚</span><br><span class="line">â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚ 0   â”‚ app    â”‚ default     â”‚ 0.1.0   â”‚ fork    â”‚ 28381    â”‚ 0s     â”‚ 0    â”‚ online    â”‚ 0%       â”‚ 11.9mb   â”‚ sunqiang â”‚ disabled â”‚</span><br><span class="line">â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨æ—¶ï¼ŒæŒ‡å®šåº”ç”¨å</span></span><br><span class="line">$ pm2 start app.js --name demo</span><br></pre></td></tr></table></figure>

<p>å…¶å®ƒå¯ç”¨é€‰é¡¹ï¼š</p>
<ul>
<li><code>--watch</code> ä»¥ç›‘å¬æ¨¡å¼å¯åŠ¨ï¼Œå½“æ–‡ä»¶å‘ç”Ÿå˜åŒ–æ—¶è‡ªåŠ¨é‡å¯</li>
<li><code>--max-memory-restart &lt;200MB&gt;</code> è®¾ç½®åº”ç”¨é‡è½½å ç”¨çš„æœ€å¤§å†…å­˜</li>
<li><code>--log &lt;log_path&gt;</code> æŒ‡å®šæ—¥å¿—æ–‡ä»¶</li>
<li><code>-- arg1 arg2 arg3</code> ç»™å¯åŠ¨è„šæœ¬ä¼ é€’é¢å¤–çš„å‚æ•°</li>
<li><code>--restart-delay &lt;delay in ms&gt;</code> å»¶æ—¶ x æ¯«ç§’è‡ªåŠ¨é‡å¯</li>
<li><code>--time</code> æ—¥å¿—é‡Œæ·»åŠ æ—¶é—´å‰ç¼€</li>
<li><code>--no-autorestart</code> ä¸è‡ªåŠ¨é‡å¯</li>
<li><code>--cron &lt;cron_pattern&gt;</code> æŒ‰æŒ‡å®šçš„å®šæ—¶ä»»åŠ¡è§„åˆ™å¼ºåˆ¶é‡å¯</li>
<li><code>--no-daemon</code> ä»¥éå®ˆæŠ¤è¿›ç¨‹æ¨¡å¼å¯åŠ¨</li>
</ul>
<h4 id="3-2-æŸ¥çœ‹"><a href="#3-2-æŸ¥çœ‹" class="headerlink" title="3.2. æŸ¥çœ‹"></a>3.2. æŸ¥çœ‹</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰å·²å¯åŠ¨åº”ç”¨çš„åŸºæœ¬ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># åŒ pm2 ls æˆ– pm2 status</span></span><br><span class="line">$ pm2 list</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰åº”ç”¨çš„æ—¥å¿—ï¼ˆå†å² + å®æ—¶ï¼‰</span></span><br><span class="line">$ pm2 logs</span><br><span class="line">$ pm2 logs www <span class="comment"># åªæŸ¥çœ‹åº”ç”¨ www çš„æ—¥å¿—</span></span><br><span class="line">$ pm2 logs --lines 10 <span class="comment"># æŸ¥çœ‹æœ€å10æ¡å†å²ï¼Œé»˜è®¤ 15 æ¡</span></span><br><span class="line">$ pm2 logs --timestamp <span class="comment"># å®æ—¶æ—¥å¿—æ·»åŠ æ—¶é—´å‰ç¼€</span></span><br><span class="line">$ pm2 logs www --lines 10 --err <span class="comment"># åªæŸ¥çœ‹åº”ç”¨ www çš„æœ€æ–° 10 æ¡é”™è¯¯æ—¥å¿—</span></span><br><span class="line">$ pm2 flush <span class="comment"># â—ï¸æ¸…ç©ºæ‰€æœ‰æ—¥å¿—æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹è¿›ç¨‹è¯¦æƒ…</span></span><br><span class="line">$ pm2 show app_name|app_id</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ¯ä¸ªåº”ç”¨çš„CPUå’Œå†…å­˜èµ„æºå®æ—¶å ç”¨æƒ…å†µ</span></span><br><span class="line">$ pm2 monit</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨çº¿çš„ Web è¯Šæ–­ç³»ç»Ÿï¼Œè·¨æœåŠ¡å™¨</span></span><br><span class="line"><span class="comment"># éœ€è¦æ³¨å†Œç™»å½•æˆ–ä½¿ç”¨ Githubã€Google è´¦æˆ·æˆæƒç™»å½•</span></span><br><span class="line">$ pm2 monitor</span><br></pre></td></tr></table></figure>

<h4 id="3-3-ç®¡ç†åº”ç”¨çŠ¶æ€"><a href="#3-3-ç®¡ç†åº”ç”¨çŠ¶æ€" class="headerlink" title="3.3. ç®¡ç†åº”ç”¨çŠ¶æ€"></a>3.3. ç®¡ç†åº”ç”¨çŠ¶æ€</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é‡å¯ â—ï¸</span></span><br><span class="line"><span class="comment"># åŒæ—¶æ€æ­»å¹¶é‡å¯æ‰€æœ‰è¿›ç¨‹ï¼ŒçŸ­æ—¶é—´å†…æœåŠ¡ä¸å¯ç”¨ã€‚</span></span><br><span class="line"><span class="comment"># ç”Ÿæˆç¯å¢ƒæ¨èä½¿ç”¨ reload</span></span><br><span class="line">$ pm2 restart app_id|app_name|all</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡è½½ ğŸ‘</span></span><br><span class="line"><span class="comment"># å§‹ç»ˆä¿æŒä¸€ä¸ªè¿›ç¨‹åœ¨çº¿ï¼Œé¿å…å®•æœº</span></span><br><span class="line">$ pm2 reload app_id|app_name|all</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœæ­¢</span></span><br><span class="line">$ pm2 stop app_id|app_name|all</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…³é—­å¹¶åˆ é™¤</span></span><br><span class="line">$ pm2 delete app_id|app_name|all</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç›´æ¥æ€æ­» pm2 å®ˆæŠ¤è¿›ç¨‹</span></span><br><span class="line">$ pm2 <span class="built_in">kill</span></span><br></pre></td></tr></table></figure>

<h4 id="3-4-é™æ€æœåŠ¡å™¨"><a href="#3-4-é™æ€æœåŠ¡å™¨" class="headerlink" title="3.4. é™æ€æœåŠ¡å™¨"></a>3.4. é™æ€æœåŠ¡å™¨</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å°†ç›®å½• dist ä½œä¸ºé™æ€æœåŠ¡å™¨æ ¹ç›®å½•ï¼Œç«¯å£ä¸º 3333</span></span><br><span class="line">$ pm2 serve ./dist 3333</span><br></pre></td></tr></table></figure>

<h4 id="3-5-é›†ç¾¤æ¨¡å¼ï¼ˆè‡ªåŠ¨è´Ÿè½½å‡è¡¡ï¼‰"><a href="#3-5-é›†ç¾¤æ¨¡å¼ï¼ˆè‡ªåŠ¨è´Ÿè½½å‡è¡¡ï¼‰" class="headerlink" title="3.5. é›†ç¾¤æ¨¡å¼ï¼ˆè‡ªåŠ¨è´Ÿè½½å‡è¡¡ï¼‰"></a>3.5. é›†ç¾¤æ¨¡å¼ï¼ˆè‡ªåŠ¨è´Ÿè½½å‡è¡¡ï¼‰</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># max è¡¨ç¤º PM2 å°†è‡ªåŠ¨æ£€æµ‹å¯ç”¨ CPU çš„æ•°é‡å¹¶è¿è¡Œå°½å¯èƒ½å¤šçš„è¿›ç¨‹</span></span><br><span class="line"><span class="comment"># max å¯ä»¥è‡ªå®šä¹‰ï¼Œå¦‚æœæ˜¯ 4 æ ¸ CPUï¼Œè®¾ç½®ä¸º 2 åˆ™åªå ç”¨ 2 æ ¸</span></span><br><span class="line">pm2 start app.js -i max</span><br></pre></td></tr></table></figure>

<h4 id="3-6-å¼€æœºè‡ªå¯åŠ¨"><a href="#3-6-å¼€æœºè‡ªå¯åŠ¨" class="headerlink" title="3.6. å¼€æœºè‡ªå¯åŠ¨"></a>3.6. å¼€æœºè‡ªå¯åŠ¨</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pm2 startup</span><br><span class="line">$ pm2 unstartup</span><br></pre></td></tr></table></figure>

<h4 id="3-7-åº”ç”¨åˆ—è¡¨"><a href="#3-7-åº”ç”¨åˆ—è¡¨" class="headerlink" title="3.7. åº”ç”¨åˆ—è¡¨"></a>3.7. åº”ç”¨åˆ—è¡¨</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¿å­˜å½“å‰åº”ç”¨åˆ—è¡¨ï¼Œä»¥åå¯ä»¥æ¢å¤</span></span><br><span class="line">$ pm2 save  <span class="comment"># åŒ pm2 dump</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡æ–°åŠ è½½ä¹‹å‰ä¿å­˜çš„åº”ç”¨åˆ—è¡¨</span></span><br><span class="line">$ pm2 resurrect</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¸…é™¤ä¿å­˜çš„åº”ç”¨åˆ—è¡¨</span></span><br><span class="line">$ pm2 cleardump</span><br></pre></td></tr></table></figure>

<h3 id="4-é…ç½®æ–‡ä»¶"><a href="#4-é…ç½®æ–‡ä»¶" class="headerlink" title="4. é…ç½®æ–‡ä»¶"></a>4. é…ç½®æ–‡ä»¶</h3><p>ç”Ÿæˆç¤ºä¾‹é…ç½®æ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pm2 ecosystem <span class="comment"># æˆ– pm2 init</span></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹é…ç½®å¦‚ä¸‹ï¼ˆæ ¹æ®å®é™…é¡¹ç›®éœ€è¦æ·»åŠ ã€åˆ é™¤é…ç½®é¡¹ï¼‰</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">apps</span> : [&#123;</span><br><span class="line">  <span class="attr">name</span>      : <span class="string">&#x27;demo&#x27;</span>,      <span class="comment">// åº”ç”¨å</span></span><br><span class="line">  <span class="attr">script</span>    : <span class="string">&#x27;app.js&#x27;</span>,   <span class="comment">// åº”ç”¨æ–‡ä»¶ä½ç½®</span></span><br><span class="line">  <span class="attr">env</span>: &#123;</span><br><span class="line">    <span class="attr">PM2_SERVE_PATH</span>: <span class="string">&quot;.&quot;</span>,    <span class="comment">// é™æ€æœåŠ¡è·¯å¾„</span></span><br><span class="line">    <span class="attr">PM2_SERVE_PORT</span>: <span class="number">8080</span>,   <span class="comment">// é™æ€æœåŠ¡å™¨è®¿é—®ç«¯å£</span></span><br><span class="line">    <span class="attr">NODE_ENV</span>: <span class="string">&#x27;development&#x27;</span> <span class="comment">// è®¾ç½®å¼€å‘ç¯å¢ƒè¿è¡Œæ—¶</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">env_production</span> : &#123;</span><br><span class="line">    <span class="attr">NODE_ENV</span>: <span class="string">&#x27;production&#x27;</span>  <span class="comment">// è®¾ç½®ç”Ÿäº§ç¯å¢ƒè¿è¡Œæ—¶</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">instances</span>: <span class="string">&quot;max&quot;</span>,         <span class="comment">// å°†åº”ç”¨ç¨‹åºåˆ†å¸ƒåœ¨æ‰€æœ‰CPUæ ¸å¿ƒä¸Š,å¯ä»¥æ˜¯æ•´æ•°æˆ–è´Ÿæ•°</span></span><br><span class="line">  <span class="attr">watch</span>: <span class="literal">true</span>,              <span class="comment">// ç›‘å¬æ¨¡å¼</span></span><br><span class="line">  <span class="attr">output</span>: <span class="string">&#x27;./out.log&#x27;</span>,      <span class="comment">// æŒ‡å®šæ—¥å¿—æ ‡å‡†è¾“å‡ºæ–‡ä»¶åŠä½ç½®</span></span><br><span class="line">  <span class="attr">error</span>: <span class="string">&#x27;./error.log&#x27;</span>,     <span class="comment">// é”™è¯¯è¾“å‡ºæ—¥å¿—æ–‡ä»¶åŠä½ç½®</span></span><br><span class="line">  <span class="attr">merge_logs</span>: <span class="literal">true</span>,         <span class="comment">// é›†ç¾¤æƒ…å†µä¸‹ï¼Œå¯ä»¥åˆå¹¶æ—¥å¿—</span></span><br><span class="line">  <span class="attr">log_type</span>: <span class="string">&quot;json&quot;</span>,         <span class="comment">// æ—¥å¿—ç±»å‹</span></span><br><span class="line">  <span class="attr">log_date_format</span>: <span class="string">&quot;DD-MM-YYYY&quot;</span>,  <span class="comment">// æ—¥å¿—çš„æ—¥æœŸæ ¼å¼</span></span><br><span class="line">  &#125;],</span><br><span class="line">  <span class="attr">deploy</span> : &#123;</span><br><span class="line">    <span class="attr">production</span> : &#123;</span><br><span class="line">      <span class="attr">user</span> : <span class="string">&#x27;SSH_USERNAME&#x27;</span>,</span><br><span class="line">      <span class="attr">host</span> : <span class="string">&#x27;SSH_HOSTMACHINE&#x27;</span>,</span><br><span class="line">      <span class="attr">ref</span>  : <span class="string">&#x27;origin/master&#x27;</span>,</span><br><span class="line">      <span class="attr">repo</span> : <span class="string">&#x27;GIT_REPOSITORY&#x27;</span>,</span><br><span class="line">      <span class="attr">path</span> : <span class="string">&#x27;DESTINATION_PATH&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;pre-deploy-local&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;post-deploy&#x27;</span> : <span class="string">&#x27;npm install &amp;&amp; pm2 reload ecosystem.config.js --env production&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;pre-setup&#x27;</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥é…ç½®æ–‡ä»¶å¯åŠ¨ç¤ºä¾‹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pm2 start ecosystem.config.js --env production</span><br></pre></td></tr></table></figure>

<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šé…ç½®æ–‡ä»¶æ”¯æŒ js å’Œ yaml æ ¼å¼ï¼Œè¿˜æœ‰ä¸€äº›æ²¡æœ‰åˆ—ä¸¾çš„å‚æ•°é¡¹ï¼Œè¯¦è§å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pm2.keymetrics.io/docs/usage/application-declaration">https://pm2.keymetrics.io/docs/usage/application-declaration</a></p>
</blockquote>
<h3 id="5-å…¶ä»–"><a href="#5-å…¶ä»–" class="headerlink" title="5. å…¶ä»–"></a>5. å…¶ä»–</h3><h4 id="5-1-å‡çº§-PM2"><a href="#5-1-å‡çº§-PM2" class="headerlink" title="5.1. å‡çº§ PM2"></a>5.1. å‡çº§ PM2</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ›´æ–°å‰æ¨èå…ˆä¿å­˜å½“å‰åº”ç”¨åˆ—è¡¨ï¼Œæ–¹ä¾¿æ›´æ–°åç›´æ¥æ¢å¤</span></span><br><span class="line">$ pm2 save</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–°ä¸»ç¨‹åº</span></span><br><span class="line">$ npm install pm2 -g</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç´§æ¥ç€æ›´æ–°å†…å­˜ä¸­çš„ç¨‹åº</span></span><br><span class="line">$ pm2 update</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¢å¤åº”ç”¨åˆ—è¡¨</span></span><br><span class="line">$ pm2 resurrect</span><br></pre></td></tr></table></figure>

<h4 id="5-2-æ—¥å¿—åˆ‡å‰²"><a href="#5-2-æ—¥å¿—åˆ‡å‰²" class="headerlink" title="5.2. æ—¥å¿—åˆ‡å‰²"></a>5.2. æ—¥å¿—åˆ‡å‰²</h4><p>å®‰è£… <code>pm2-logrotate-ext</code> æ‰©å±•æ¨¡å—</p>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/Lujo5/pm2-logrotate-ext">https://github.com/Lujo5/pm2-logrotate-ext</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pm2 install pm2-logrotate-ext</span><br></pre></td></tr></table></figure>

<p>é‡æ–°å¯åŠ¨åº”ç”¨åï¼Œ<code>pm2-logrotate-ext</code> ä»¥æ¨¡å—çš„å½¢å¼è¢«åŠ è½½ã€å¯åŠ¨ã€‚</p>
<p>å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å¯¹å…¶é…ç½®è¿›è¡Œä¿®æ”¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å½“æ–‡ä»¶å¤§å°è¶…è¿‡æ­¤è®¾ç½®åˆ™æ‰§è¡Œåˆ‡å‰²</span></span><br><span class="line">$ pm2 <span class="built_in">set</span> pm2-logrotate-ext:max_size 1M</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿ç•™æœ€æ–°çš„å‡ ä¸ªæ—¥å¿—æ–‡ä»¶</span></span><br><span class="line">$ pm2 <span class="built_in">set</span> pm2-logrotate-ext:retain 30</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¯å¦å¼€å¯ gzip å‹ç¼©</span></span><br><span class="line">$ pm2 <span class="built_in">set</span> pm2-logrotate-ext:compress <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–‡ä»¶åçš„æ—¥æœŸéƒ¨åˆ†æ ¼å¼</span></span><br><span class="line">$ pm2 <span class="built_in">set</span> pm2-logrotate-ext:dateFormat YYYY-MM-DD_HH-mm-ss</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡ ç§’é’Ÿæ£€æŸ¥ä¸€æ¬¡æ—¥å¿—æ–‡ä»¶å¤§å°</span></span><br><span class="line">$ pm2 <span class="built_in">set</span> pm2-logrotate-ext:workerInterval 30</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç±»ä¼¼äºç³»ç»Ÿçš„å®šæ—¶ä»»åŠ¡ï¼Œå½“æ»¡è¶³æŒ‡å®šè§„åˆ™æ—¶ï¼Œ</span></span><br><span class="line"><span class="comment"># ä¸ç®¡æ—¥å¿—æ–‡ä»¶å¤§å°æ˜¯å¦è¾¾åˆ°è®¾ç½®çš„æœ€å¤§å€¼ï¼Œç›´æ¥å¯¹æ—¥å¿—æ–‡ä»¶è¿›è¡Œåˆ‡å‰²</span></span><br><span class="line">$ pm2 <span class="built_in">set</span> pm2-logrotate-ext:rotateInterval 0 0 * * *</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¹ pm2 æ¨¡å—äº§ç”Ÿçš„æ—¥å¿—åŒæ ·è¿›è¡Œåˆ‡å‰²å¤„ç†</span></span><br><span class="line">$ pm2 <span class="built_in">set</span> pm2-logrotate-ext:rotateModule <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¯å¦æŒ‰å®šæ—¶ä»»åŠ¡è®¾ç½®è§„åˆ™å¼ºåˆ¶æ‰§è¡Œ</span></span><br><span class="line"><span class="comment"># å¦‚æœè®¾ç½®ä¸ºå¦ï¼Œåˆ™åªæœ‰å½“æ—¥å¿—æ–‡ä»¶å¤§å°è¶…è¿‡è®¾ç½®æ—¶æ‰è¿›è¡Œåˆ‡å‰²</span></span><br><span class="line">$ pm2 <span class="built_in">set</span> pm2-logrotate-ext:forced <span class="literal">true</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>Node.js</tag>
        <tag>PM2</tag>
      </tags>
  </entry>
  <entry>
    <title>å€ŸåŠ© nvm å®‰è£…ã€ç®¡ç†å¤šä¸ª NodeJS ç‰ˆæœ¬</title>
    <url>/post/3176262256.html</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•ä½¿ç”¨ <a href="https://github.com/creationix/nvm">nvm</a> å¯¹ Node çš„ç‰ˆæœ¬è¿›è¡Œç®¡ç†ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥é€‰æ‹©å¦ä¸€ä¸ªå·¥å…· <a href="https://github.com/tj/n">n</a>ã€‚</p>
</blockquote>
<h3 id="å®‰è£…æˆ–å‡çº§ï¼ˆå‚è§è¿™é‡Œï¼‰"><a href="#å®‰è£…æˆ–å‡çº§ï¼ˆå‚è§è¿™é‡Œï¼‰" class="headerlink" title="å®‰è£…æˆ–å‡çº§ï¼ˆå‚è§è¿™é‡Œï¼‰"></a>å®‰è£…æˆ–å‡çº§ï¼ˆ<a href="https://github.com/nvm-sh/nvm#install--update-script">å‚è§è¿™é‡Œ</a>ï¼‰</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.34.0/install.sh | bash</span><br></pre></td></tr></table></figure>

<p>æˆ–</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.34.0/install.sh | bash</span><br></pre></td></tr></table></figure>

<p>è„šæœ¬çš„ä½œç”¨æ˜¯å°† nvm ä»“åº“æºç å…‹éš†åˆ° <code>~/.nvm</code> ä¸‹é¢ï¼Œä¹‹åå°†ç¯å¢ƒå˜é‡æ·»åŠ åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œå¦‚ï¼š<code>~/.bash_profile</code>ï¼Œ <code>~/.zshrc</code>ï¼Œ<code>~/.profile</code>ï¼Œæˆ– <code>~/.bashrc</code>ã€‚</p>
<p>æ‰€ä»¥ä¼šç”¨åˆ° git å‘½ä»¤ï¼Œå¦‚æœæ²¡æœ‰ Gitï¼Œè¯·å…ˆå®‰è£…ã€‚</p>
<span id="more"></span>

<p><em><strong>å®‰è£…å®Œæˆä¹‹åï¼Œéœ€è¦é‡æ–°æ‰“å¼€ç»ˆç«¯ã€‚</strong></em></p>
<h3 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹å½“å‰å®‰è£…çš„ nvm ç‰ˆæœ¬</span></span><br><span class="line">âœ  ~ nvm --version</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰å¸®åŠ©ä¿¡æ¯</span></span><br><span class="line">âœ  ~ nvm</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ—å‡ºå…¨éƒ¨å¯å®‰è£…çš„ LTS ç‰ˆæœ¬</span></span><br><span class="line">âœ  ~ nvm ls-remote --lts</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£… Node</span></span><br><span class="line"><span class="comment"># 10 è¡¨ç¤ºå®‰è£… 10 ç³»åˆ—çš„æœ€æ–°ç‰ˆï¼›</span></span><br><span class="line"><span class="comment"># ä¹Ÿå¯ä»¥æŒ‡å®šå…·ä½“çš„ç‰ˆæœ¬å·ï¼Œå¦‚ 10.15.0</span></span><br><span class="line">âœ  ~ nvm install 10</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¨è</span></span><br><span class="line"><span class="comment"># å‡çº§ Node çš„åŒæ—¶ï¼ŒæŠŠæ—§ç‰ˆæœ¬å®‰è£…çš„å…¨å±€åŒ…ä¹Ÿä¸€å—è£…ä¸Šï¼ˆå› ä¸ºå‡çº§æ—¶ä¼šæŠŠå…¨å±€ node_modules åˆ é™¤ï¼‰</span></span><br><span class="line"><span class="comment"># æœ€åæ£€æŸ¥å‡çº§ npm</span></span><br><span class="line">âœ  ~ nvm install 10.21 --reinstall-packages-from=8.17 --latest-npm</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨æ·˜å®é•œåƒå®‰è£…</span></span><br><span class="line">âœ  ~ NVM_NODEJS_ORG_MIRROR=https://npm.taobao.org/mirrors/node nvm install 10</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å·²å®‰è£…çš„ç‰ˆæœ¬</span></span><br><span class="line">âœ  ~ nvm ls</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å·²å®‰è£…çš„ç‰ˆæœ¬ï¼ˆé€šè¿‡ç›®å½•ï¼‰</span></span><br><span class="line">âœ  ~ ls -a ~/.nvm/versions/node</span><br><span class="line">.        ..       v10.15.0 v8.15.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„ç‰ˆæœ¬</span></span><br><span class="line">âœ  ~ nvm current</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡æ¢ç‰ˆæœ¬</span></span><br><span class="line">âœ  ~ nvm use v8.15.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾å®šé»˜è®¤çš„ node ç‰ˆæœ¬</span></span><br><span class="line">âœ  ~ nvm <span class="built_in">alias</span> default v8.15.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®Œå…¨åˆ é™¤æŒ‡å®šç‰ˆæœ¬</span></span><br><span class="line">âœ  ~ sudo chown -R $(whoami) <span class="string">&quot;<span class="variable">$NVM_DIR</span>/versions/node/v6.6.0&quot;</span></span><br><span class="line">âœ  ~ sudo chmod -R u+w <span class="string">&quot;<span class="variable">$NVM_DIR</span>/versions/node/v6.6.0&quot;</span></span><br><span class="line">âœ  ~ nvm uninstall v6.6.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡çº§ npm</span></span><br><span class="line">âœ  ~ nvm install-latest-npm</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨å½“å‰ç‰ˆæœ¬çš„ Node ä¸­é‡æ–°å®‰è£…ä¹‹å‰åœ¨  &lt;version&gt; å®‰è£…çš„å…¨å±€åŒ…</span></span><br><span class="line">âœ  ~ nvm reinstall-packages &lt;version&gt;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>Node.js</tag>
        <tag>nvm</tag>
        <tag>npm</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨ nrm ç®¡ç† npm æº</title>
    <url>/post/316987977.html</url>
    <content><![CDATA[<h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ npm i nrm -g</span><br></pre></td></tr></table></figure>

<h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹ nrm å†…ç½®çš„å‡ ä¸ª npm æº</span></span><br><span class="line">âœ  ~ nrm ls</span><br><span class="line">  npm ---- https://registry.npmjs.org/</span><br><span class="line">  cnpm --- http://r.cnpmjs.org/</span><br><span class="line">* taobao - https://registry.npm.taobao.org/</span><br><span class="line">  nj ----- https://registry.nodejitsu.com/</span><br><span class="line">  npmMirror  https://skimdb.npmjs.com/registry/</span><br><span class="line">  edunpm - http://registry.enpmjs.org/</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡æ¢æº</span></span><br><span class="line">âœ  ~ nrm use cnpm</span><br><span class="line">    Registry has been <span class="built_in">set</span> to: http://r.cnpmjs.org/</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>npm</tag>
        <tag>nrm</tag>
      </tags>
  </entry>
  <entry>
    <title>å€ŸåŠ© IPXWrapper è§£å†³åŸºäº IPX åè®®çš„æ—§æ¸¸æˆå±€åŸŸç½‘è”æœºé—®é¢˜</title>
    <url>/post/438064550.html</url>
    <content><![CDATA[<blockquote>
<p>ä¹‹å‰ä¸€äº›çƒ­é—¨çš„è€æ¸¸æˆï¼Œæ¯”å¦‚çº¢è­¦ã€é­”å…½äº‰éœ¸ã€æ˜Ÿé™…äº‰éœ¸ã€æš—é»‘ç­‰ï¼Œéƒ½æ˜¯åŸºäº IPX åè®®è¿›è¡Œè”æœºçš„ï¼Œè€Œåœ¨å½“å‰ä½¿ç”¨æœ€å¤šçš„ Windows7ã€Windows10 ç³»ç»Ÿä¸­ï¼Œè¯¥åè®®å·²ç»ä¸å¯ç”¨äº†ã€‚å¦‚æœæƒ³è¦è”æœºï¼Œåˆ™å¿…é¡»ä¸‹è½½å¯¹åº”ç³»ç»Ÿçš„ IPX é©±åŠ¨æ–‡ä»¶è¿›è¡Œå®‰è£…ï¼Œæ“ä½œèµ·æ¥è¿˜æ˜¯æŒºéº»çƒ¦çš„ã€‚</p>
</blockquote>
<p>æœ¬æ–‡ä»‹ç»ä¸€ä¸ªç®€å•çš„å·¥å…· <strong>IPXWrapper</strong>ï¼Œå®ƒçš„åŸç†æ˜¯é€šè¿‡ <strong>UDP</strong> åŒ…æ¥æ¨¡æ‹Ÿ <strong>IPX</strong>ã€‚</p>
<p>åŒæ—¶è¿™æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œç›¸å…³åœ°å€å¦‚ä¸‹ï¼š</p>
<ul>
<li><a href="http://www.solemnwarning.net/ipxwrapper/">å®˜ç½‘</a></li>
<li><a href="https://github.com/whorusq/ipxwrapper">æºç ä»“åº“</a></li>
<li><a href="http://www.solemnwarning.net/ipxwrapper/ipxwrapper-0.6.1.zip">ä¸‹è½½ ipxwrapper-0.6.1.zip</a> | <a href="https://github.com/whorusq/ipxwrapper/archive/ipxwrapper-0.6.1.zip">å¤‡ç”¨ä¸‹è½½é“¾æ¥1</a> ï½œ <a href="https://bayfiles.com/X8Leq5nbp6/ipxwrapper-0.6.1_zip">å¤‡ç”¨ä¸‹è½½é“¾æ¥2</a></li>
</ul>
<p>ä¸‹è½½ä¸‹æ¥åï¼ŒæŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</p>
<ol>
<li>æŠŠæ‰€æœ‰æ–‡ä»¶è§£å‹å‡ºæ¥ï¼Œå¹¶æ‹·è´åˆ°æ¸¸æˆçš„æ ¹ç›®å½•ä¸‹ï¼Œå¦‚æœæ–‡ä»¶å·²ç»å­˜åœ¨åˆ™é€‰æ‹©è¦†ç›–ï¼›</li>
<li>æ ¹æ®å½“å‰ç³»ç»Ÿç‰ˆæœ¬ï¼Œæ‰§è¡Œ <code>directplay-win32.reg</code> æˆ– <code>directplay-win64.reg</code> æ–‡ä»¶æ·»åŠ æ³¨å†Œè¡¨ï¼›</li>
<li>åŒå‡»è¿è¡Œ <code>ipxconfig.exe</code> æ–‡ä»¶é…ç½®ç½‘å¡ï¼ˆä¸€èˆ¬é»˜è®¤å³å¯ï¼‰ã€‚å½“å­˜åœ¨å¤šå¼ ç½‘å¡æ—¶ï¼Œåœ¨ <code>Network adapters</code> åˆ—è¡¨ä¸‹å•å‡»ä¸éœ€è¦çš„ç½‘å¡ï¼Œç„¶åå–æ¶ˆ <code>Enable interface</code> çš„å‹¾é€‰ï¼Œå¯ä»¥é¿å…åœ¨æ¸¸æˆçš„ç½‘ç»œè®¾ç½®ä¸­å‡ºç°å¤šä¸ªç½‘å¡é€‰é¡¹ã€‚</li>
</ol>
<p><strong>å‹æƒ…æç¤º</strong>ï¼šå¯¹äºè¿™äº›è€æ—§æ¸¸æˆï¼Œå»ºè®®ä½¿ç”¨å…¼å®¹æ¨¡å¼è¿è¡Œï¼Œé€‰æ‹©ã€ŒWindows XP sp3ã€ã€‚</p>
]]></content>
      <categories>
        <category>æ¸¸æˆ</category>
      </categories>
      <tags>
        <tag>æ¸¸æˆ</tag>
        <tag>ipx</tag>
        <tag>IPXWrapper</tag>
      </tags>
  </entry>
  <entry>
    <title>å´å†›åšå£«äººç”Ÿè¿›é˜¶ä¸‰éƒ¨æ›²ï¼šã€Šæ€åº¦ã€‹</title>
    <url>/post/1479506599.html</url>
    <content><![CDATA[<ul>
<li>å¤«å¦»ä¹‹é—´çš„çŸ›ç›¾è¦åœ¨å­©å­ä¸åœ¨åœºçš„æ—¶å€™è§£å†³ã€‚å’Œè°äº§ç”Ÿå¿«ä¹ã€‚</li>
<li>æ°¸è¿œæ²¡æœ‰å®Œç¾çš„æ—¶å€™ã€‚å°†ä¸€ä¸ªæ¯”åŸæ¥æ›´å¥½çš„ä¸€ç‚¹çš„ç‰ˆæœ¬æŒ‰æ—¶æä¾›ç»™ç”¨æˆ·ï¼Œæ€»æ¯”ä¸ºäº†è¿½æ±‚ä¸€ä¸ªå®Œç¾çš„ç‰ˆæœ¬ï¼Œæœ€åä»€ä¹ˆéƒ½æä¾›ä¸äº†å¥½å¾—å¤šã€‚</li>
<li>ä»åšæ¯ä¸€ä»¶å°äº‹å¼€å§‹ï¼Œæ…¢æ…¢å½¢æˆä¹ æƒ¯ï¼Œä¹ æƒ¯å¡‘é€ æ¥æ€§æ ¼ï¼Œæ€§æ ¼å†³å®šæ¥å‘½è¿ã€‚</li>
<li>ç›–èŒ¨å’Œæ‰å…‹ä¼¯æ ¼ï¼š<ul>
<li>ä»–ä»¬è‡³å°‘éƒ½ä¸Šäº†å“ˆä½›ï¼›</li>
<li>ä»–ä»¬éƒ½æœ‰è¿‡äººçš„æŠ€æœ¯ä¸“é•¿ï¼›</li>
<li><code>ä»–ä»¬éƒ½æ˜¯åœ¨æ‰¾åˆ°äº†èµšé’±æ–¹æ³•ä¹‹åï¼Œæ‰é€€å­¦çš„ï¼Œè€Œä¸æ˜¯åœ¨é€€å­¦ä¹‹åå¼€å§‹åˆ›ä¸šçš„</code>ã€‚</li>
</ul>
</li>
<li><strong>å¥½è¿æ°”åé¢æ˜¯ä¸‰å€çš„åŠªåŠ›</strong>ã€‚</li>
<li>æˆåŠŸå›ºç„¶ä¸é”™ï¼Œä½†æ›´é‡è¦çš„æ˜¯åšä¸ªå¥½äººï¼ˆItâ€™s nice to be great, yet itâ€™s great to be great.ï¼‰ã€‚</li>
<li>J.P.æ‘©æ ¹è¯´ï¼šâ€œä»»æ„è®©â€˜å°é’±â€™ä»èº«è¾¹æºœèµ°çš„äººï¼Œä¸€å®šç•™ä¸ä½â€˜å¤§é’±â€™ã€‚â€</li>
<li>å¤©å¤©æ“ä½œè‚¡ç¥¨çš„äººï¼Œéƒ½æ˜¯åœ¨å‘è‚¡å¸‚é€é’±ã€‚åªæœ‰è€å¾—ä½æ€§å­çš„äººï¼Œæ‰èƒ½èµšé’±ã€‚</li>
<li>å…³äºæŠ•èµ„ï¼ˆä¸å·´è²ç‰¹çš„åˆé¤ï¼‰ï¼š<ul>
<li>ä¸è¦è¿‡äºå†’é™©ï¼Œä¼šå¯¼è‡´ç­é¡¶ä¹‹ç¾çš„æŠ•èµ„ï¼›</li>
<li>ä¸è¦è¿›è¡Œè‡ªå·±ä¸æ‡‚çš„æŠ•èµ„ã€‚</li>
</ul>
</li>
<li>å…³äºé¢†å¯¼åŠ›ï¼š<ul>
<li>ç»„ç»‡å’Œå·¥ä½œèƒ½åŠ›ï¼Œèƒ½å¦å°†ä¸€ä»¶äº‹åˆ†è§£ï¼Œç»„ç»‡å¤§å®¶å®Œæˆï¼›</li>
<li>å›¢ç»“å¤§å¤šæ•°äººï¼Œè®©æ¯ä¸ªäººèƒ½å¤Ÿå„å°½å…¶æ‰ï¼Œå‘æŒ¥ä½œç”¨ã€‚</li>
</ul>
</li>
<li>å…³äºæ²Ÿé€šï¼š<ul>
<li>æœ‰æ•ˆçš„æ²Ÿé€šè¦ä»¥å¯¹æ–¹çš„ç¡®è®¤ä¸ºå‡†ï¼›</li>
<li>ä»¥å¯¹æ–¹å¬å¾—æ‡‚çš„è¯æ¥æ²Ÿé€šï¼›</li>
<li>è¦ç®€æ´ï¼Œåˆ‡ä¸­è¦å®³ï¼›</li>
<li>å–„è¾©ä¸ç­‰äºå¥½çš„æ²Ÿé€šã€‚</li>
</ul>
</li>
<li>ä¸–ç•Œä¸Šæ°¸è¿œæœ‰å¾ˆå¤šæˆ‘ä»¬è§‰å¾—æ— èƒ½ä¸ºåŠ›çš„äº‹æƒ…ï¼Œæœ‰äº›æ˜¯æ³¨å®šçš„ï¼Œæˆ–è€…è¿æ°”ä¸å¥½ï¼Œæˆ‘ä»¬èƒ½åšçš„äº‹æƒ…æ¯”è¾ƒå°‘ï¼Œä½†æ˜¯è¿™äº›å€’éœ‰äº‹å¦‚æœä¸€å†å‘ç”Ÿï¼Œå°±è¯´æ˜æˆ‘ä»¬åšäº‹çš„æ–¹æ³•å¯èƒ½æœ‰é—®é¢˜ï¼Œéœ€è¦è·³å‡ºåŸæœ‰çš„å›ºå®šæ€ç»´ï¼Œå¯»æ‰¾æ›´å¥½çš„æ–¹æ³•ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>è¯»ä¹¦</tag>
        <tag>å´å†›</tag>
      </tags>
  </entry>
  <entry>
    <title>æ€€æ—§æ¸¸æˆã€Šçº¢è‰²è­¦æˆ’2ï¼šå…±å’Œå›½ä¹‹è¾‰ã€‹</title>
    <url>/post/3045142832.html</url>
    <content><![CDATA[<blockquote>
<p>ã€Šçº¢è‰²è­¦æˆ’2ï¼šå…±å’Œå›½ä¹‹è¾‰ã€‹æ˜¯å³æ—¶æˆ˜ç•¥æ¸¸æˆã€Šçº¢è‰²è­¦æˆ’2ã€‹çš„ä¸€ä¸ªéå®˜æ–¹æ¸¸æˆæ¨¡ç»„ï¼ˆMODï¼‰ï¼Œç”±ä¸­å›½çˆ±å¥½è€… <strong>Lord Hero</strong> åˆ¶ä½œï¼Œå°†å¤å·´é˜µè¥ä»æ¸¸æˆä¸­å‰”é™¤ï¼Œä»¥ä¸­å›½é˜µè¥æ›¿ä»£ï¼Œå¹¶æ–°å¢äº†è§£æ”¾å†›æˆ˜å£«ã€è½»å¦å…‹ã€è®­ç»ƒä¸­å¿ƒç­‰ä¸­å›½é˜µè¥ç‰¹æœ‰çš„å…µç§åŠå»ºç­‘ã€‚</p>
</blockquote>
<p><img data-src="https://static.sqiang.net/image/post/red_alert_2.jpg?imageView2/2/w/600" alt="ã€Šçº¢è‰²è­¦æˆ’2ï¼šå…±å’Œå›½ä¹‹è¾‰ã€‹"></p>
<span id="more"></span>

<h3 id="1-æ¸¸æˆä¿¡æ¯"><a href="#1-æ¸¸æˆä¿¡æ¯" class="headerlink" title="1. æ¸¸æˆä¿¡æ¯"></a>1. æ¸¸æˆä¿¡æ¯</h3><table>
  <thead>
  </thead>
  <tbody>
    <tr>
      <td align="right"><b>ä¸­æ–‡å</b></td>
      <td>çº¢è‰²è­¦æˆ’2ï¼šå…±å’Œå›½ä¹‹è¾‰</td>
      <td align="right"><b>å¼€å‘å•†</b></td>
      <td>Westwoodå…¬å¸</td>
    </tr>
    <tr>
      <td align="right"><b>åŸç‰ˆåç§°</b></td>
      <td>Red Alert 2</td>
      <td align="right"><b>å‘è¡Œæ—¥æœŸ</b></td>
      <td>2001å¹´</td>
    </tr>
        <tr>
      <td align="right"><b>æ¸¸æˆç±»å‹</b></td>
      <td>å³æ—¶æˆ˜ç•¥</td>
      <td align="right"><b>åˆ¶ä½œäºº</b></td>
      <td>Lord Hero</td>
    </tr>
        <tr>
      <td align="right"><b>å†…å®¹ä¸»é¢˜</b></td>
      <td>æˆ˜äº‰</td>
      <td align="right"><b>æ¸¸æˆå¹³å°</b></td>
      <td>PC</td>
    </tr>
        <tr>
      <td align="right"><b>ç©å®¶äººæ•°</b></td>
      <td>2 åˆ° 8 äºº</td>
      <td align="right"><b>æ¸¸æˆç”»é¢</b></td>
      <td>2D</td>
    </tr>
  </tbody>
  <tfoot>
  </tfoot>
</table>

<h3 id="2-ä¸‹è½½åœ°å€"><a href="#2-ä¸‹è½½åœ°å€" class="headerlink" title="2. ä¸‹è½½åœ°å€"></a>2. ä¸‹è½½åœ°å€</h3><ul>
<li><a href="https://pan.baidu.com/s/1YWrcQ8qrethEGhV24Z7rGQ">ç™¾åº¦ç½‘ç›˜</a> æå–ç : <code>xrqt</code></li>
<li>é˜¿é‡Œäº‘ç½‘ç›˜(æš‚ä¸æ”¯æŒ)</li>
</ul>
<h3 id="3-å®‰è£…è¯´æ˜"><a href="#3-å®‰è£…è¯´æ˜" class="headerlink" title="3. å®‰è£…è¯´æ˜"></a>3. å®‰è£…è¯´æ˜</h3><h4 id="3-1-åŸºæœ¬è®¾ç½®"><a href="#3-1-åŸºæœ¬è®¾ç½®" class="headerlink" title="3.1. åŸºæœ¬è®¾ç½®"></a>3.1. åŸºæœ¬è®¾ç½®</h4><blockquote>
<p>æç¤ºï¼šæ“ä½œä¹‹å‰ï¼Œå»ºè®®ä¿®æ”¹ç³»ç»Ÿè®¾ç½®ï¼Œæ˜¾ç¤ºæ–‡ä»¶æ‰©å±•åã€‚</p>
</blockquote>
<ol>
<li><p>è§£å‹ä¸‹è½½çš„æ–‡ä»¶åˆ°ä»»æ„ä½ç½®ï¼ŒåŒ…å« <code>GHra2.rar</code>ã€<code>ddraw.zip</code>ã€<code>ipxwrapper-0.6.1.zip</code> ä¸‰ä¸ªå‹ç¼©åŒ…ã€‚</p>
</li>
<li><p>è§£å‹ä¸»ç¨‹åºæ–‡ä»¶ <code>GHra2.rar</code> åˆ°ç³»ç»Ÿçš„ä¸€ä¸ªç›®å½•ä¸‹ï¼Œ<strong>æ³¨æ„ä¸è¦ä½¿ç”¨åŒ…å«ä¸­æ–‡çš„è·¯å¾„</strong>ã€‚æ¯”å¦‚ï¼Œæˆ‘çš„æœ€ç»ˆç›®å½•ä¸º <code>C:\game\GHra2</code></p>
</li>
<li><p>è§£å†³æ¸¸æˆå¡é¡¿é—®é¢˜</p>
<ul>
<li>è§£å‹ <code>ddraw.zip</code> å¾—åˆ° <code>ddraw.dll</code>ï¼Œæ‹·è´åˆ°æ¸¸æˆæ ¹ç›®å½•ä¸‹ï¼›</li>
<li>æ‰¾åˆ°æ¸¸æˆæ ¹ç›®å½•ä¸‹çš„ <code>Ra2.ini</code> æ–‡ä»¶ï¼Œå³é”®é€‰æ‹©ç¼–è¾‘æ‰“å¼€ï¼Œç„¶åæŠŠ <code>[Video]</code> éƒ¨åˆ†å…¨éƒ¨æ›¿æ¢ä¸ºä»¥ä¸‹å†…å®¹ï¼š</li>
</ul>
 <figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="section">[Video]</span></span><br><span class="line"><span class="attr">VideoBackBuffer</span>=<span class="literal">no</span></span><br><span class="line"><span class="attr">AllowHiResModes</span>=<span class="literal">yes</span></span><br><span class="line"><span class="attr">AllowVRAMSidebar</span>=<span class="literal">no</span></span><br><span class="line"><span class="attr">ScreenWidth</span>=<span class="number">1024</span></span><br><span class="line"><span class="attr">ScreenHeight</span>=<span class="number">768</span></span><br><span class="line"><span class="attr">StretchMovies</span>=<span class="literal">no</span></span><br></pre></td></tr></table></figure></li>
<li><p>å…¼å®¹æ€§è®¾ç½®ï¼ˆè¿™é‡Œä»¥ <code>Windows 7</code> ç³»ç»Ÿä¸ºä¾‹ï¼‰</p>
<p> åœ¨ <code>ra2.exe</code> æ–‡ä»¶ä¸Šå³é”®å•å‡»ï¼Œä¾æ¬¡é€‰æ‹©ã€Œå±æ€§ã€ &gt; ã€Œå…¼å®¹æ€§ã€ï¼š</p>
<ul>
<li>å‹¾é€‰<strong>ä»¥å…¼å®¹æ¨¡å¼è¿è¡Œè¿™ä¸ªç¨‹åº</strong>ï¼Œå¹¶é€‰æ‹©<strong>Windows XPï¼ˆService Pack 3ï¼‰</strong>ï¼›</li>
<li>å‹¾é€‰<strong>ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œæ­¤ç¨‹åº</strong>ã€‚</li>
</ul>
</li>
<li><p>åŒå‡» <code>ra2.exe</code> å¯åŠ¨æ¸¸æˆã€‚å› ä¸ºç»¿è‰²å…å®‰è£…ç‰ˆï¼Œå¦‚æœå¯åŠ¨æ¸¸æˆæ²¡ååº”ï¼Œå¯é‡è¯•ä¸¤æ¬¡ï¼›å¦‚æœè¿˜æ˜¯ä¸è¡Œï¼Œåˆ™å…ˆåŒå‡»è¿è¡Œæ¸¸æˆæ ¹ç›®å½•ä¸‹çš„ <code>RegSetup.exe</code> æ–‡ä»¶ï¼Œå¹¶æ ¹æ®æç¤ºå®Œæˆå®‰è£…ä»¥ä¿®å¤æ³¨å†Œè¡¨ï¼Œç„¶åå†æ‰“å¼€æ¸¸æˆã€‚</p>
</li>
</ol>
<h4 id="3-2-å±€åŸŸç½‘å¯¹æˆ˜è®¾ç½®"><a href="#3-2-å±€åŸŸç½‘å¯¹æˆ˜è®¾ç½®" class="headerlink" title="3.2. å±€åŸŸç½‘å¯¹æˆ˜è®¾ç½®"></a>3.2. å±€åŸŸç½‘å¯¹æˆ˜è®¾ç½®</h4><p>ç”±äºè¯¥æ¸¸æˆåœ¨å±€åŸŸç½‘å¯¹æˆ˜æ—¶ä½¿ç”¨çš„ <code>IPX</code> ç½‘ç»œåè®®åœ¨é«˜ç‰ˆæœ¬ç³»ç»Ÿä¸­å·²ç»è¢«æŠ›å¼ƒï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ä¸ªå·¥å…· <code>IPXWrapper</code> è¿›è¡Œæ¨¡æ‹Ÿã€‚</p>
<ol>
<li><p>è§£å‹ <code>ipxwrapper-0.6.1.zip</code> åˆ°ä»»æ„ç›®å½•ä¸‹ï¼Œå¹¶æŠŠæ‰€æœ‰æ–‡ä»¶æ‹·è´åˆ°æ¸¸æˆæ ¹ç›®å½•ä¸‹ï¼Œå…·ä½“å®‰è£…è¯´æ˜è¯¦è§ <a href="/post/438064550.html">å€ŸåŠ© IPXWrapper è§£å†³åŸºäº IPX åè®®çš„æ—§æ¸¸æˆå±€åŸŸç½‘è”æœºé—®é¢˜
</a>ã€‚</p>
</li>
<li><p>å¯åŠ¨æ¸¸æˆåï¼Œä¾æ¬¡é€‰æ‹©èœå•ã€Œé€‰é¡¹ã€ &gt; ã€Œç½‘ç»œã€ï¼Œå¹¶åšå¦‚ä¸‹ä¿®æ”¹ï¼š</p>
<ul>
<li><strong>ç½‘å¡</strong>ï¼šé€‰æ‹©è¿æ¥ç½‘ç»œä½¿ç”¨çš„ç½‘å¡ï¼ˆæ³¨æ„ï¼Œä¸‹æ‹‰æ¡†é‡Œæ˜¾ç¤ºçš„æ˜¯ç½‘å¡çš„ mac åœ°å€ï¼‰ï¼›</li>
<li><strong>Socket å·ç </strong>ï¼šè®¾ç½®ä¸º <code>0</code></li>
<li><strong>ç›®æ ‡ç½‘ç»œ</strong>ï¼šè®¾ç½®ä¸º <code>00.00.00.00</code></li>
</ul>
<p> <strong>æ³¨æ„</strong>ï¼šæ­¤å¤„çš„è®¾ç½®ï¼Œæ‰€æœ‰å‡†å¤‡è”ç½‘å¯¹æˆ˜çš„æœºå™¨éœ€è¦<strong>ä¿æŒä¸€è‡´</strong>ï¼Œå¦åˆ™ä¹Ÿä¼šæ‰¾ä¸åˆ°ã€‚</p>
</li>
<li><p>è¿”å›ä¸»èœå•ï¼Œå•å‡»ã€Œç½‘ç»œã€ï¼Œä¿®æ”¹ä½ è‡ªå·±çš„æ¸¸æˆç©å®¶åç§°ï¼Œæœ€ååˆ›å»ºæˆ–å‚ä¸æ¸¸æˆã€‚</p>
</li>
</ol>
]]></content>
      <categories>
        <category>æ¸¸æˆ</category>
      </categories>
      <tags>
        <tag>æ¸¸æˆ</tag>
        <tag>çº¢è‰²è­¦æˆ’2</tag>
        <tag>å…±å’Œå›½ä¹‹è¾‰</tag>
      </tags>
  </entry>
  <entry>
    <title>è¯»ã€Šå°ç‹—é’±é’±1ã€‹</title>
    <url>/post/605289230.html</url>
    <content><![CDATA[<ul>
<li>æˆåŠŸçš„æ•…äº‹å¾ˆå°‘æœ‰ç²¾å½©çš„ç¿»ç‰ˆï¼Œä½†æ˜¯æ•…äº‹ä¸­åŒ…å«çš„é“ç†å´å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨é‡åˆ°å›°å¢ƒæ—¶æ‰¾åˆ°æœ€ä½³çš„å‡ºè·¯ã€‚</li>
<li>å¹¶éå›°éš¾ä½¿æˆ‘ä»¬æ”¾å¼ƒï¼Œè€Œæ˜¯å› ä¸ºæˆ‘ä»¬æ”¾å¼ƒï¼Œæ‰æ˜¾å¾—å¦‚æ­¤å›°éš¾ã€‚</li>
<li>å¤©ä¸‹éš¾äº‹ï¼Œå¿…åšäºæ˜“ï¼›å¤©ä¸‹å¤§äº‹ï¼Œå¿…åšäºç»†ã€‚</li>
<li>å¤ªå¤šçš„äººåšäº‹çŠ¹è±«ä¸å†³ï¼Œå°±æ˜¯å› ä¸ºä»–ä»¬è§‰å¾—æ²¡æœ‰å®Œå…¨å¼„æ‡‚è¿™ä»¶äº‹æƒ…ã€‚çœŸæ­£ä»˜è¯¸å®è·µæ¯”çº¯ç²¹çš„æ€è€ƒæœ‰ç”¨çš„å¤šã€‚</li>
<li>å½“ä½ å†³å®šåšä¸€ä»¶äº‹æƒ…çš„æ—¶å€™ï¼Œä½ å¿…é¡»åœ¨ 72 å°æ—¶ä¹‹å†…å®Œæˆï¼Œå¦åˆ™ä½ å¾ˆå¯èƒ½æ°¸è¿œä¸ä¼šå†åšäº†ã€‚</li>
<li>é‡å…¥ä¸ºå‡ºã€‚</li>
<li>50% çš„æ”¶å…¥å˜æˆâ€˜é¹…â€™ï¼ˆå¯ä»¥äº§ç”Ÿæ”¶ç›Šçš„é’±ï¼Œæ°¸è¿œä¸è¦éšä¾¿åŠ¨ï¼‰ï¼Œ40% çš„æ”¶å…¥æ”¾å…¥æ¢¦æƒ³å‚¨è“„ç½ï¼ˆä¸€äº›ç›®æ ‡æ€§çš„æ¶ˆè´¹è®¡åˆ’ï¼‰ï¼Œå‰©ä¸‹çš„ 10% ç”¨æ¥èŠ±ï¼ˆæ—¥å¸¸æ”¯å‡ºï¼‰ã€‚</li>
<li>ä¸€ä¸ªäººè§‰å¾—æœ€å¼•ä»¥ä¸ºè±ªçš„äº‹æƒ…ï¼Œå¾€å¾€æ˜¯é‚£äº›åšèµ·æ¥æœ€è‰°éš¾çš„äº‹æƒ…ã€‚</li>
<li>æŒ‘é€‰åŸºé‡‘æ—¶çš„æ³¨æ„äº‹é¡¹ï¼š<ul>
<li>è‡³å°‘æœ‰ 10 å¹´å†å²ï¼›</li>
<li>ä¼˜å…ˆé€‰æ‹©å¤§å‹è·¨å›½è‚¡ç¥¨åŸºé‡‘ï¼›</li>
<li>æ¯”è¾ƒåŸºé‡‘èµ°åŠ¿å›¾ï¼Œçœ‹è¿‡å» 10 å¹´é—´å“ªäº›å¹´ç»ˆåˆ©æ¶¦æœ€å¥½ã€‚</li>
</ul>
</li>
<li>æŠŠé’±æŠ•åœ¨ä¸€åªå¤§å‹åŸºé‡‘ä¸Šï¼Œ5 ï½ 10 å¹´å†…æ ¹æœ¬ä¸å»çœ‹ä»–ã€‚</li>
<li>å­¦ä¼šæŠŠæŸäº›è‡ªå·±ä¸å–œæ¬¢åšè€Œåˆä¸æ“…é•¿åšçš„äº‹æƒ…äº¤ç»™åˆ«äººå°±è¡Œäº†ã€‚</li>
<li>ä¸è¦ä¸ºå¤±å»çš„ä¸œè¥¿è€Œå¿§ä¼¤ï¼Œè€Œè¦å¯¹æ‹¥æœ‰å®ƒçš„æ—¶å…‰å¿ƒå­˜æ„Ÿæ¿€ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>è¯»ä¹¦</tag>
      </tags>
  </entry>
  <entry>
    <title>è¯»ã€Šä¹ æƒ¯çš„åŠ›é‡ã€‹</title>
    <url>/post/130164364.html</url>
    <content><![CDATA[<blockquote>
<p>æœ¬ä¹¦é€šè¿‡å¤§é‡æ¡ˆä¾‹ï¼Œæ­ç¤ºäº†æˆ‘ä»¬çš„ä¹ æƒ¯æ˜¯å¦‚ä½•å½¢æˆçš„ï¼Œåˆ»ç”»äº†ä¸€å¼ å›¾ã€Œä¹ æƒ¯å›è·¯ã€ï¼Œå®ƒåŒ…å«æç¤ºã€æƒ¯å¸¸è¡Œä¸ºã€å¥–åŠ±ä¸‰ä¸ªä¸»è¦éƒ¨åˆ†ã€‚ç»“åˆè¿™å¼ å›¾ï¼Œé€šè¿‡è®¤çœŸåˆ†æå¹¶æ‰¾åˆ°æˆ‘ä»¬å†…å¿ƒæ·±å¤„çœŸæ­£çš„éœ€æ±‚ï¼Œå€ŸåŠ©æƒ¯å¸¸è¡Œä¸ºçš„æ”¹å˜ï¼Œå°±èƒ½è¾¾åˆ°æ”¹å˜æ—§ä¹ æƒ¯çš„ç›®çš„ã€‚</p>
</blockquote>
<p>æ— æ„é—´åœ¨ç½‘ä¸Šæ‰¾åˆ°äº†ä¸‹é¢è¿™å¼ å›¾ç‰‡ï¼Œå®ƒéå¸¸å¥½çš„è¯ é‡Šäº†æœ¬ä¹¦çš„ä¸»æ—¨ï¼š</p>
<p><img data-src="https://static.sqiang.net/image/post/customay_behavior_1.png?imageView2/2/w/600" alt="ã€Šä¹ æƒ¯çš„åŠ›é‡ã€‹ï¼ˆå›¾ç‰‡æ¥æºç½‘ç»œï¼‰" title="ã€Šä¹ æƒ¯çš„åŠ›é‡ã€‹ï¼ˆå›¾ç‰‡æ¥æºç½‘ç»œï¼‰"></p>
<span id="more"></span>

<h3 id="å…³äºä¹ æƒ¯å›è·¯"><a href="#å…³äºä¹ æƒ¯å›è·¯" class="headerlink" title="å…³äºä¹ æƒ¯å›è·¯"></a>å…³äºä¹ æƒ¯å›è·¯</h3><p>ä¸Šå›¾ä¸­çš„å†…åœˆéƒ¨åˆ†ä¸»è¦è¯´æ˜çš„æ˜¯<strong>ä¹ æƒ¯å›è·¯</strong>ï¼š</p>
<ul>
<li><code>çœ‹åˆ°ä¸€ä¸ªã€Œæš—ç¤ºã€</code>ï¼šè¿™ä¸ªã€Œæš—ç¤ºã€æ˜¯ä»»ä½•è®©ä½ äº§ç”ŸæŸç§è¡Œä¸ºçš„ä¸œè¥¿ï¼Œæ¯”å¦‚ï¼šçœ‹åˆ°ç¯®çƒï¼Œæƒ³åˆ°çš„æ˜¯å»æ‰“ç¯®çƒï¼›çœ‹åˆ°æ¸¸æˆæœºï¼Œæƒ³åˆ°çš„æ˜¯æ‰“æ¸¸æˆï¼›çœ‹è§çƒŸç›’æˆ–æ‰“ç«æœºï¼Œæƒ³åˆ°çš„æ˜¯å¸çƒŸç­‰ã€‚</li>
<li><code>é‡‡å–ã€Œæƒ¯å¸¸è¡Œä¸ºã€</code>ï¼šæ‰¿æ¥ä¸Šä¸€æ­¥çš„ã€Œæš—ç¤ºã€è€Œäº§ç”Ÿçš„ä¹ æƒ¯æ€§è¡Œä¸ºã€‚</li>
<li><code>å¾—åˆ°æ¸´æœ›çš„ã€Œå¥–åŠ±ã€</code>ï¼šè¿™ä¸€ä¸²è¡Œä¸ºæœ€ç»ˆä¼šå¾—åˆ°ä»€ä¹ˆã€‚æ¯”å¦‚ï¼šå–é…’ï¼Œäº«å—çš„æ˜¯é‚£ç§æš‚æ—¶æ”¾ä¸‹ä¸€åˆ‡çš„çŠ¶æ€ï¼›æ‰“æ¸¸æˆï¼Œå¾—åˆ°çš„æ˜¯èµ¢å¾—æ¯”èµ›ã€å¾—åˆ°åˆ«äººè†œæ‹œçš„å¿«æ„Ÿç­‰ã€‚å½“ç„¶å¯¹äºåŒä¸€æ ·ä¸œè¥¿ï¼Œæ¯ä¸ªäººçœŸæ­£çš„æ¸´æ±‚ä¸å°½ç›¸åŒï¼Œè¿™é‡Œåªæ˜¯ä¸¾ä¾‹ã€‚</li>
</ul>
<h3 id="å…³äºä¹ æƒ¯æ”¹å˜"><a href="#å…³äºä¹ æƒ¯æ”¹å˜" class="headerlink" title="å…³äºä¹ æƒ¯æ”¹å˜"></a>å…³äºä¹ æƒ¯æ”¹å˜</h3><p>ä¸Šå›¾ä¸­çš„å¤–åœˆéƒ¨åˆ†ä¸»è¦è¯´æ˜çš„æ˜¯<strong>å¦‚ä½•æ”¹å˜ä¹ æƒ¯</strong>ï¼š</p>
<blockquote>
<p>ç•™ä½æ—§ä¹ æƒ¯å›è·¯ä¸­çš„ã€Œæš—ç¤ºã€ï¼Œæä¾›æ—§ä¹ æƒ¯å›è·¯ä¸­çš„ã€Œå¥–åŠ±ã€ï¼Œä½†è¦æ’å…¥ä¸€ä¸ªæ–°çš„æƒ¯å¸¸è¡Œä¸ºã€‚</p>
</blockquote>
<p>è¿™æ˜¯ä¹¦ä¸­é˜è¿°çš„ä¸€ä¸ªæ”¹å˜ä¹ æƒ¯çš„é»„é‡‘æ³•åˆ™ï¼Œå¦‚æœæš—ç¤ºå’Œå¥–èµä¸å˜ï¼Œå‡ ä¹æ‰€æœ‰ä¹ æƒ¯éƒ½æ˜¯å¯ä»¥æ”¹å˜çš„ã€‚</p>
<p>æ¨èæ­¥éª¤ï¼š</p>
<ul>
<li>1ã€<code>æ‰¾å‡ºç›®å‰çš„ã€Œæƒ¯å¸¸è¡Œä¸ºã€</code>ï¼Œä¹Ÿå°±æ˜¯ä½ æƒ³æ”¹å˜çš„ä¹ æƒ¯ï¼›</li>
<li>2ã€<code>å°è¯•ä½¿ç”¨ä¸åŒçš„ã€Œå¥–åŠ±ã€</code>ï¼Œä»¥æ‰¾åˆ°çœŸæ­£æƒ³è¦å¾—åˆ°çš„ä¸œè¥¿ï¼›</li>
<li>3ã€<code>æ‰¾å‡ºè§¦å‘ä¹ æƒ¯çš„ã€Œæš—ç¤ºã€</code>ï¼Œå¼„æ¸…æ¥šæ˜¯ä»€ä¹ˆè§¦å‘äº†è¿™ä¸ªä¹ æƒ¯ï¼›</li>
<li>4ã€<code>åˆ¶å®šè®¡åˆ’</code>ï¼Œé‡‡ç”¨ä¸åŒçš„ã€æ›´æœ‰ç›Šçš„ä¹ æƒ¯ï¼Œä»¥å¾—åˆ°åŒæ ·çš„ã€Œå¥–åŠ±ã€æˆ–æ›´å¥½çš„ã€Œå¥–åŠ±ã€ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>è¯»ä¹¦</tag>
      </tags>
  </entry>
  <entry>
    <title>å´å†›åšå£«äººç”Ÿè¿›é˜¶ä¸‰éƒ¨æ›²ï¼šã€Šè§è¯†ã€‹</title>
    <url>/post/3622989416.html</url>
    <content><![CDATA[<ul>
<li>ä¸€æ¡æ²³çš„æ°´é‡ï¼Œç”±å®ƒçš„<strong>é•¿åº¦</strong>ã€<strong>å®½åº¦</strong>å’Œ<strong>æ·±åº¦</strong>ä¸‰ä¸ªå› ç´ å†³å®šï¼Œä¸€ä¸ªäººçš„å½±å“åŠ›ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</li>
<li>å¯¹äºé‚£äº›è¯•å›¾åœ¨é‡‘å­—å¡”ä¸Šçˆ¬å‡ ä¸ªå°é˜¶çš„äººæ¥è®²ï¼Œè¦åšçš„ä¸æ˜¯æŠ±æ€¨ç¤¾ä¼šçš„ä¸å…¬å¹³ï¼Œè€Œæ˜¯éœ€è¦ä»˜å‡ºè¶³å¤Ÿå¤šçš„åŠªåŠ›ï¼ŒåŒæ—¶æŠŠæ³¨æ„åŠ›æ”¾åˆ°æœ€è¯¥å…³æ³¨çš„äº‹æƒ…ä¸Šå»ã€‚</li>
<li>æ‹çˆ±æ˜¯æ¿€æƒ…ï¼Œæ˜¯åŒ–å­¦ç‰©è´¨åˆ†æ³Œæ‰€å¸¦æ¥çš„æ„‰æ‚¦ï¼›å©šå§»åˆ™æ˜¯ç”±ä¸¤ä¸ªäººä¸€åŒæ„é€ ä¸€ä¸ª<strong>èˆ’é€‚</strong>çš„å…±åŒä½“ï¼Œåœ¨é‚£ä¸ªå…±åŒä½“ä¸­ï¼ŒåŒæ–¹éƒ½å°†å—ç›Šã€‚</li>
<li>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬æŠŠå¤ªå¤šçš„ç²¾åŠ›èŠ±åœ¨äº†é€‰æ‹©ä¸Šï¼Œè€Œä¸æ˜¯<strong>ç»è¥</strong>ä¸Šï¼Œå¯¼è‡´éš¾ä»¥ç²¾è¿›ã€‚</li>
<li><strong>åšå‡æ³•</strong>ã€‚å¦‚æœä¸€ä¸ªäººä¸èƒ½æŠŠä¸€ä»¶äº‹åšå¥½ï¼Œä»–é¦–å…ˆæƒ³åˆ°çš„å°±åº”è¯¥æ˜¯å°‘åšäº‹æƒ…ï¼Œè€Œä¸æ˜¯è®©è‡ªå·±æ›´å¿™ç¢Œã€‚</li>
<li>å­¦ä¹ æ˜¯ä¸€ä»¶é•¿æœŸçš„äº‹æƒ…ã€ä¸€è¾ˆå­çš„äº‹æƒ…ï¼Œæ˜¯é©¬æ‹‰æ¾æ¯”èµ›ï¼Œè€Œä¸æ˜¯ç™¾ç±³èµ›è·‘ã€‚</li>
<li>å¦‚æœä¸€å®šè¦è¯´æœ‰ä»€ä¹ˆèµ·è·‘çº¿çš„è¯ï¼Œ<strong>çˆ¶æ¯çš„è§è¯†</strong>å°±æ˜¯èµ·è·‘çº¿ã€‚ä»æ•™è‚²ä¸‹ä¸€ä»£çš„è§’åº¦çœ‹ï¼Œä¸€ä¸ªå®¶åº­æ¯”è´«ç©·æ›´å¯æ€•çš„æ˜¯<code>ç¼ºä¹è§è¯†</code>ã€<code>ç¼ºä¹çˆ±</code>ã€<code>ç¼ºä¹è§„çŸ©</code>ã€‚</li>
<li>ä½†å‡¡é‚£äº›èƒ½å¤Ÿæ¯”è¾ƒé•¿æœŸç¨³å®šæŒ£é’±çš„è¡Œä¸šï¼Œå¼€å§‹çš„æŠ•å…¥éƒ½æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œå¹¶ä¸å­˜åœ¨ä¸€ç§ä¸éœ€è¦æŠ•å…¥å°±èƒ½è·å¾—å¾ˆé«˜å›æŠ¥çš„è¡Œä¸šï¼Œå¦åˆ™ï¼Œè¿™ä¸ªè¡Œä¸šä¸€å®šå¤ªæŒ¤ï¼Œä»¥è‡³ä¸€æ®µæ—¶é—´ä»¥åè¡Œä¸šçš„å›æŠ¥è‚¯å®šä¼šæ€¥å‰§ä¸‹é™ã€‚</li>
<li>è¡¡é‡ä¸€ä¸ªä¸“å®¶æ°´å¹³æœ€å¯é çš„æ–¹æ³•ï¼Œå°±æ˜¯çœ‹ä»–ä»¬æ˜¯å°†å¤æ‚çš„é—®é¢˜ç®€å•åŒ–ï¼Œè®©æ¯ä¸€ä¸ªäººéƒ½ç†è§£ï¼Œè¿˜æ˜¯æ•…ä½œé«˜æ·±ï¼Œå°†ç®€å•çš„é—®é¢˜å¤æ‚åŒ–ã€‚</li>
<li>ä¸€ä¸ªå¥½çš„äº§å“è®¾è®¡è€…ä¼šæƒ³åŠæ³•<strong>å¼•å¯¼é¡¾å®¢</strong>ï¼Œè€Œä¸ä¼šå»åšè¿åˆæ¯ä¸€ä¸ªé¡¾å®¢çš„äº‹æƒ…ã€‚</li>
<li><strong>å°‘å°±æ˜¯å¤š</strong>ã€‚é€‚åº¦çš„é€‰æ‹©ç»™æˆ‘ä»¬è‡ªç”±ï¼Œä½†æ˜¯è¿‡å¤šçš„é€‰æ‹©ä¼šé€‚å¾—å…¶åã€‚</li>
<li>å¯¹äºæ‰€å–œæ¬¢çš„ä¸œè¥¿ï¼Œå¦‚æœä»˜å‡ºçš„ä»£ä»·æ˜¯è®©ç”Ÿæ´»è´¨é‡å˜å·®ï¼Œé‚£å°±ç®—äº†ã€‚å› ä¸ºé’±å’Œä»»ä½•ä¸œè¥¿ï¼Œéƒ½æ˜¯ä¸ºäº†è®©ä½ ç”Ÿæ´»å¾—æ›´å¥½ï¼Œè€Œä¸æ˜¯ç»™ä½ å¸¦æ¥éº»çƒ¦ã€‚</li>
<li>æ¯ä¸ªäººæ— è®ºæ˜¯è‡ªå·±åˆ›ä¸šè¿˜æ˜¯ä¸ºåˆ«äººåšäº‹ï¼Œéƒ½åº”è¯¥æœ‰<strong>è‡ªå·±ç‹¬ç‰¹çš„èƒ½åŠ›</strong>ï¼Œæ‰æœ‰å¯èƒ½é«˜æ•ˆç‡çš„æŒ£é’±ã€‚</li>
<li>æŠ•èµ„å¤§å¸ˆå·´è²ç‰¹ä¸€ç›´åœ¨å¼ºè°ƒé•¿æœŸæˆåŠŸçš„æŠ•èµ„ï¼Œå…³é”®ä¸åœ¨äºæŠŠæ¡äº†å¤šå°‘æ¬¡æœºä¼šï¼Œè€Œåœ¨äºæ˜¯å¦èƒ½<strong>å°‘çŠ¯é”™è¯¯</strong>ã€‚</li>
<li>å¯¹äºä»»ä½•æ¼”è®²è€…ï¼Œéƒ½ä¸è¦æŒ‡æœ›ä¸€æ¬¡æ¼”è®²èƒ½å¤Ÿè®²æ¸…æ¥š 10 ä»¶äº‹ï¼ŒçœŸèƒ½æŠŠä¸€ä»¶äº‹è®²æ¸…æ¥šï¼Œç›®çš„å°±è¾¾åˆ°äº†ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>è¯»ä¹¦</tag>
        <tag>å´å†›</tag>
      </tags>
  </entry>
  <entry>
    <title>Git å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥</title>
    <url>/post/966087952.html</url>
    <content><![CDATA[<h3 id="1-è®¾ç½®"><a href="#1-è®¾ç½®" class="headerlink" title="1. è®¾ç½®"></a>1. è®¾ç½®</h3><h4 id="1-1-æŸ¥çœ‹"><a href="#1-1-æŸ¥çœ‹" class="headerlink" title="1.1. æŸ¥çœ‹"></a>1.1. æŸ¥çœ‹</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git config --list <span class="comment"># æ‰€æœ‰è®¾ç½®</span></span><br><span class="line">$ git config --list --global <span class="comment"># å…¨å±€è®¾ç½®</span></span><br><span class="line">$ git config --list --<span class="built_in">local</span> <span class="comment"># å½“å‰ä»“åº“è®¾ç½®</span></span><br></pre></td></tr></table></figure>

<h4 id="1-2-æœ€å°è®¾ç½®"><a href="#1-2-æœ€å°è®¾ç½®" class="headerlink" title="1.2. æœ€å°è®¾ç½®"></a>1.2. æœ€å°è®¾ç½®</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸è¿›è¡Œæ­¤è®¾ç½®æ—¶ï¼Œåªèƒ½æ‰§è¡Œ git add æ“ä½œ</span></span><br><span class="line"><span class="comment"># ä¸€èˆ¬ä¸å¾… push çš„è¿œç¨‹ä»“åº“ä¿æŒä¸€è‡´</span></span><br><span class="line"><span class="comment"># é’ˆå¯¹ --local çš„è®¾ç½®ï¼Œä¼˜å…ˆçº§é«˜äº --global s</span></span><br><span class="line">$ git config --global user.name <span class="string">&quot;xxx&quot;</span> <span class="comment"># ç”¨æˆ·å</span></span><br><span class="line">$ git config --global user.email <span class="string">&quot;xxx@email.com&quot;</span> <span class="comment"># ç”¨æˆ·ç»‘å®šçš„é‚®ç®±</span></span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h4 id="1-3-ä»£ç†åŠ é€Ÿ"><a href="#1-3-ä»£ç†åŠ é€Ÿ" class="headerlink" title="1.3. ä»£ç†åŠ é€Ÿ"></a>1.3. ä»£ç†åŠ é€Ÿ</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½®ä»£ç†</span></span><br><span class="line">$ git config --global http.proxy socks5://127.0.0.1:1234</span><br><span class="line">$ git config --global https.proxy socks5://127.0.0.1:1234</span><br><span class="line">$ git config --global http.sslVerify <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å–æ¶ˆä»£ç†</span></span><br><span class="line">$ git config --global --<span class="built_in">unset</span> http.proxy</span><br><span class="line">$ git config --global --<span class="built_in">unset</span> https.proxy</span><br><span class="line">$ git config --global http.sslVerify <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h4 id="1-4-å‘½ä»¤åˆ«å"><a href="#1-4-å‘½ä»¤åˆ«å" class="headerlink" title="1.4. å‘½ä»¤åˆ«å"></a>1.4. å‘½ä»¤åˆ«å</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç¤ºä¾‹</span></span><br><span class="line">$ git config --global alias.st status</span><br><span class="line">$ git st <span class="comment"># ç›¸å½“äº git status</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç›´æ¥ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæ·»åŠ å¤šä¸ª</span></span><br><span class="line">$ vim ~/.gitconfig</span><br><span class="line">$ <span class="built_in">source</span> ~/.gitconfig</span><br></pre></td></tr></table></figure>

<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ~/.gitconfig</span></span><br><span class="line"><span class="section">[alias]</span></span><br><span class="line">    <span class="attr">st</span> = status</span><br><span class="line">    <span class="attr">co</span> = checkout</span><br><span class="line">    <span class="attr">ci</span> = commit</span><br><span class="line">    <span class="attr">br</span> = branch</span><br><span class="line">    <span class="attr">unstage</span> = <span class="string">&quot;reset HEAD&quot;</span></span><br><span class="line">    <span class="attr">last</span> = <span class="string">&quot;log -n1&quot;</span></span><br><span class="line">    <span class="attr">lg</span> = <span class="string">&quot;log -n10 --color --graph --pretty=format:&#x27;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#x27; --abbrev-commit&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-å¸¸ç”¨å‘½ä»¤"><a href="#2-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="2. å¸¸ç”¨å‘½ä»¤"></a>2. å¸¸ç”¨å‘½ä»¤</h3><h4 id="2-1-å…‹éš†åŠæ›´æ–°ï¼ˆcloneã€pullã€fetchï¼‰"><a href="#2-1-å…‹éš†åŠæ›´æ–°ï¼ˆcloneã€pullã€fetchï¼‰" class="headerlink" title="2.1. å…‹éš†åŠæ›´æ–°ï¼ˆcloneã€pullã€fetchï¼‰"></a>2.1. å…‹éš†åŠæ›´æ–°ï¼ˆcloneã€pullã€fetchï¼‰</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> xxx.git <span class="comment"># ä»è¿œç¨‹ä»“åº“å…‹éš†ä¸€ä¸ªé¡¹ç›®åˆ°æœ¬åœ°</span></span><br><span class="line">$ git <span class="built_in">clone</span> xxx.git <span class="string">&quot;æŒ‡å®šç›®å½•&quot;</span> <span class="comment"># å…‹éš†çš„åŒæ—¶ï¼Œä¿®æ”¹ç›®å½•å</span></span><br><span class="line">$ git <span class="built_in">clone</span> -b &lt;new_branch_name&gt; xxx.git <span class="comment"># å…‹éš†åŒæ—¶ï¼Œåˆ›å»ºä¸€ä¸ªæŒ‡å®šåˆ†æ”¯</span></span><br><span class="line"></span><br><span class="line">$ git pull <span class="comment"># æ‹‰å–è¿œç¨‹ä»“åº“æ‰€æœ‰åˆ†æ”¯æ›´æ–°å¹¶åˆå¹¶åˆ°æœ¬åœ°åˆ†æ”¯ã€‚</span></span><br><span class="line">$ git pull origin master <span class="comment"># å°†è¿œç¨‹ master åˆ†æ”¯åˆå¹¶åˆ°å½“å‰æœ¬åœ°åˆ†æ”¯</span></span><br><span class="line">$ git pull origin master:master <span class="comment"># å°†è¿œç¨‹ master åˆ†æ”¯åˆå¹¶åˆ°æœ¬åœ° master åˆ†æ”¯ï¼Œå†’å·åé¢è¡¨ç¤ºæœ¬åœ°åˆ†æ”¯</span></span><br><span class="line"></span><br><span class="line">$ git fetch --all <span class="comment"># æ‹‰å–æ‰€æœ‰è¿œç«¯çš„æœ€æ–°ä»£ç </span></span><br><span class="line">$ git fetch origin master <span class="comment"># æ‹‰å–è¿œç¨‹æœ€æ–° master åˆ†æ”¯ä»£ç </span></span><br></pre></td></tr></table></figure>

<h4 id="2-2-æäº¤ï¼ˆaddã€commitã€pushï¼‰"><a href="#2-2-æäº¤ï¼ˆaddã€commitã€pushï¼‰" class="headerlink" title="2.2. æäº¤ï¼ˆaddã€commitã€pushï¼‰"></a>2.2. æäº¤ï¼ˆaddã€commitã€pushï¼‰</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git add &lt;.|file|dir&gt; <span class="comment"># æäº¤ã€Œå·¥ä½œåŒºã€çš„æ”¹åŠ¨åˆ°ã€Œæš‚å­˜åŒºã€</span></span><br><span class="line"></span><br><span class="line">$ git commit -m [<span class="string">&quot;æœ¬æ¬¡æäº¤çš„å¤‡æ³¨ä¿¡æ¯&quot;</span>] <span class="comment"># æäº¤ã€Œæš‚å­˜åŒºã€çš„æ”¹åŠ¨åˆ°ã€Œæœ¬åœ°ä»“åº“ã€</span></span><br><span class="line">$ git commit file1[file2 file3 ...] -m [message] <span class="comment"># åªæäº¤æŒ‡å®šæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line">$ git push origin master <span class="comment"># å°†ã€Œæœ¬åœ°ä»“åº“ã€çš„å˜åŠ¨å…¨éƒ¨æ¨é€åˆ°ã€Œè¿œç¨‹ä»“åº“ã€ master åˆ†æ”¯</span></span><br><span class="line">$ git push --tags <span class="comment"># æ¨é€æ‰€æœ‰æ ‡ç­¾</span></span><br></pre></td></tr></table></figure>

<h4 id="2-3-åˆ†æ”¯ï¼ˆbranchã€checkoutã€cherry-pickï¼‰"><a href="#2-3-åˆ†æ”¯ï¼ˆbranchã€checkoutã€cherry-pickï¼‰" class="headerlink" title="2.3. åˆ†æ”¯ï¼ˆbranchã€checkoutã€cherry-pickï¼‰"></a>2.3. åˆ†æ”¯ï¼ˆbranchã€checkoutã€cherry-pickï¼‰</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git branch <span class="comment"># æŸ¥çœ‹æ‰€æœ‰æœ¬åœ°åˆ†æ”¯ï¼ŒåŒ branch -l</span></span><br><span class="line">$ git branch -r  <span class="comment"># æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹çš„åˆ†æ”¯</span></span><br><span class="line">$ git branch -a  <span class="comment"># æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹åˆ†æ”¯å’Œæœ¬åœ°åˆ†æ”¯</span></span><br><span class="line"></span><br><span class="line">$ git checkout -b &lt;branch_name&gt;  <span class="comment"># æ–°å»ºå¹¶ä¸”åˆ‡æ¢åˆ°æ–°çš„åˆ†æ”¯</span></span><br><span class="line">$ git checkout -b &lt;branch_name&gt; &lt;remote_branch|remote_tag&gt; <span class="comment"># åŸºäºè¿œç¨‹åˆ†æ”¯æˆ– tag åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯</span></span><br><span class="line">$ git checkout -t origin/dev <span class="comment"># åˆ›å»ºä¸è¿œç¨‹åˆ†æ”¯ç›¸åŒçš„æœ¬åœ°åˆ†æ”¯</span></span><br><span class="line">$ git branch &lt;branch_name&gt; <span class="comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†ä»åœç•™åœ¨åŸåˆ†æ”¯ä¸åˆ‡æ¢</span></span><br><span class="line"></span><br><span class="line">$ git branch -D &lt;branch_name&gt; <span class="comment"># åˆ é™¤æœ¬åœ°åˆ†æ”¯</span></span><br><span class="line">$ git push origin -d &lt;branchname&gt; <span class="comment"># åˆ é™¤è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line"></span><br><span class="line">$ git checkout master <span class="comment"># åˆ‡æ¢åˆ° master åˆ†æ”¯</span></span><br><span class="line"></span><br><span class="line">$ git cherry-pick &lt;branch_name&gt; <span class="comment"># æŠŠæŒ‡å®šåˆ†æ”¯çš„æäº¤è®°å½•å…¨éƒ¨æ¡å‡ºåˆ°å½“å‰åˆ†æ”¯</span></span><br><span class="line">$ git cherry-pick &lt;commit_id&gt; <span class="comment"># æ¡å‡ºæŒ‡å®šæäº¤è®°å½•åˆ°å½“å‰åˆ†æ”¯</span></span><br><span class="line">$ git cherry-pick &lt;commit_id1&gt;..&lt;commit_idx&gt; <span class="comment"># æ¡å‡ºä» commit_id1 åˆ° commit_idx çš„æäº¤è®°å½•åˆ°å½“å‰åˆ†æ”¯</span></span><br><span class="line">$ git cherry-pick --abort <span class="comment"># å–æ¶ˆæ¡å‡ºï¼Œå›é€€åˆ°æ¡å‡ºæ“ä½œä¹‹å‰ï¼ˆå‡ºç°å¼‚å¸¸ï¼Œä¸èƒ½é¡ºåˆ©æ¡å‡ºæ—¶ï¼‰</span></span><br></pre></td></tr></table></figure>

<h4 id="2-4-æ ‡ç­¾ï¼ˆtagï¼‰"><a href="#2-4-æ ‡ç­¾ï¼ˆtagï¼‰" class="headerlink" title="2.4. æ ‡ç­¾ï¼ˆtagï¼‰"></a>2.4. æ ‡ç­¾ï¼ˆtagï¼‰</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git tag <span class="comment"># åˆ—å‡ºæ‰€æœ‰ tag</span></span><br><span class="line">$ git tag &lt;tag_name&gt; <span class="comment"># åœ¨å½“å‰ commit æ–°å»ºä¸€ä¸ª tag</span></span><br><span class="line">$ git tag &lt;tag_name&gt; &lt;commit_id&gt; <span class="comment"># åŸºäºæŒ‡å®š commit æ–°å»ºä¸€ä¸ª tag</span></span><br><span class="line">$ git tag -d &lt;tag_name&gt; <span class="comment"># åˆ é™¤æœ¬åœ° tag</span></span><br><span class="line">$ git push origin &lt;tag_name&gt; <span class="comment"># æ¨é€ tag åˆ°è¿œç¨‹</span></span><br><span class="line">$ git show &lt;tag_name&gt; <span class="comment"># æŸ¥çœ‹ tag çš„æ–‡ä»¶å˜åŒ–</span></span><br><span class="line">$ git checkout -b &lt;branch_name&gt; &lt;tag_name&gt; <span class="comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŸä¸ª tag</span></span><br></pre></td></tr></table></figure>

<h4 id="2-5-æäº¤è®°å½•ï¼ˆlogï¼‰"><a href="#2-5-æäº¤è®°å½•ï¼ˆlogï¼‰" class="headerlink" title="2.5. æäº¤è®°å½•ï¼ˆlogï¼‰"></a>2.5. æäº¤è®°å½•ï¼ˆlogï¼‰</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git status <span class="comment"># æŸ¥çœ‹å½“å‰å·¥ä½œåŒºçŠ¶æ€</span></span><br><span class="line"></span><br><span class="line">$ git <span class="built_in">log</span> <span class="comment"># æŸ¥çœ‹ã€Œå½“å‰åˆ†æ”¯ã€çš„æ‰€æœ‰æäº¤æ—¥å¿—</span></span><br><span class="line">$ git <span class="built_in">log</span> --all <span class="comment"># æŸ¥çœ‹ã€Œæ‰€æœ‰åˆ†æ”¯ã€çš„æ‰€æœ‰æäº¤æ—¥å¿—</span></span><br><span class="line">$ git <span class="built_in">log</span> --oneline <span class="comment"># å•è¡Œç®€å•æ ¼å¼æ˜¾ç¤ºæ—¥å¿—ä¿¡æ¯</span></span><br><span class="line">$ git <span class="built_in">log</span> --graph <span class="comment"># ä»¥æ ‘å½¢å±•ç¤ºæäº¤è®°å½•</span></span><br><span class="line">$ git <span class="built_in">log</span> -n5 <span class="comment"># æŸ¥çœ‹æœ€æ–°çš„ 5 æ¡æäº¤è®°å½•</span></span><br><span class="line">$ git <span class="built_in">log</span> &lt;branch_name&gt; <span class="comment"># æŒ‡å®šåˆ†æ”¯</span></span><br><span class="line">$ git <span class="built_in">log</span> &lt;file1&gt; <span class="comment"># æŒ‡å®šæ–‡ä»¶</span></span><br><span class="line">$ git <span class="built_in">log</span> -p &lt;file1&gt; <span class="comment"># æ ¹æ®æäº¤è®°å½•ï¼ŒæŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„å…·ä½“å˜åŒ–</span></span><br><span class="line">$ git blame &lt;file1&gt; <span class="comment"># ä»å¤´åˆ°å°¾éå†æ–‡ä»¶ï¼Œæ˜¾ç¤ºæ¯è¡Œæ–‡ä»¶çš„ä¿®æ”¹è®°å½•</span></span><br><span class="line"></span><br><span class="line">$ git <span class="built_in">log</span> --oneline feature1 ^dev <span class="comment"># åœ¨åŸºäº dev åˆ›å»ºçš„åˆ†æ”¯ feature1 ä¸‹ï¼ŒæŸ¥çœ‹åšäº†å“ªäº›æäº¤</span></span><br></pre></td></tr></table></figure>

<h4 id="2-6-æ’¤é”€ä¸å›é€€ï¼ˆresetï¼‰"><a href="#2-6-æ’¤é”€ä¸å›é€€ï¼ˆresetï¼‰" class="headerlink" title="2.6. æ’¤é”€ä¸å›é€€ï¼ˆresetï¼‰"></a>2.6. æ’¤é”€ä¸å›é€€ï¼ˆresetï¼‰</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git reset HEAD &lt;file1&gt;... <span class="comment"># æ¢å¤ã€Œæš‚å­˜åŒºã€ä¸­æŒ‡å®šæ–‡ä»¶åˆ° HEAD çš„ç‰ˆæœ¬</span></span><br><span class="line">$ git checkout &lt;file1&gt;... <span class="comment"># æ¢å¤ã€Œå·¥ä½œåŒºã€ä¸­æŒ‡å®šæ–‡ä»¶åˆ°ã€Œæš‚å­˜åŒºã€çš„ç‰ˆæœ¬</span></span><br><span class="line">$ git checkout . <span class="comment"># ä¸¢å¼ƒã€Œå·¥ä½œåŒºã€ä¸­çš„æ‰€æœ‰å˜åŠ¨</span></span><br><span class="line"></span><br><span class="line">$ git reset --soft &lt;commit_id&gt; <span class="comment"># æŠŠç‰ˆæœ¬åº“ä¸Šçš„æäº¤å›é€€åˆ°ã€Œæš‚å­˜åŒºã€ï¼Œä¿®æ”¹è®°å½•ä¿ç•™</span></span><br><span class="line">$ git reset --mixed &lt;commit_id&gt; <span class="comment"># æŠŠç‰ˆæœ¬åº“ä¸Šçš„æäº¤å›é€€åˆ°ã€Œå·¥ä½œåŒºã€ï¼Œä¿®æ”¹è®°å½•ä¿ç•™</span></span><br><span class="line">$ git reset --hard &lt;commit_id&gt;  <span class="comment"># æŠŠç‰ˆæœ¬åº“ä¸Šçš„æäº¤å½»åº•å›é€€åˆ°æŒ‡å®š commitï¼Œä¿®æ”¹è®°å½•å…¨éƒ¨ revert</span></span><br></pre></td></tr></table></figure>

<h4 id="2-7-æŸ¥è¯¢è¿œç¨‹ä»“åº“ï¼ˆremoteï¼‰"><a href="#2-7-æŸ¥è¯¢è¿œç¨‹ä»“åº“ï¼ˆremoteï¼‰" class="headerlink" title="2.7. æŸ¥è¯¢è¿œç¨‹ä»“åº“ï¼ˆremoteï¼‰"></a>2.7. æŸ¥è¯¢è¿œç¨‹ä»“åº“ï¼ˆremoteï¼‰</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git remote <span class="comment"># æŸ¥çœ‹å…³è”çš„è¿œç¨‹ä»“åº“åç§°</span></span><br><span class="line">$ git remote -v <span class="comment"># æŸ¥çœ‹å…³è”çš„è¿œç¨‹ä»“åº“åœ°å€</span></span><br><span class="line">$ git remote add &lt;url&gt; <span class="comment"># æ·»åŠ ä¸€ä¸ªè¿œç¨‹ä»“åº“</span></span><br><span class="line">$ git remote show &lt;remote_name&gt; <span class="comment"># æ˜¾ç¤ºæŸä¸ªè¿œç¨‹ä»“åº“çš„è¯¦ç»†ä¿¡æ¯</span></span><br></pre></td></tr></table></figure>

<h4 id="2-8-åˆå¹¶åŠå†²çªå¤„ç†ï¼ˆmergeï¼‰"><a href="#2-8-åˆå¹¶åŠå†²çªå¤„ç†ï¼ˆmergeï¼‰" class="headerlink" title="2.8. åˆå¹¶åŠå†²çªå¤„ç†ï¼ˆmergeï¼‰"></a>2.8. åˆå¹¶åŠå†²çªå¤„ç†ï¼ˆmergeï¼‰</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git merge master  <span class="comment"># åœ¨å½“å‰åˆ†æ”¯ä¸Šåˆå¹¶ master åˆ†æ”¯è¿‡æ¥</span></span><br><span class="line">$ git merge --no-ff origin/dev  <span class="comment"># åœ¨å½“å‰åˆ†æ”¯ä¸Šåˆå¹¶è¿œç¨‹åˆ†æ”¯dev</span></span><br><span class="line">$ git merge --abort <span class="comment"># ç»ˆæ­¢æœ¬æ¬¡ mergeï¼Œå¹¶å›åˆ° merge å‰çš„çŠ¶æ€</span></span><br></pre></td></tr></table></figure>

<h4 id="2-9-æ–‡ä»¶å·®å¼‚æ¯”è¾ƒï¼ˆdiffï¼‰"><a href="#2-9-æ–‡ä»¶å·®å¼‚æ¯”è¾ƒï¼ˆdiffï¼‰" class="headerlink" title="2.9. æ–‡ä»¶å·®å¼‚æ¯”è¾ƒï¼ˆdiffï¼‰"></a>2.9. æ–‡ä»¶å·®å¼‚æ¯”è¾ƒï¼ˆdiffï¼‰</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git diff [-- file1 file2 ...] <span class="comment"># æ¯”è¾ƒå·¥ä½œåŒºä¸æš‚å­˜åŒºå·®å¼‚</span></span><br><span class="line">$ git diff HEAD <span class="comment"># æ¯”è¾ƒå·¥ä½œåŒºä¸ HEAD ( å½“å‰å·¥ä½œåˆ†æ”¯)çš„å·®å¼‚</span></span><br><span class="line">$ git diff --cached <span class="comment"># æ¯”è¾ƒæš‚å­˜åŒºå’Œ HEAD çš„å·®å¼‚</span></span><br><span class="line">$ git diff &lt;branch_name&gt; <span class="comment"># æ¯”è¾ƒä¸å¦ä¸€ä¸ªåˆ†æ”¯çš„å·®å¼‚</span></span><br><span class="line">$ git diff commit_id <span class="comment"># æ¯”è¾ƒä¸æŸä¸€æ¬¡æäº¤å·®å¼‚</span></span><br></pre></td></tr></table></figure>

<h4 id="2-10-é‡å‘½åæ–‡ä»¶ï¼ˆmvï¼‰"><a href="#2-10-é‡å‘½åæ–‡ä»¶ï¼ˆmvï¼‰" class="headerlink" title="2.10. é‡å‘½åæ–‡ä»¶ï¼ˆmvï¼‰"></a>2.10. é‡å‘½åæ–‡ä»¶ï¼ˆmvï¼‰</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git mv README.md README_2.md</span><br></pre></td></tr></table></figure>

<h4 id="2-11-åˆ é™¤æ–‡ä»¶ï¼ˆrmï¼‰"><a href="#2-11-åˆ é™¤æ–‡ä»¶ï¼ˆrmï¼‰" class="headerlink" title="2.11. åˆ é™¤æ–‡ä»¶ï¼ˆrmï¼‰"></a>2.11. åˆ é™¤æ–‡ä»¶ï¼ˆrmï¼‰</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git rm file1 ...</span><br></pre></td></tr></table></figure>

<h4 id="2-12-ä½¿ç”¨æš‚å­˜ï¼ˆstashï¼‰åŠ å¡å…¶å®ƒç´§æ€¥ä»»åŠ¡"><a href="#2-12-ä½¿ç”¨æš‚å­˜ï¼ˆstashï¼‰åŠ å¡å…¶å®ƒç´§æ€¥ä»»åŠ¡" class="headerlink" title="2.12. ä½¿ç”¨æš‚å­˜ï¼ˆstashï¼‰åŠ å¡å…¶å®ƒç´§æ€¥ä»»åŠ¡"></a>2.12. ä½¿ç”¨æš‚å­˜ï¼ˆstashï¼‰åŠ å¡å…¶å®ƒç´§æ€¥ä»»åŠ¡</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git stash <span class="comment"># æš‚å­˜å½“å‰å·¥ä½œåŒºçš„æ‰€æœ‰å˜åŠ¨ï¼Œä½¿å·¥ä½œåŒºé‡æ–°å˜æˆå¹²å‡€çŠ¶æ€ï¼Œä»¥ä¾¿å¼€å§‹å…¶å®ƒéœ€è¦ç´§æ€¥å¤„ç†çš„å·¥ä½œ</span></span><br><span class="line">$ git stash list <span class="comment"># æ˜¾ç¤ºä¿å­˜çš„å·¥ä½œè¿›åº¦åˆ—è¡¨</span></span><br><span class="line">$ git stash apply [stash num] <span class="comment"># æ¢å¤æœ€åä¸€æ¬¡ä¿å­˜çš„å·¥ä½œè¿›åº¦ï¼Œåœ¨å·¥ä½œè¿›åº¦åˆ—è¡¨ä¸åˆ é™¤</span></span><br><span class="line">$ git stash pop [stash num] <span class="comment"># æ¢å¤æœ€åä¸€æ¬¡ä¿å­˜çš„å·¥ä½œè¿›åº¦ï¼Œå¹¶ä¸”åœ¨å·¥ä½œè¿›åº¦åˆ—è¡¨åˆ é™¤</span></span><br><span class="line">$ git stash show [stash num] <span class="comment"># æ˜¾ç¤ºåšäº†å“ªäº›æ”¹åŠ¨</span></span><br><span class="line">$ git stash drop [stash num] <span class="comment"># åˆ é™¤ä¸€æ¡ä¿å­˜çš„å·¥ä½œè¿›åº¦</span></span><br><span class="line">$ git stash clear <span class="comment"># åˆ é™¤æ‰€æœ‰æš‚å­˜çš„æ”¹åŠ¨</span></span><br></pre></td></tr></table></figure>

<h3 id="3-æ›´å¤šå­¦ä¹ èµ„æºæ¨è"><a href="#3-æ›´å¤šå­¦ä¹ èµ„æºæ¨è" class="headerlink" title="3. æ›´å¤šå­¦ä¹ èµ„æºæ¨è"></a>3. æ›´å¤šå­¦ä¹ èµ„æºæ¨è</h3><ul>
<li><a href="https://rogerdudler.github.io/git-guide/index.zh.html">git - ç®€æ˜æŒ‡å—</a></li>
<li><a href="https://git-scm.com/book/zh/v2">Git - Book</a></li>
<li><a href="https://backlog.com/git-tutorial/cn/">çŒ´å­éƒ½èƒ½æ‡‚çš„GITå…¥é—¨</a></li>
<li><a href="https://learngitbranching.js.org/?locale=zh_CN">Learn Git Branching</a></li>
</ul>
]]></content>
      <categories>
        <category>å¼€å‘å·¥å…·</category>
      </categories>
      <tags>
        <tag>å¼€å‘å·¥å…·</tag>
        <tag>ç‰ˆæœ¬ç®¡ç†</tag>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>æ€ä¹ˆä½¿ç”¨ Git å‘ä¸åŒå¹³å°çš„ä»“åº“æäº¤ä»£ç </title>
    <url>/post/3124860628.html</url>
    <content><![CDATA[<blockquote>
<p><strong>åœºæ™¯æè¿°</strong>ï¼šæ—¥å¸¸å·¥ä½œä¸­ï¼Œå…¬å¸ä½¿ç”¨ä¸€ä¸ªåŸºäº gitlab æ­å»ºçš„ Git æœåŠ¡ï¼Œæˆ‘ä»¬è‡ªå·±å†™çš„å°é¡¹ç›®å¯èƒ½æ”¾åœ¨ Githubã€Coding ç­‰å¹³å°ä¸Šï¼Œä¸åŒå¹³å°çš„è´¦æˆ·ä¸åŒï¼Œå¦‚ä½•ä¾¿æºçš„æ‹‰å–ã€æäº¤ä»£ç ï¼Œè€Œä¸ç”¨æ¯æ¬¡è¾“å…¥è´¦å·ã€å¯†ç å‘¢ï¼Ÿ</p>
</blockquote>
<span id="more"></span>

<h3 id="1-æ‹‰å–ä»£ç "><a href="#1-æ‹‰å–ä»£ç " class="headerlink" title="1. æ‹‰å–ä»£ç "></a>1. æ‹‰å–ä»£ç </h3><h4 id="1-1-æ–¹å¼ä¸€ï¼šç”¨æˆ·å-amp-å¯†ç "><a href="#1-1-æ–¹å¼ä¸€ï¼šç”¨æˆ·å-amp-å¯†ç " class="headerlink" title="1.1. æ–¹å¼ä¸€ï¼šç”¨æˆ·å&amp;å¯†ç "></a>1.1. æ–¹å¼ä¸€ï¼šç”¨æˆ·å&amp;å¯†ç </h4><p>è¿™ç§æ–¹å¼ä¸»è¦ç”¨äº <code>HTTPS</code> åè®®ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  git <span class="built_in">clone</span> https://ç”¨æˆ·å:å¯†ç @github.com/xxx.git</span><br></pre></td></tr></table></figure>

<p>å½“ç”¨æˆ·åæ˜¯é‚®ç®±æ—¶ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿™é‡Œçš„ %40 å¯¹åº”é‚®ç®±åœ°å€ä¸­çš„ @ ç¬¦å·</span></span><br><span class="line">âœ  git <span class="built_in">clone</span> https://aaaa%40gmail.com:å¯†ç @github.com/xxx.git</span><br></pre></td></tr></table></figure>

<h4 id="1-2-æ–¹å¼äºŒï¼šSSH"><a href="#1-2-æ–¹å¼äºŒï¼šSSH" class="headerlink" title="1.2. æ–¹å¼äºŒï¼šSSH"></a>1.2. æ–¹å¼äºŒï¼šSSH</h4><p>è¿™ç§æ–¹å¼ä¸»è¦ç”¨äº <code>SSH</code> åè®®ã€‚</p>
<p>æ­¥éª¤ï¼š</p>
<ol>
<li><p>ç”Ÿæˆå¯¹åº” Git çš„å…¬ç§é’¥</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ssh-keygen -t rsa -C <span class="string">&quot;email1@xxx.comâ€ -f ~/.ssh/github_rsa</span></span><br><span class="line"><span class="string">âœ  ssh-keygen -t rsa -C &quot;</span>email2@xxx.comâ€ -f ~/.ssh/coding_rsa</span><br></pre></td></tr></table></figure></li>
<li><p>æ·»åŠ ç§é’¥</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ssh-add ~/.ssh/github_rsa</span><br><span class="line">âœ  ssh-add ~/.ssh/coding_rsa</span><br></pre></td></tr></table></figure>

<p> è§£å†³ï¼š<code>Could not open a connection to your authentication agent</code></p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ssh-agent bash</span><br></pre></td></tr></table></figure>

<p> å…¶å®ƒå‘½ä»¤ï¼š</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹ç§é’¥åˆ—è¡¨</span></span><br><span class="line">âœ  ssh-add -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¸…ç©ºç§é’¥åˆ—è¡¨</span></span><br><span class="line">âœ  ssh-add -D</span><br></pre></td></tr></table></figure></li>
<li><p>æ·»åŠ å¯¹åº”ä¸åŒå¹³å°çš„é…ç½®</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  touch ~/.ssh/config</span><br><span class="line">âœ  vim ~/.ssh/config</span><br></pre></td></tr></table></figure>

<p> æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># github</span><br><span class="line">Host github.com</span><br><span class="line">HostName github.com</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">IdentityFile ~/.ssh/github_rsa</span><br><span class="line"></span><br><span class="line"># coding</span><br><span class="line">Host coding.net</span><br><span class="line">HostName coding.net</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">IdentityFile ~/.ssh/coding_rsa</span><br></pre></td></tr></table></figure></li>
<li><p>å°†å…¬é’¥æ·»åŠ åˆ°æœåŠ¡å™¨</p>
<p> è¿™é‡Œä»¥ Github ä¸ºä¾‹ï¼Œé¦–å…ˆæ‹·è´å¯¹åº”çš„å…¬é’¥ã€‚</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  pbcopy &lt; ~/.ssh/github_rsa.pub</span><br></pre></td></tr></table></figure>

<p> æ‰“å¼€ <a href="https://github.com/">https://github.com</a>ï¼Œæ‰¾åˆ°è®¾ç½®ä¸­çš„ <code>SSH and GPG keys</code>ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p> <img data-src="https://static.sqiang.net/image/post/git_ssh_auth.jpg"></p>
<p> å…¶ä¸­</p>
<ul>
<li><code>Title</code> è®¾ç½®ä¸€ä¸ªå½“å‰å…¬é’¥çš„æ ‡è¯†</li>
<li><code>Key</code> å…¬é’¥å¤åˆ¶åˆ°è¿™é‡Œ</li>
</ul>
</li>
</ol>
<ol start="5">
<li><p>æµ‹è¯•è¿æ¥</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ssh -T git@github.com</span><br><span class="line">Hi xxxxx! You<span class="string">&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span></span><br></pre></td></tr></table></figure>

<p> æµ‹è¯• clone</p>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">âœ  git clone git@xxx:xxx/demo.git</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="2-æäº¤ä»£ç "><a href="#2-æäº¤ä»£ç " class="headerlink" title="2. æäº¤ä»£ç "></a>2. æäº¤ä»£ç </h3><p>æäº¤ä»£ç æ—¶ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®å½“å‰é¡¹ç›®å¯¹åº” Git çš„ <code>name</code> å’Œ <code>email</code>ï¼Œå°†æç¤ºå¦‚ä¸‹ä¿¡æ¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  git commit -m <span class="string">&#x27;added file&#x27;</span></span><br><span class="line"></span><br><span class="line">*** Please tell me who you are.</span><br><span class="line"></span><br><span class="line">Run</span><br><span class="line"></span><br><span class="line">  git config --global user.email <span class="string">&quot;you@example.com&quot;</span></span><br><span class="line">  git config --global user.name <span class="string">&quot;Your Name&quot;</span></span><br><span class="line"></span><br><span class="line">to <span class="built_in">set</span> your account<span class="string">&#x27;s default identity.</span></span><br><span class="line"><span class="string">Omit --global to set the identity only in this repository.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">fatal: empty ident name (for &lt;&gt;) not allowed</span></span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œå¯¹å½“å‰é¡¹ç›®æ·»åŠ æœ¬åœ°è®¾ç½®ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ³¨æ„ï¼Œè¿™é‡Œçœç•¥äº†å‚æ•° --local ï¼Œæ˜¯é’ˆå¯¹å½“å‰é¡¹ç›®çš„æœ¬åœ°è®¾ç½®</span></span><br><span class="line">âœ  git config user.name <span class="string">&quot;your git user name&quot;</span></span><br><span class="line">âœ  git config user.email <span class="string">&quot;yout git user email&quot;</span></span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹è®¾ç½®ç»“æœï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æœ¬åœ°è®¾ç½®</span></span><br><span class="line">âœ  git config --list --<span class="built_in">local</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å…¨å±€è®¾ç½®</span></span><br><span class="line">âœ  git config --list --global</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡é‡æ–°æäº¤ä»£ç å³å¯ã€‚</p>
<blockquote>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šå¦‚æœå·²ç»åœ¨ Git çš„å…¨å±€è®¾ç½®ä¸­æ·»åŠ  <code>name</code> å’Œ <code>email</code>ï¼Œåœ¨æäº¤æ—¶ä¼šç›´æ¥ä½¿ç”¨å…¨å±€è®¾ç½®ï¼Œè€Œä¸ä¼šå‡ºç°ä¸Šé¢çš„æç¤ºä¿¡æ¯ã€‚å¹¶ä¸”ï¼Œä¹‹ååœ¨ä»“åº“ä¸­çœ‹åˆ°çš„æäº¤äººå’Œé‚®ç®±ä¹Ÿä¼šæ˜¯å…¨å±€è®¾ç½®ä¸­çš„ <code>name</code> å’Œ <code>email</code>ï¼Œ æ‰€ä»¥ä¸€å®šè¦å¢åŠ é¡¹ç›®çš„æœ¬åœ°è®¾ç½®ï¼Œé¿å…å› ä½¿ç”¨é»˜è®¤å…¨å±€è®¾ç½®è€Œé€ æˆçš„æäº¤ä¿¡æ¯æ··ä¹±ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>å¼€å‘å·¥å…·</category>
      </categories>
      <tags>
        <tag>å¼€å‘å·¥å…·</tag>
        <tag>ç‰ˆæœ¬ç®¡ç†</tag>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>svn å¸¸ç”¨æ“ä½œå‘½ä»¤åŠé—®é¢˜å¤„ç†</title>
    <url>/post/1634855012.html</url>
    <content><![CDATA[<h3 id="1-å¸¸ç”¨å‘½ä»¤"><a href="#1-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="1. å¸¸ç”¨å‘½ä»¤"></a>1. å¸¸ç”¨å‘½ä»¤</h3><h4 id="1-1-åŸºæœ¬ä½¿ç”¨"><a href="#1-1-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="1.1. åŸºæœ¬ä½¿ç”¨"></a>1.1. åŸºæœ¬ä½¿ç”¨</h4><ul>
<li><p>æ£€å‡º checkout</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ£€å‡ºä»£ç </span></span><br><span class="line">âœ  svn co repo_url</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€å‡ºä»£ç ï¼Œå¹¶æŒ‡å®šç›®å½•å</span></span><br><span class="line">âœ  svn co repo_url saved_dir_name</span><br></pre></td></tr></table></figure></li>
<li><p>åŠ å…¥ç‰ˆæœ¬æ§åˆ¶ add</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ æŒ‡å®šæ–‡ä»¶</span></span><br><span class="line">âœ  svn add /path/to/file</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ æ‰€æœ‰ .sh åç¼€çš„æ–‡ä»¶</span></span><br><span class="line">âœ  svn add *.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># é€’å½’æ·»åŠ å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–°æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># å¦‚æœä½¿ç”¨å‚æ•° --no-ignore åˆ™æ–°å¢æ—¶ä¼šåŒ…å«è¢«è®¾ç½®ä¸ºå¿½ç•¥çš„æ–‡ä»¶</span></span><br><span class="line">âœ  svn add . --force</span><br></pre></td></tr></table></figure></li>
</ul>
<span id="more"></span>

<ul>
<li><p>æäº¤ commit</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn ci -m <span class="string">&#x27;æäº¤æ›´æ”¹&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li><p>æ›´æ–° update</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn up [file|path]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–°åˆ°æŒ‡å®šç‰ˆæœ¬ 11</span></span><br><span class="line">âœ  svn up -r 11 [file|path]</span><br></pre></td></tr></table></figure></li>
<li><p>æ¸…é™¤é”å®š <code>svn cleanup</code></p>
</li>
<li><p>é‡å®šå‘ä»“åº“åœ°å€åˆ°æ–°åœ°å€</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn switch --relocate old_repo_url new_repo_url</span><br></pre></td></tr></table></figure></li>
<li><p>åˆ‡æ¢å½“å‰é¡¹ç›®åˆ°æŒ‡å®šåˆ†æ”¯</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn switch svn://branch_url</span><br></pre></td></tr></table></figure></li>
<li><p>æ£€æŸ¥å·¥ä½œå‰¯æœ¬ä¸‹çš„æ–‡ä»¶çŠ¶æ€ <code>svn st</code></p>
</li>
<li><p>æŸ¥çœ‹å·¥ä½œå‰¯æœ¬çš„ç‰ˆæœ¬åº“æ¦‚è§ˆä¿¡æ¯ <code>svn info</code></p>
</li>
<li><p>æŸ¥çœ‹ç‰ˆæœ¬åº“ä¸ŠæŸä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶åˆ—è¡¨ï¼ˆä¸éœ€è¦æœ¬åœ°æ£€å‡ºï¼‰</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn list svn://192.168.1.15/blog</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="1-2-åˆ†æ”¯å’Œæ ‡ç­¾"><a href="#1-2-åˆ†æ”¯å’Œæ ‡ç­¾" class="headerlink" title="1.2. åˆ†æ”¯å’Œæ ‡ç­¾"></a>1.2. åˆ†æ”¯å’Œæ ‡ç­¾</h4><ul>
<li><p>åˆ›å»º branchã€tag</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn cp svn://trunk_url svn://branch_url -m <span class="string">&#x27;åˆ›å»ºåˆ†æ”¯&#x27;</span></span><br><span class="line">âœ  svn mkdir svn://branch_url -m <span class="string">&#x27;åˆ›å»ºç©ºåˆ†æ”¯&#x27;</span></span><br><span class="line">âœ  svn cp svn://trunk_url tag_url -m <span class="string">&#x27;åˆ›å»ºæ ‡ç­¾&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li><p>åˆ é™¤ branchã€tag</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn rm svn://branch_url -m <span class="string">&#x27;åˆ é™¤åˆ†æ”¯&#x27;</span></span><br><span class="line">âœ  svn rm svn://branch_url -m <span class="string">&#x27;åˆ é™¤æ ‡ç­¾&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li><p>æŸ¥çœ‹ branchã€tag</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn ls ^/branches --verbose</span><br><span class="line">âœ  svn ls ^/tags --verbose</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="1-3-å†å²è®°å½•"><a href="#1-3-å†å²è®°å½•" class="headerlink" title="1.3. å†å²è®°å½•"></a>1.3. å†å²è®°å½•</h4><ul>
<li><p>æŸ¥çœ‹æäº¤è®°å½•</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æ•´ä¸ªé¡¹ç›®æˆ–æŒ‡å®šæ–‡ä»¶ç›®å½•çš„æäº¤è®°å½•</span></span><br><span class="line">âœ  svn <span class="built_in">log</span> [file|dir]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ä¸¤ä¸ªæŒ‡å®šç‰ˆæœ¬ä¹‹é—´çš„æäº¤è®°å½•</span></span><br><span class="line">âœ   svn <span class="built_in">log</span> -r 11:5 [file|dir]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æœ€æ–°çš„ 5 æ¡æäº¤è®°å½•</span></span><br><span class="line">âœ  svn <span class="built_in">log</span> -l 5 [file|dir]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å¸¦ç›®å½•ä¿¡æ¯çš„æäº¤è®°å½•</span></span><br><span class="line">âœ  svn <span class="built_in">log</span> -l 5 -v [file|dir]</span><br></pre></td></tr></table></figure></li>
<li><p>æŸ¥çœ‹æŒ‡å®šç‰ˆæœ¬å·çš„æ–‡ä»¶å†…å®¹</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn cat file -r ç‰ˆæœ¬å·</span><br></pre></td></tr></table></figure></li>
<li><p>æŸ¥çœ‹æ–‡ä»¶çš„ä¿®æ”¹è¯¦æƒ…ï¼ˆè¡Œçº§ï¼‰</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ¯”è¾ƒå·¥ä½œå‰¯æœ¬ä¸‹çš„æ–‡ä»¶ä¸ç¼“å­˜åœ¨ .svn çš„â€œåŸå§‹â€æ‹·è´</span></span><br><span class="line">âœ  svn diff</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¯”è¾ƒå·¥ä½œå‰¯æœ¬ä¸‹çš„æ–‡ä»¶ä¸æŒ‡å®šç‰ˆæœ¬å· 5 ä¸‹çš„æ–‡ä»¶</span></span><br><span class="line">âœ  svn diff -r 5 file</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬åº“ä¸‹çš„æ–‡ä»¶</span></span><br><span class="line">âœ  svn diff -r 11:2 file</span><br></pre></td></tr></table></figure></li>
<li><p>æŸ¥çœ‹æ–‡ä»¶æ¯ä¸€è¡Œçš„æœ€åä¿®æ”¹äºº</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn blame file</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="1-4-å¿½ç•¥æ–‡ä»¶"><a href="#1-4-å¿½ç•¥æ–‡ä»¶" class="headerlink" title="1.4. å¿½ç•¥æ–‡ä»¶"></a>1.4. å¿½ç•¥æ–‡ä»¶</h4><ul>
<li><p>åŸºæœ¬ä½¿ç”¨</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¿½ç•¥æŒ‡å®šæ–‡ä»¶æˆ–ç›®å½•</span></span><br><span class="line">âœ  svn propset svn:ignore <span class="string">&#x27;file|dir&#x27;</span> dir</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¿½ç•¥å½“å‰ç›®å½•ä¸­æ‰€æœ‰ä»¥ .log ç»“å°¾çš„æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># . è¡¨ç¤ºå½“å‰ç›®å½•ï¼Œå½“æŒ‡å®šå…·ä½“ç›®å½•æ—¶ï¼Œè¯¥ç›®å½•éœ€å¤„äºç‰ˆæœ¬æ§åˆ¶çŠ¶æ€</span></span><br><span class="line">âœ  svn propset svn:ignore -R <span class="string">&#x27;*.log&#x27;</span> .</span><br><span class="line">âœ  svn ci -m <span class="string">&#x27;ignore *.log file&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li><p>è¦å¿½ç•¥çš„æ–‡ä»¶å·²ç»è¢« add è¿‡äº†</p>
<ul>
<li>æœªæäº¤</li>
</ul>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn revert -R [file|dir]</span><br></pre></td></tr></table></figure>

<ul>
<li>å·²æäº¤</li>
</ul>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn del [file|dir]</span><br><span class="line"></span><br><span class="line"><span class="comment"># åªä» svn ä¸­å¿½ç•¥ï¼Œè€Œä¸åˆ é™¤æœ¬åœ°æ–‡ä»¶</span></span><br><span class="line">âœ  svn del --keep-local [file|dir]</span><br></pre></td></tr></table></figure>

<p>  ç„¶åå†æ‰§è¡Œå¿½ç•¥è®¾ç½®å¹¶æäº¤ã€‚</p>
</li>
<li><p>ä½¿ç”¨é…ç½®æ–‡ä»¶</p>
<p>  æ–°å»º .svnignore æ–‡ä»¶ï¼Œå†™å…¥ç±»ä¼¼å¦‚ä¸‹å†…å®¹ï¼š</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">runtime</span><br><span class="line">*.log</span><br><span class="line">*.apk</span><br><span class="line">*.class</span><br></pre></td></tr></table></figure>

<p>  ç„¶åæ‰§è¡Œè®¾ç½®</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn add .svnignore</span><br><span class="line">âœ  svn propset svn:ignore -R -F .svnignore .</span><br></pre></td></tr></table></figure>

<p>  æäº¤è®¾ç½®</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn ci -m <span class="string">&#x27;add .svnignore and set some ignore&#x27;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="1-5-å°æŠ€å·§"><a href="#1-5-å°æŠ€å·§" class="headerlink" title="1.5. å°æŠ€å·§"></a>1.5. å°æŠ€å·§</h4><ul>
<li><p>åˆ›å»ºäº†ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå¹¶ä¸”æŠŠå®ƒåŠ å…¥ç‰ˆæœ¬æ§åˆ¶ï¼Œä½†å¿½ç•¥æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰å†…å®¹</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn mkdir dir2</span><br><span class="line">âœ  svn propset svn:ignore <span class="string">&#x27;*&#x27;</span> dir2</span><br><span class="line">âœ  svn ci -m <span class="string">&#x27;Adding &quot;dir2&quot; and ignoring its contents.&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li><p>åˆ›å»ºä¸€ä¸ªä¸åŠ å…¥ç‰ˆæœ¬æ§åˆ¶ï¼ˆå¿½ç•¥ï¼‰çš„æ–‡ä»¶å¤¹</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  mkdir dir1</span><br><span class="line">âœ  svn propset svn:ignore <span class="string">&#x27;dir1&#x27;</span> .</span><br><span class="line">âœ  svn ci -m <span class="string">&#x27;Ignoring a directory called &quot;dir1&quot;.&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li><p>å¯¼å…¥ä¸€ä¸ªç›®å½• import</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn import /tmp/upload svn://192.168.0.1/repo1 -m <span class="string">&#x27;add module upload&#x27;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-åˆå¹¶-merge"><a href="#2-åˆå¹¶-merge" class="headerlink" title="2. åˆå¹¶ merge"></a>2. åˆå¹¶ merge</h3><h4 id="2-1-åˆ†æ”¯åˆå¹¶åˆ°ä¸»å¹²"><a href="#2-1-åˆ†æ”¯åˆå¹¶åˆ°ä¸»å¹²" class="headerlink" title="2.1. åˆ†æ”¯åˆå¹¶åˆ°ä¸»å¹²"></a>2.1. åˆ†æ”¯åˆå¹¶åˆ°ä¸»å¹²</h4><blockquote>
<p>âš ï¸<strong>æ³¨æ„</strong>ï¼šåˆ†æ”¯åˆå¹¶åˆ°ä¸»å¹²ååº”å½“åˆ é™¤è¯¥åˆ†æ”¯ï¼Œå› ä¸ºåœ¨ SVN ä¸­è¯¥åˆ†æ”¯å·²ç»ä¸èƒ½è¿›è¡Œåˆ·æ–°ä¹Ÿä¸èƒ½åˆå¹¶åˆ°ä¸»å¹²ã€‚</p>
</blockquote>
<p>æ“ä½œæ­¥éª¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥ä¸»å¹²ç›®å½•</span></span><br><span class="line">âœ  <span class="built_in">cd</span> trunk</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹åˆ›å»ºåˆ†æ”¯æ—¶çš„ç‰ˆæœ¬å·</span></span><br><span class="line">âœ  svn <span class="built_in">log</span> -q -v -l 1 --stop-on-copy svn://branch_url</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå¹¶åˆ†æ”¯ä¸Šçš„æœ€æ–°ä»£ç åˆ°ä¸»å¹²</span></span><br><span class="line"><span class="comment"># svn1.8+ å¯ä»¥ä¸åŠ å‚æ•° --reintegrate</span></span><br><span class="line">âœ  svn merge --reintegrate svn://branch_url</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹åˆ†æ”¯ä¸­å“ªäº›æ”¹åŠ¨å·²ç»è¢«åˆå¹¶åˆ°ä¸»å¹²</span></span><br><span class="line">âœ  svn mergeinfo svn://branch_url</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹åˆ†æ”¯å“ªäº›æ”¹åŠ¨è¿˜æœªåˆå¹¶</span></span><br><span class="line">âœ  svn mergeinfo svn://branch_url --show-revs eligible</span><br><span class="line"></span><br><span class="line"><span class="comment"># âš ï¸ æäº¤æœ¬æ¬¡åˆå¹¶ï¼ˆä¸æäº¤çš„è¯ï¼Œåˆå¹¶ä¸ä¼šç”Ÿæ•ˆï¼Œä¹Ÿä¼šå½±å“åé¢çš„æ›´æ–°æ“ä½œï¼‰</span></span><br><span class="line">âœ  svn ci -m <span class="string">&#x27;merge from branch r11:r5 into trunk&#x27;</span></span><br></pre></td></tr></table></figure>


<h4 id="2-2-ä¸»å¹²åˆå¹¶åˆ°åˆ†æ”¯"><a href="#2-2-ä¸»å¹²åˆå¹¶åˆ°åˆ†æ”¯" class="headerlink" title="2.2. ä¸»å¹²åˆå¹¶åˆ°åˆ†æ”¯"></a>2.2. ä¸»å¹²åˆå¹¶åˆ°åˆ†æ”¯</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥åˆ†æ”¯ç›®å½•</span></span><br><span class="line">âœ  <span class="built_in">cd</span> branch</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå¹¶ä¹‹å‰ï¼Œå¯ä»¥ä½¿ç”¨ svn mergeinfo å‘½ä»¤æŸ¥çœ‹ä¸»å¹²ä¸Šæœ‰å“ªäº›å¾…åˆå¹¶çš„ç‰ˆæœ¬ä¿¡æ¯</span></span><br><span class="line">âœ  svn mergeinfo -v svn://trunk_url --show-revs eligible --<span class="built_in">log</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå¹¶ä¸»å¹²ä¸Šæœ€æ–°ä»£ç åˆ°åˆ†æ”¯</span></span><br><span class="line">âœ  svn merge svn://trunk_url</span><br><span class="line"></span><br><span class="line"><span class="comment"># âš ï¸ æäº¤æœ¬æ¬¡åˆå¹¶ï¼ˆä¸æäº¤çš„è¯ï¼Œåˆå¹¶ä¸ä¼šç”Ÿæ•ˆï¼Œä¹Ÿä¼šå½±å“åé¢çš„æ›´æ–°æ“ä½œï¼‰</span></span><br><span class="line">âœ  svn ci -m <span class="string">&#x27;merge from trunk r11:r5 into branch&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="3-å›æ»š-rollback"><a href="#3-å›æ»š-rollback" class="headerlink" title="3. å›æ»š rollback"></a>3. å›æ»š rollback</h3><h4 id="3-1-æœªæäº¤ä½¿ç”¨-revert"><a href="#3-1-æœªæäº¤ä½¿ç”¨-revert" class="headerlink" title="3.1. æœªæäº¤ä½¿ç”¨ revert"></a>3.1. æœªæäº¤ä½¿ç”¨ <code>revert</code></h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€</span></span><br><span class="line">âœ  svn status</span><br><span class="line"></span><br><span class="line"><span class="comment"># å›æ»šå•ä¸ªæ–‡ä»¶</span></span><br><span class="line">âœ  svn revert /path/to/file_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># å›æ»šä¸€ä¸ªç›®å½•</span></span><br><span class="line">âœ  svn revert dir_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># å›æ»šæ•´ä¸ªé¡¹ç›®</span></span><br><span class="line">âœ  <span class="built_in">cd</span> trunk</span><br><span class="line">âœ  svn revert -R .</span><br></pre></td></tr></table></figure>

<h4 id="3-2-å·²æäº¤ä½¿ç”¨-merge-r"><a href="#3-2-å·²æäº¤ä½¿ç”¨-merge-r" class="headerlink" title="3.2. å·²æäº¤ä½¿ç”¨ merge -r"></a>3.2. å·²æäº¤ä½¿ç”¨ <code>merge -r</code></h4><ol>
<li><p>å…ˆæ›´æ–°åˆ°æœ€æ–°ä»£ç </p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿™é‡Œå¾—åˆ°æœ€æ–°ç‰ˆæœ¬å· 11</span></span><br><span class="line">âœ  svn up</span><br><span class="line">Updating <span class="string">&#x27;.&#x27;</span>:</span><br><span class="line">At revision 11.</span><br></pre></td></tr></table></figure></li>
<li><p>æ‰¾åˆ°è¦å›æ»šåˆ°çš„ç‰ˆæœ¬å·</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æœ€æ–°çš„ 50 æ¬¡æäº¤è®°å½•</span></span><br><span class="line"><span class="comment"># æœ€åçš„å‚æ•°å¯ä»¥æŒ‡å®šæ–‡ä»¶æˆ–ç›®å½•</span></span><br><span class="line">âœ  <span class="built_in">cd</span> trunk</span><br><span class="line">âœ  svn <span class="built_in">log</span> -l 50 [file|dir]</span><br></pre></td></tr></table></figure>

<p> å‡å¦‚æˆ‘ä»¬æƒ³è¦å›é€€åˆ°çš„ç‰ˆæœ¬æ˜¯ 5ï¼Œå¯ä»¥æ‰§è¡Œå‘½ä»¤ <code>svn diff -r 11:5 [file|dir]</code> ç®€å•æŸ¥çœ‹ä¸¤ä¸ªç‰ˆæœ¬çš„åŒºåˆ«ã€‚</p>
</li>
<li><p>å›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬å·</p>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">âœ  svn merge -r 11:5 [file|dir]</span><br></pre></td></tr></table></figure>

<p> éªŒè¯å›æ»šæ˜¯å¦æˆåŠŸ</p>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">âœ  svn diff -r [file|dir]</span><br></pre></td></tr></table></figure></li>
<li><p>æäº¤æœ¬æ¬¡å›æ»šæ“ä½œåˆ°ä»“åº“</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn ci -m <span class="string">&quot;Revert revision from r28 to r25,because of ...&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><p>å…¶å®ƒåœ°æ–¹æ›´æ–°æœ¬æ¬¡å›æ»šæ“ä½œ</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn up</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="3-3-å›é€€è¯¯æ“ä½œçš„-svn-up"><a href="#3-3-å›é€€è¯¯æ“ä½œçš„-svn-up" class="headerlink" title="3.3. å›é€€è¯¯æ“ä½œçš„ svn up"></a>3.3. å›é€€è¯¯æ“ä½œçš„ <code>svn up</code></h4><p><strong>åœºæ™¯</strong>ï¼šæˆ‘ä»¬æœ‰ä¸€ä¸ªç›®å½•æ˜¯ç¨³å®šç‰ˆæœ¬çš„ç¯å¢ƒï¼Œå› ä¸ºè¯¯æ“ä½œæ‰§è¡Œäº† <code>svn up</code> åï¼Œä»£ç è¢«æ›´æ–°åˆ°äº†ä»“åº“ä¸­çš„æœ€æ–°ç‰ˆæœ¬ï¼Œè€Œæœ€æ–°ç‰ˆè¿˜æ²¡æœ‰æµ‹è¯•é€šè¿‡ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å…ˆå°†æ›´æ–°çš„ä»£ç å›æ»šï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">cd</span> trunk</span><br><span class="line">âœ  svn merge -r 13410:13962 .</span><br></pre></td></tr></table></figure>

<blockquote>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šåƒä¸‡ä¸è¦æäº¤ï¼Œå¦åˆ™ä»“åº“ä¸­çš„ä»£ç ä¹Ÿä¼šå›æ»šï¼Œè€Œæˆ‘ä»¬åªå¸Œæœ›æœ¬åœ°ç›®å½•å›æ»šã€‚</p>
<p>ç­‰åˆ°å¯ä»¥æ‰§è¡Œ <code>svn up</code> çš„æ—¶å€™ï¼Œå†æ¢å¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn revert -R .</span><br><span class="line">âœ  svn up</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="4-é™„å½•1"><a href="#4-é™„å½•1" class="headerlink" title="4. é™„å½•1"></a>4. é™„å½•1</h3><h4 id="4-1-å‘½ä»¤ç®€å†™å¯¹ç…§"><a href="#4-1-å‘½ä»¤ç®€å†™å¯¹ç…§" class="headerlink" title="4.1. å‘½ä»¤ç®€å†™å¯¹ç…§"></a>4.1. å‘½ä»¤ç®€å†™å¯¹ç…§</h4><ul>
<li><code>svn checkout</code> <strong>â€”&gt;</strong> <code>svn co</code></li>
<li><code>svn update</code> <strong>â€”&gt;</strong> <code>svn up</code></li>
<li><code>svn commit</code> <strong>â€”&gt;</strong> <code>svn ci</code></li>
<li><code>svn delete</code> <strong>â€”&gt;</strong> <code>svn rm</code> æˆ– <code>svn del</code></li>
<li><code>svn copy</code> <strong>â€”&gt;</strong> <code>svn cp</code></li>
<li><code>svn list</code> <strong>â€”&gt;</strong> <code>svn ls</code></li>
<li><code>svn status</code> <strong>â€”&gt;</strong> <code>svn st</code></li>
<li><code>svn switch</code> <strong>â€”&gt;</strong> <code>svn sw</code></li>
<li><code>svn diff</code> <strong>â€”&gt;</strong> <code>svn di</code></li>
</ul>
<h4 id="4-2-å¤„ç†å†²çª"><a href="#4-2-å¤„ç†å†²çª" class="headerlink" title="4.2. å¤„ç†å†²çª"></a>4.2. å¤„ç†å†²çª</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥æ‰¾åˆå¹¶æ—¶çš„å†²çªæ–‡ä»¶ï¼Œæ‰‹å·¥è§£å†³å†²çª</span></span><br><span class="line">âœ  svn st | grep ^C</span><br><span class="line"><span class="comment"># å‘ŠçŸ¥svnå†²çªå·²è§£å†³</span></span><br><span class="line">âœ  svn resolved filename</span><br><span class="line"><span class="comment"># æç¤ºåˆå¹¶åçš„ç‰ˆæœ¬</span></span><br><span class="line">âœ  svn commit -m <span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>(<strong>p</strong>) postpone    æš‚æ—¶æ¨åå¤„ç†ï¼Œæˆ‘å¯èƒ½è¦å’Œé‚£ä¸ªå’Œæˆ‘å†²çªçš„å®¶ä¼™å•†é‡ä¸€ç•ª</li>
<li>(<strong>df</strong>) diff-full        æŠŠæ‰€æœ‰çš„ä¿®æ”¹åˆ—å‡ºæ¥ï¼Œæ¯”æ¯”çœ‹</li>
<li>(<strong>e</strong>) edit              ç›´æ¥ç¼–è¾‘å†²çªçš„æ–‡ä»¶</li>
<li>(<strong>mc</strong>) mine-conflict å¦‚æœä½ å¾ˆæœ‰è‡ªä¿¡å¯ä»¥åªç”¨ä½ çš„ä¿®æ”¹ï¼ŒæŠŠåˆ«äººçš„ä¿®æ”¹å¹²æ‰</li>
<li>(<strong>tc</strong>) theirs-conflict  åº•æ°”ä¸è¶³ï¼Œè¿˜æ˜¯ç”¨åˆ«äººä¿®æ”¹çš„å§</li>
<li>(<strong>s</strong>) show all options  æ˜¾ç¤ºå…¶ä»–å¯ç”¨çš„å‘½ä»¤</li>
</ul>
<h4 id="4-3-æ–‡ä»¶ç¬¦å·çŠ¶æ€"><a href="#4-3-æ–‡ä»¶ç¬¦å·çŠ¶æ€" class="headerlink" title="4.3. æ–‡ä»¶ç¬¦å·çŠ¶æ€"></a>4.3. æ–‡ä»¶ç¬¦å·çŠ¶æ€</h4><ul>
<li><strong>U</strong>: è¡¨ç¤ºä»æœåŠ¡å™¨æ”¶åˆ°æ–‡ä»¶æ›´æ–°äº†</li>
<li><strong>G</strong>: è¡¨ç¤ºæœ¬åœ°æ–‡ä»¶ä»¥åŠæœåŠ¡å™¨æ–‡ä»¶éƒ½å·²æ›´æ–°,è€Œä¸”æˆåŠŸçš„åˆå¹¶äº†</li>
<li><strong>A</strong>: è¡¨ç¤ºæœ‰æ–‡ä»¶æˆ–è€…ç›®å½•æ·»åŠ åˆ°å·¥ä½œç›®å½•</li>
<li><strong>R</strong>: è¡¨ç¤ºæ–‡ä»¶æˆ–è€…ç›®å½•è¢«æ›¿æ¢äº†.</li>
<li><strong>C</strong>: è¡¨ç¤ºæ–‡ä»¶çš„æœ¬åœ°ä¿®æ”¹å’ŒæœåŠ¡å™¨ä¿®æ”¹å‘ç”Ÿå†²çª</li>
</ul>
<h4 id="4-4-å¦‚ä½•è¿ç§»ä»“åº“"><a href="#4-4-å¦‚ä½•è¿ç§»ä»“åº“" class="headerlink" title="4.4. å¦‚ä½•è¿ç§»ä»“åº“"></a>4.4. å¦‚ä½•è¿ç§»ä»“åº“</h4><ol>
<li><p>å¤‡ä»½æºä»“åº“</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svnadmin dump /path/to/repo &gt; repo.dump</span><br></pre></td></tr></table></figure></li>
<li><p>æ–°å»ºä»“åº“</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svnadmin create new_repo</span><br></pre></td></tr></table></figure>

<blockquote>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šå¦‚æœæ˜¯è¿ç§»åˆ° Windows ä¸‹ï¼Œä½¿ç”¨ VisualSVN åˆ›å»ºæ–°ä»“åº“æ—¶ï¼Œä¸è¦åˆ›å»ºé»˜è®¤ç›®å½•ç»“æ„ï¼ˆbranchesã€trunkã€tagsï¼‰ï¼Œå¦åˆ™åœ¨å¯¼å…¥å¤‡ä»½æ—¶å€™å¯èƒ½å› ä¸ºç›®å½•å†²çªå‘ç”ŸæŠ¥é”™è€Œä¸­æ–­ã€‚</p>
</blockquote>
</li>
<li><p>ä»å¤‡ä»½æ–‡ä»¶å¯¼å…¥æ–°å»ºçš„ä»“åº“</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svnadmin load /path/to/new_repo &lt; repo.dump</span><br></pre></td></tr></table></figure></li>
</ol>
<p><strong>å»ºè®®ï¼šåˆ‡æ¢ä»£ç çš„ svn ä»“åº“åœ°å€æ—¶ï¼Œæœ€å¥½ä½¿ç”¨æ–° svn åœ°å€è¿›è¡Œé‡æ–°æ£€å‡ºçš„æ–¹å¼æ“ä½œï¼›å¦‚æœç›´æ¥ä½¿ç”¨ <code>svn switch --relocate svn://svn_old svn://svn_new </code> è¿›è¡Œåˆ‡æ¢ï¼Œæœ‰å¯èƒ½æŠ¥ç±»ä¼¼ <code>uuid</code> å†²çªçš„é”™è¯¯ã€‚</strong></p>
<h3 id="5-é™„å½•2ï¼šå¸¸è§é—®é¢˜å¤„ç†"><a href="#5-é™„å½•2ï¼šå¸¸è§é—®é¢˜å¤„ç†" class="headerlink" title="5. é™„å½•2ï¼šå¸¸è§é—®é¢˜å¤„ç†"></a>5. é™„å½•2ï¼šå¸¸è§é—®é¢˜å¤„ç†</h3><h4 id="5-1-svn-Can-39-t-convert-string-from-39-UTF-8-39-to-native-encoding"><a href="#5-1-svn-Can-39-t-convert-string-from-39-UTF-8-39-to-native-encoding" class="headerlink" title="5.1. svn: Can&#39;t convert string from &#39;UTF-8&#39; to native encoding"></a>5.1. <code>svn: Can&#39;t convert string from &#39;UTF-8&#39; to native encoding</code></h4><p><strong>è§£å†³</strong>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">echo</span> <span class="string">&quot;export LC_ALL=zh_CN.UTF-8&quot;</span> &gt;&gt; /etc/profile</span><br><span class="line">âœ  <span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure>

<h4 id="5-2-SSL-handshake-failed-SSL-é”™è¯¯ï¼šKey-usage-violation-in-certificate-has-been-detected"><a href="#5-2-SSL-handshake-failed-SSL-é”™è¯¯ï¼šKey-usage-violation-in-certificate-has-been-detected" class="headerlink" title="5.2. SSL handshake failed: SSL é”™è¯¯ï¼šKey usage violation in certificate has been detected."></a>5.2. <code>SSL handshake failed: SSL é”™è¯¯ï¼šKey usage violation in certificate has been detected.</code></h4><p><strong>åœºæ™¯</strong>ï¼šåœ¨ CentOS æœåŠ¡å™¨ä¸Šï¼Œé€šè¿‡ svn å‘½ä»¤æ£€å‡º VisualSVN ç®¡ç†çš„ä»“åº“ä»£ç æ—¶ã€‚</p>
<p><strong>è§£å†³</strong>ï¼šå®‰è£…é«˜ç‰ˆæœ¬çš„ svn ï¼Œå¦‚ä¸‹</p>
<ul>
<li><p>æ·»åŠ è½¯ä»¶æº <code>vim /etc/yum.repos.d/wandisco-svn.repo</code></p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[WandiscoSVN]</span><br><span class="line">name=Wandisco SVN Repo</span><br><span class="line">baseurl=http://opensource.wandisco.com/centos/$releasever/svn-1.8/RPMS/$basearch/</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br></pre></td></tr></table></figure></li>
<li><p>åˆ é™¤æ—§ç‰ˆæœ¬ <code>yum remove subversion*</code></p>
</li>
<li><p>å®‰è£…æ–°ç‰ˆæœ¬</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  yum clean all</span><br><span class="line">âœ  yum install subversion</span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>å¼€å‘å·¥å…·</category>
      </categories>
      <tags>
        <tag>å¼€å‘å·¥å…·</tag>
        <tag>ç‰ˆæœ¬ç®¡ç†</tag>
        <tag>svn</tag>
        <tag>Subversion</tag>
      </tags>
  </entry>
  <entry>
    <title>svn æœåŠ¡ç«¯é…ç½®</title>
    <url>/post/1709980602.html</url>
    <content><![CDATA[<h3 id="1-åˆ›å»ºç‰ˆæœ¬åº“"><a href="#1-åˆ›å»ºç‰ˆæœ¬åº“" class="headerlink" title="1. åˆ›å»ºç‰ˆæœ¬åº“"></a>1. åˆ›å»ºç‰ˆæœ¬åº“</h3><blockquote>
<p>å•ç‰ˆæœ¬åº“ä¸å¤šç‰ˆæœ¬åº“å„æœ‰ä¼˜ç‚¹å’Œç¼ºç‚¹ï¼Œä¸»è¦æ ¹æ®å…·ä½“é¡¹ç›®æƒ…å†µè¿›è¡Œé€‰æ‹©ã€‚</p>
</blockquote>
<h4 id="1-1-å¤šåº“æ¨¡å¼"><a href="#1-1-å¤šåº“æ¨¡å¼" class="headerlink" title="1.1. å¤šåº“æ¨¡å¼"></a>1.1. å¤šåº“æ¨¡å¼</h4><ol>
<li><p>åˆ›å»º</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  mkdir -p /home/repos</span><br><span class="line">âœ  svnadmin create /home/repos/resume</span><br><span class="line">âœ  svnadmin create /home/repos/blog</span><br><span class="line">âœ  <span class="built_in">cd</span> /home/repos</span><br><span class="line">âœ  tree -L 2</span><br><span class="line">.</span><br><span class="line">|-- blog</span><br><span class="line">|   |-- README.txt</span><br><span class="line">|   |-- conf</span><br><span class="line">|   |-- db</span><br><span class="line">|   |-- format</span><br><span class="line">|   |-- hooks</span><br><span class="line">|   `-- locks</span><br><span class="line">`-- resume</span><br><span class="line">    |-- README.txt</span><br><span class="line">    |-- conf</span><br><span class="line">    |-- db</span><br><span class="line">    |-- format</span><br><span class="line">    |-- hooks</span><br><span class="line">    `-- locks</span><br></pre></td></tr></table></figure></li>
</ol>
<span id="more"></span>

<ol start="2">
<li><p>å…¬ç”¨ä¸€ä»½ authz å’Œ passwd æ–‡ä»¶</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  mv blog/conf/authz ./</span><br><span class="line">âœ  mv blog/conf/passwd ./</span><br><span class="line">âœ  rm -rf resume/conf/authz resume/conf/passwd</span><br></pre></td></tr></table></figure></li>
<li><p>åˆ†åˆ«è®¾ç½®æ¯ä¸ªåº“çš„ <strong>svnserve.conf</strong> æ–‡ä»¶</p>
<p> ä»¥ blog ä¸ºä¾‹ <code>vim /home/repos/blog/conf/svnserve.conf</code></p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åŒ¿åç”¨æˆ·åªè¯»(readæˆ–none)</span></span><br><span class="line">anon-access = none</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¤è¯ç”¨æˆ·å¯å†™</span></span><br><span class="line">auth-access = write</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…¬ç”¨ passwd æ–‡ä»¶çš„ä½ç½®</span></span><br><span class="line">password-db = ../../passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…¬ç”¨ authz æ–‡ä»¶çš„ä½ç½®</span></span><br><span class="line">authz-db = ../../authz</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»“åº“çš„æ–‡ä»¶å(å…·ä½“åœ¨å®¢æˆ·ç«¯æ›´æ–°ä¸‹è½½çš„æ—¶å€™èƒ½çœ‹åˆ°ä»“åº“åå­—)</span></span><br><span class="line">realm = blog</span><br></pre></td></tr></table></figure></li>
<li><p>ä¿®æ”¹å…¬ç”¨çš„ <strong>passwd</strong> è®¾ç½®ç”¨æˆ·åã€å¯†ç </p>
<p> <code># vim /home/repos/passwd</code></p>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[users]</span><br><span class="line">admin = admin</span><br><span class="line">lisi = pwdls</span><br><span class="line">zhansan = pwdzs</span><br></pre></td></tr></table></figure></li>
<li><p>ä¿®æ”¹å…¬ç”¨çš„ <strong>authz</strong> è®¾ç½®ç”¨æˆ·è®¿é—®æƒé™</p>
<p> <code>vim /home/repos/authz</code></p>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[groups]</span><br><span class="line">admin = admin</span><br><span class="line">blog_rw = zhangsan</span><br><span class="line">resume_rw = lisi</span><br><span class="line"></span><br><span class="line">[/]</span><br><span class="line">@admin = rw</span><br><span class="line"></span><br><span class="line">[blog:/]</span><br><span class="line">@blog_rw = rw</span><br><span class="line"></span><br><span class="line">[resume:/]</span><br><span class="line">@resume_rw = rw</span><br></pre></td></tr></table></figure>

<p> è¯´æ˜ï¼šadmin å¯ä»¥è¯»å†™ blogã€resumeï¼›zhangsan åªèƒ½è¯»å†™ blogï¼›lisi åªèƒ½è¯»å†™ resumeã€‚</p>
</li>
</ol>
<h4 id="1-2-å•åº“æ¨¡å¼"><a href="#1-2-å•åº“æ¨¡å¼" class="headerlink" title="1.2. å•åº“æ¨¡å¼"></a>1.2. å•åº“æ¨¡å¼</h4><blockquote>
<p>å•åº“æ–¹å¼æ¯”è¾ƒç®€å•ï¼Œåªé’ˆå¯¹äºå•ä¸€é¡¹ç›®çš„å¼€å‘ç®¡ç†ï¼Œå¹¶ä¸”åœ¨å•åº“æ–¹å¼ä¸‹ä¸€å°æœåŠ¡å™¨åªèƒ½åˆ›å»ºä¸€ä¸ªæ ·æœ¬åº“ï¼Œé™åˆ¶è¾ƒå¤§ï¼</p>
</blockquote>
<p>åˆ›å»ºä¸€ä¸ªæ–°çš„å•åº“ cms</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ mkdir -p /home/repos2</span><br><span class="line">âœ svnadmin create /home/repos2/cms</span><br></pre></td></tr></table></figure>

<p>å•åº“æ¨¡å¼ä¸‹ï¼Œé…ç½®æ–‡ä»¶åœ¨ <code>/home/repos2/cms/conf</code> ä¸‹ï¼Œå…¶ä¸­ svnserv.conf å’Œ passwd çš„é…ç½®æ–¹å¼ä¸å¤šåº“ç›¸ä¼¼ï¼Œauthz çš„é…ç½®æœ‰è¾ƒå¤§åŒºåˆ«ï¼Œå¦‚ä¸‹ï¼š</p>
<p><code>vim /home/repos2/cms/conf/authz</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[groups]</span><br><span class="line">admin = admin</span><br><span class="line">dev = wanger</span><br><span class="line"></span><br><span class="line">[/]</span><br><span class="line">@admin = rw</span><br><span class="line">@dev = rw</span><br></pre></td></tr></table></figure>

<h3 id="2-å¯åŠ¨"><a href="#2-å¯åŠ¨" class="headerlink" title="2. å¯åŠ¨"></a>2. å¯åŠ¨</h3><blockquote>
<p>æ³¨æ„ï¼šsvn é»˜è®¤ç›‘å¬ç«¯å£ TCP 3690ï¼Œå¦‚æœå¼€å¯äº†é˜²ç«å¢™éœ€æå‰åŠ å…¥å¯è®¿é—®åˆ—è¡¨ï¼›æˆ–è€…åœ¨å¯åŠ¨æ—¶å€™ï¼Œä½¿ç”¨å‚æ•° <code>--listen-port</code>ã€‚</p>
</blockquote>
<p>å¤šåº“ <code>svnserve -d -r /home/repos</code></p>
<p>å•åº“ <code>svnserve -d -r /home/repos/cms</code></p>
<ul>
<li><code>-d</code> ä»¥å®ˆæŠ¤æ¨¡å¼è¿è¡Œ</li>
<li><code>-r</code> æŒ‡å®š svn æœåŠ¡çš„æ ¹ç›®å½•</li>
<li><code>--listen-port</code> æŒ‡å®š svn æœåŠ¡ç›‘å¬çš„ç«¯å£å·</li>
</ul>
<h3 id="3-è®¿é—®"><a href="#3-è®¿é—®" class="headerlink" title="3. è®¿é—®"></a>3. è®¿é—®</h3><p>å¤šåº“æ¨¡å¼éœ€è¦æŒ‡å®šå…·ä½“çš„åº“åï¼Œå¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn co svn://192.168.0.1/blog</span><br><span class="line">âœ  svn co svn://192.168.0.1/resume</span><br></pre></td></tr></table></figure>

<p>å•åº“æ¨¡å¼åªéœ€è¦è¾“å…¥ipæˆ–åŸŸååœ°å€ï¼Œå¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn co svn://192.168.0.1</span><br></pre></td></tr></table></figure>

<h3 id="4-åœæ­¢æœåŠ¡"><a href="#4-åœæ­¢æœåŠ¡" class="headerlink" title="4. åœæ­¢æœåŠ¡"></a>4. åœæ­¢æœåŠ¡</h3><p><code>killall svnserve</code></p>
<p>æˆ–</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ps -aux|grep svnserv</span><br><span class="line">âœ  <span class="built_in">kill</span> -9 <span class="variable">$pid</span></span><br></pre></td></tr></table></figure>

<h3 id="5-å…¶å®ƒ"><a href="#5-å…¶å®ƒ" class="headerlink" title="5. å…¶å®ƒ"></a>5. å…¶å®ƒ</h3><h4 id="5-1-åˆ›å»ºé€šç”¨ç‰ˆæœ¬åº“å¸ƒå±€"><a href="#5-1-åˆ›å»ºé€šç”¨ç‰ˆæœ¬åº“å¸ƒå±€" class="headerlink" title="5.1. åˆ›å»ºé€šç”¨ç‰ˆæœ¬åº“å¸ƒå±€"></a>5.1. åˆ›å»ºé€šç”¨ç‰ˆæœ¬åº“å¸ƒå±€</h4><p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæ¨èåˆ›å»ºå¦‚ä¸‹å¸ƒå±€æ–‡ä»¶ï¼š</p>
<ul>
<li>trunk</li>
<li>branches</li>
<li>tags</li>
</ul>
<p>æ­¥éª¤ï¼š</p>
<ol>
<li><p>åˆ›å»ºç›®å½•å¸ƒå±€ä¸´æ—¶æ–‡ä»¶</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  mkdir -p /tmp/repos_layout/&#123;trunk,branches,tags&#125;</span><br><span class="line">âœ  tree /tmp/repos_layout/</span><br><span class="line">/tmp/repos_layout/</span><br><span class="line">|-- branches</span><br><span class="line">|-- tags</span><br><span class="line">`-- trunk</span><br></pre></td></tr></table></figure></li>
<li><p>å¯¼å…¥åˆ°ç‰ˆæœ¬åº“ä¸­</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn import /tmp/repos_layout svn://192.168.0.1/resume -m <span class="string">&#x27;init&#x27;</span></span><br><span class="line">Adding         /tmp/repos_layout/branches</span><br><span class="line">Adding         /tmp/repos_layout/tags</span><br><span class="line">Adding         /tmp/repos_layout/trunk</span><br><span class="line">Committing transaction...</span><br><span class="line">Committed revision 1.</span><br></pre></td></tr></table></figure>

<p> æŸ¥çœ‹æ˜¯å¦å¯¼å…¥æˆåŠŸ</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn list --verbose svn://192.168.0.1/resume</span><br></pre></td></tr></table></figure></li>
<li><p>ä¿®æ”¹æƒé™</p>
<p> ç¼–è¾‘æƒé™æ–‡ä»¶ <code>vim /home/repos/authz</code>ï¼Œè®¾ç½®æ™®é€šç”¨æˆ·è®¿é—® trunkï¼Œç®¡ç†å‘˜è®¿é—®ç‰ˆæœ¬åº“æ ¹ç›®å½• trunkã€branchesã€tagsï¼Œå¦‚ä¸‹ï¼š</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[resume:/]</span><br><span class="line">@admin = rw</span><br><span class="line"></span><br><span class="line">[resume:/trunk]</span><br><span class="line">@resume_rw = rw</span><br></pre></td></tr></table></figure>

<blockquote>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šæƒé™æ˜¯ç»§æ‰¿çš„ï¼Œç®¡ç†å‘˜æ—¢ç„¶èƒ½è®¿é—®æ ¹ç›®å½•ï¼Œé‚£ä¹ˆæ ¹ä¸‹çš„å­ç›®å½•ä¹Ÿæ˜¯æœ‰æƒé™è®¿é—®çš„ï¼›è€Œæ™®é€šç”¨æˆ·ä¸€èˆ¬è®¾ç½®è¾ƒå°çš„æƒé™é›†ï¼Œåªèƒ½è®¿é—®æŒ‡å®šçš„ç›®å½•ï¼Œæ¯”å¦‚è¿™é‡Œçš„ trunkã€‚</p>
</blockquote>
</li>
<li><p>è®¿é—®</p>
<p> æ™®é€šç”¨æˆ· <code>svn co svn://192.168.1.1/resume/trunk</code></p>
<p> ç®¡ç†å‘˜ <code>svn co svn://192.168.1.1/resume/</code></p>
</li>
</ol>
<h4 id="5-x-å‚ç…§èµ„æ–™"><a href="#5-x-å‚ç…§èµ„æ–™" class="headerlink" title="5.x. å‚ç…§èµ„æ–™"></a>5.x. å‚ç…§èµ„æ–™</h4><ul>
<li><a href="https://tortoisesvn.net/docs/nightly/TortoiseSVN_zh_CN/tsvn-preface-readingguide.html">https://tortoisesvn.net/docs/nightly/TortoiseSVN_zh_CN/tsvn-preface-readingguide.html</a></li>
<li><a href="http://wangying.sinaapp.com/archives/1352">http://wangying.sinaapp.com/archives/1352</a></li>
<li><a href="http://www.runoob.com/svn/svn-tutorial.html">http://www.runoob.com/svn/svn-tutorial.html</a></li>
</ul>
]]></content>
      <categories>
        <category>å¼€å‘å·¥å…·</category>
      </categories>
      <tags>
        <tag>å¼€å‘å·¥å…·</tag>
        <tag>ç‰ˆæœ¬ç®¡ç†</tag>
        <tag>svn</tag>
        <tag>Subversion</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•åœ¨ CentOS 6.x/7.x ä¸Šå®‰è£… Git åŠæœ€æ–°ç‰ˆ</title>
    <url>/post/2026663390.html</url>
    <content><![CDATA[<blockquote>
<p>Git æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶ï¼Œæœ€åˆç”±<a href="https://zh.wikipedia.org/wiki/%E6%9E%97%E7%BA%B3%E6%96%AF%C2%B7%E6%89%98%E7%93%A6%E5%85%B9">æ—çº³æ–¯Â·æ‰˜ç“¦å…¹</a>åˆ›ä½œï¼Œäº 2005 å¹´ä»¥ GPL å‘å¸ƒã€‚æœ€åˆç›®çš„æ˜¯ä¸ºæ›´å¥½åœ°ç®¡ç† Linux å†…æ ¸å¼€å‘è€Œè®¾è®¡ã€‚</p>
</blockquote>
<p>æ›´å¤šä»‹ç»ï¼Œè¯¦è§ï¼š</p>
<ul>
<li>å®˜ç½‘ï¼š<a href="https://git-scm.com/book/zh/v2">https://git-scm.com/book/zh/v2</a></li>
<li>wikiï¼š<a href="https://zh.wikipedia.org/wiki/Git">https://zh.wikipedia.org/wiki/Git</a></li>
</ul>
<span id="more"></span>

<h3 id="æ–¹å¼ä¸€ã€yumå®‰è£…"><a href="#æ–¹å¼ä¸€ã€yumå®‰è£…" class="headerlink" title="æ–¹å¼ä¸€ã€yumå®‰è£…"></a>æ–¹å¼ä¸€ã€yumå®‰è£…</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  yum info git</span><br><span class="line">Failed to <span class="built_in">set</span> locale, defaulting to C</span><br><span class="line">Loaded plugins: fastestmirror</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line">Available Packages</span><br><span class="line">Name        : git</span><br><span class="line">Arch        : x86_64</span><br><span class="line">Version     : 1.8.3.1 &lt;--- è¯´æ˜ï¼šå½“å‰ç³»ç»Ÿæ˜¯ CentOS7.xï¼Œåœ¨ 6.x ä¸Šæ˜¯ 1.7.1</span><br><span class="line">Release     : 12.el7_4</span><br><span class="line">Size        : 4.4 M</span><br><span class="line">Repo        : updates/7/x86_64</span><br><span class="line">Summary     : Fast Version Control System</span><br><span class="line">URL         : http://git-scm.com/</span><br><span class="line">License     : GPLv2</span><br><span class="line">Description : Git is a fast, scalable, distributed revision control system with an</span><br><span class="line">            : unusually rich <span class="built_in">command</span> <span class="built_in">set</span> that provides both high-level operations</span><br><span class="line">            : and full access to internals.</span><br><span class="line">            :</span><br><span class="line">            : The git rpm installs the core tools with minimal dependencies.  To</span><br><span class="line">            : install all git packages, including tools <span class="keyword">for</span> integrating with other</span><br><span class="line">            : SCMs, install the git-all meta-package.</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸ºäº†å®‰è£…è¾ƒæ–°ç‰ˆæœ¬ï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ ä¸€ä¸ªä»“åº“æº</span></span><br><span class="line">âœ  yum install -y http://opensource.wandisco.com/centos/6/git/x86_64/wandisco-git-release-6-1.noarch.rpm</span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line">âœ  yum install -y http://opensource.wandisco.com/centos/7/git/x86_64/wandisco-git-release-7-2.noarch.rpm</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å§‹å®‰è£…</span></span><br><span class="line">âœ  yum install -y git</span><br></pre></td></tr></table></figure>

<h3 id="æ–¹å¼äºŒã€æºç åŒ…å®‰è£…"><a href="#æ–¹å¼äºŒã€æºç åŒ…å®‰è£…" class="headerlink" title="æ–¹å¼äºŒã€æºç åŒ…å®‰è£…"></a>æ–¹å¼äºŒã€æºç åŒ…å®‰è£…</h3><blockquote>
<p>æç¤ºï¼šè¯·ä½¿ç”¨ root ç”¨æˆ·æ“ä½œ</p>
</blockquote>
<h4 id="2-1-å®‰è£…ä¾èµ–åŒ…"><a href="#2-1-å®‰è£…ä¾èµ–åŒ…" class="headerlink" title="2.1. å®‰è£…ä¾èµ–åŒ…"></a>2.1. å®‰è£…ä¾èµ–åŒ…</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  yum install -y curl-devel expat-devel gettext-devel openssl-devel zlib-devel gcc perl-ExtUtils-MakeMaker</span><br></pre></td></tr></table></figure>

<h4 id="2-2-å¸è½½æ—§çš„gitç‰ˆæœ¬ï¼ˆå¦‚æœä¹‹å‰æœ‰å®‰è£…rpmåŒ…ï¼‰"><a href="#2-2-å¸è½½æ—§çš„gitç‰ˆæœ¬ï¼ˆå¦‚æœä¹‹å‰æœ‰å®‰è£…rpmåŒ…ï¼‰" class="headerlink" title="2.2.Â å¸è½½æ—§çš„gitç‰ˆæœ¬ï¼ˆå¦‚æœä¹‹å‰æœ‰å®‰è£…rpmåŒ…ï¼‰"></a>2.2.Â å¸è½½æ—§çš„gitç‰ˆæœ¬ï¼ˆå¦‚æœä¹‹å‰æœ‰å®‰è£…rpmåŒ…ï¼‰</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  yum remove -y git</span><br></pre></td></tr></table></figure>

<h4 id="2-3-ä¸‹è½½-amp-è§£å‹"><a href="#2-3-ä¸‹è½½-amp-è§£å‹" class="headerlink" title="2.3.Â ä¸‹è½½&amp;è§£å‹"></a>2.3.Â ä¸‹è½½&amp;è§£å‹</h4><p>æºç æ–‡ä»¶ï¼ˆå½“å‰æœ€æ–°ç‰ˆæœ¬ **v2.29.2 ** @ <strong>2020å¹´12æœˆ14æ—¥</strong>ï¼‰</p>
<ul>
<li>åœ°å€1ï¼š<a href="https://www.kernel.org/pub/software/scm/git/">https://www.kernel.org/pub/software/scm/git/</a></li>
<li>åœ°å€2ï¼š<a href="https://github.com/git/git/releases">https://github.com/git/git/releases</a></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">cd</span>Â ~</span><br><span class="line">âœ  wget -c https://mirrors.edge.kernel.org/pub/software/scm/git/git-2.29.2.tar.gz</span><br><span class="line">âœ  tar -zxvf git-2.29.2.tar.gz</span><br></pre></td></tr></table></figure>

<h4 id="2-4-ç¼–è¯‘å®‰è£…"><a href="#2-4-ç¼–è¯‘å®‰è£…" class="headerlink" title="2.4.Â ç¼–è¯‘å®‰è£…"></a>2.4.Â ç¼–è¯‘å®‰è£…</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">cd</span>Â git-2.29.2</span><br><span class="line">âœ  ./configure --prefix=/usr/<span class="built_in">local</span>/git</span><br><span class="line">âœ  make &amp;&amp; make install</span><br><span class="line">âœ  <span class="built_in">echo</span> <span class="string">&quot;export PATH=<span class="variable">$PATH</span>:/usr/local/git/bin&quot;</span> &gt;&gt; /etc/bashrc</span><br><span class="line">âœ  <span class="built_in">source</span> /etc/bashrc</span><br></pre></td></tr></table></figure>

<h4 id="2-5-æ£€æŸ¥gitç‰ˆæœ¬"><a href="#2-5-æ£€æŸ¥gitç‰ˆæœ¬" class="headerlink" title="2.5.Â æ£€æŸ¥gitç‰ˆæœ¬"></a>2.5.Â æ£€æŸ¥gitç‰ˆæœ¬</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">âœ  git --version</span><br><span class="line">git versionÂ 2.5.0</span><br></pre></td></tr></table></figure>

<blockquote>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šå¦‚æœå®‰è£…å®ŒæŸ¥çœ‹ç‰ˆæœ¬ä¸æ˜¯æˆ‘ä»¬å®‰è£…çš„æœ€æ–°ç‰ˆï¼Œè¯·é‡æ–°æ‰§è¡Œä¸‹é¢çš„æ“ä½œ</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  yum remove -y git</span><br><span class="line">âœ  <span class="built_in">source</span> /etc/bashrc</span><br><span class="line">âœ  git --versione</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒï¼š</p>
<ul>
<li><a href="https://github.com/git/git/blob/master/INSTALL">https://github.com/git/git/blob/master/INSTALL</a></li>
<li><a href="http://stackoverflow.com/questions/21820715/how-to-install-latest-version-of-git-on-centos-6-x-7-x">http://stackoverflow.com/questions/21820715/how-to-install-latest-version-of-git-on-centos-6-x-7-x</a></li>
</ul>
]]></content>
      <categories>
        <category>å¼€å‘å·¥å…·</category>
      </categories>
      <tags>
        <tag>å¼€å‘å·¥å…·</tag>
        <tag>ç‰ˆæœ¬ç®¡ç†</tag>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>å®‰è£… svn æœ€æ–°ç‰ˆæœ¬ 1.10.x</title>
    <url>/post/3349016682.html</url>
    <content><![CDATA[<p>SVN çš„å…¨ç§°æ˜¯ <strong>Subversion</strong>ï¼Œå³ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚å®ƒæ›¾ç»æ˜¯æœ€æµè¡Œçš„ä¸€ä¸ªå¼€æ”¾æºä»£ç çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆç°åœ¨è‚¯å®šæ˜¯ Gitï¼‰ã€‚</p>
<p>Subversion æ˜¯ä¸€ä¸ªé€šç”¨çš„ç³»ç»Ÿï¼Œå¯ç”¨æ¥ç®¡ç†ä»»ä½•ç±»å‹çš„æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…æ‹¬ç¨‹åºæºç ã€‚</p>
<span id="more"></span>

<h3 id="ä¸€ã€ä½¿ç”¨åŒ…ç®¡ç†å™¨è‡ªåŠ¨å®‰è£…"><a href="#ä¸€ã€ä½¿ç”¨åŒ…ç®¡ç†å™¨è‡ªåŠ¨å®‰è£…" class="headerlink" title="ä¸€ã€ä½¿ç”¨åŒ…ç®¡ç†å™¨è‡ªåŠ¨å®‰è£…"></a>ä¸€ã€ä½¿ç”¨åŒ…ç®¡ç†å™¨è‡ªåŠ¨å®‰è£…</h3><p>å®˜ç½‘æä¾›äº†å¸¸è§ Linux å‘è¡Œç‰ˆçš„å®‰è£…å‘½ä»¤ï¼Œæ­¤å¤„ä»…ä»¥ <em>CentOS</em>ã€<em>Debian</em> åŠ <em>Ubuntu</em> ä¸ºä¾‹è¿›è¡Œè¯´æ˜ï¼Œå…¶å®ƒç³»ç»Ÿè¯¦è§å®˜ç½‘ï¼š<a href="https://subversion.apache.org/packages.html">https://subversion.apache.org/packages.html</a></p>
<blockquote>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šä¸€èˆ¬å„å‘è¡Œç‰ˆç³»ç»Ÿä¸­å†…ç½®çš„è½¯ä»¶åŒ…éƒ½ä¸æ˜¯æœ€æ–°çš„ï¼Œå¦‚æœéœ€è¦å®‰è£…æœ€æ–°ç¨³å®šç‰ˆçš„ Subversionï¼Œè¯·ä½¿ç”¨æ–¹æ³•äºŒä¸­çš„æºç å®‰è£…ã€‚</p>
</blockquote>
<ul>
<li><p>CentOS</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  yum install subversion</span><br><span class="line">âœ  yum install mod_dav_svn</span><br></pre></td></tr></table></figure></li>
<li><p>Debian</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  apt-get install subversion</span><br><span class="line">âœ  apt-get install libapache2-mod-svn</span><br></pre></td></tr></table></figure></li>
<li><p>Ubuntu</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  apt-get install subversion</span><br><span class="line">âœ  apt-get install libapache2-svn</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="äºŒã€æºç ç¼–è¯‘å®‰è£…"><a href="#äºŒã€æºç ç¼–è¯‘å®‰è£…" class="headerlink" title="äºŒã€æºç ç¼–è¯‘å®‰è£…"></a>äºŒã€æºç ç¼–è¯‘å®‰è£…</h3><p>å®˜ç½‘æºç ä¸‹è½½é¡µï¼š<a href="https://subversion.apache.org/download.cgi">https://subversion.apache.org/download.cgi</a></p>
<table>
<thead>
<tr>
<th>æœ€æ–°ç¨³å®šç‰ˆï¼ˆæ¨èï¼‰</th>
<th>ä¸Šä¸€ç¨³å®šç‰ˆ</th>
</tr>
</thead>
<tbody><tr>
<td><a href="http://mirrors.shu.edu.cn/apache/subversion/subversion-1.10.2.tar.bz2">subversion-1.10.2.tar.bz2</a></td>
<td><a href="http://mirrors.shu.edu.cn/apache/subversion/subversion-1.9.9.tar.bz2">subversion-1.9.9.tar.bz2</a></td>
</tr>
<tr>
<td><a href="http://mirrors.shu.edu.cn/apache/subversion/subversion-1.10.2.tar.gz">subversion-1.10.2.tar.gz</a></td>
<td><a href="http://mirrors.shu.edu.cn/apache/subversion/subversion-1.9.9.tar.gz">subversion-1.9.9.tar.gz</a></td>
</tr>
<tr>
<td><a href="http://mirrors.shu.edu.cn/apache/subversion/subversion-1.10.2.zip">subversion-1.10.2.zip</a></td>
<td><a href="http://mirrors.shu.edu.cn/apache/subversion/subversion-1.9.9.zip">subversion-1.9.9.zip</a></td>
</tr>
</tbody></table>
<h4 id="2-1-å®‰è£…ä¾èµ–"><a href="#2-1-å®‰è£…ä¾èµ–" class="headerlink" title="2.1 å®‰è£…ä¾èµ–"></a>2.1 å®‰è£…ä¾èµ–</h4><p>æœ¬æ–‡å®‰è£…çš„æœ€æ–° subversion-1.10.x ç‰ˆæœ¬ï¼Œéœ€è¦å®‰è£…ä¾èµ– <strong>apr</strong> å’Œ <strong>apr-uti</strong>ï¼Œå®˜ç½‘ä¸‹è½½åœ°å€åœ¨è¿™é‡Œï¼š <a href="http://apr.apache.org/download.cgi">http://apr.apache.org/download.cgi</a>ã€‚</p>
<p>ä½äºå½“å‰æœ€æ–°ç‰ˆæœ¬çš„æºç ï¼Œå¯èƒ½è¿˜éœ€è¦ä¸‹é¢çš„åŸºç¡€ä¾èµ–ï¼Œè¯·æ ¹æ®å®‰è£…è¿‡ç¨‹æ˜¯å¦æŠ¥é”™è‡ªè¡Œé€‰æ‹©ï¼š</p>
<ul>
<li><code>yum install -y zlib zlib-devel</code></li>
<li><code>yum install -y openssl openssl-devel</code></li>
<li><code>yum install -y expat-devel</code></li>
<li><code>yum install -y bzip2</code> è§£å‹ ***.bz2** æ–‡ä»¶æ—¶éœ€è¦ç”¨åˆ°ã€‚</li>
<li><a href="https://www.sqlite.org/2018/sqlite-autoconf-3250100.tar.gz">sqlite-autoconf-3250100.tar.gz</a> åœ¨é«˜ç‰ˆæœ¬çš„ Subversion æºç åŒ…ä¸­å·²å†…ç½®ã€‚</li>
</ul>
<p>å¦å¤–ï¼Œå¯¹äº <strong>v1.7</strong> ä»¥ä¸‹çš„ç‰ˆæœ¬ï¼Œå®˜æ–¹æœ‰ç›´æ¥æä¾›ä¾èµ–åŒ…çš„å®‰è£…ä¸‹è½½ï¼Œæ¯”å¦‚ï¼š<a href="http://subversion.tigris.org/downloads/subversion-deps-1.6.12.tar.gz">subversion-deps-1.6.12.tar.gz</a>ã€ <a href="http://subversion.tigris.org/downloads/subversion-1.6.12.tar.gz">subversion-1.6.12.tar.gz</a>ï¼Œç›´æ¥è¿›å…¥ <code>subversion-deps*</code> ç›®å½•ä¸‹å®‰è£…æ‰€éœ€ä¾èµ–å³å¯ã€‚</p>
<ul>
<li><p>å®‰è£… <strong>apr</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  wget -c http://mirrors.shu.edu.cn/apache//apr/apr-1.6.5.tar.gz</span><br><span class="line">âœ  tar  -zxvf apr-1.6.5.tar.gz</span><br><span class="line">âœ  <span class="built_in">cd</span> apr-1.6.5</span><br><span class="line">âœ  ./configure --prefix=/usr/<span class="built_in">local</span>/apr</span><br><span class="line">âœ  make</span><br><span class="line">âœ  make install</span><br></pre></td></tr></table></figure></li>
<li><p>å®‰è£… <strong>apr-util</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  wget -c http://mirrors.shu.edu.cn/apache//apr/apr-util-1.6.1.tar.gz</span><br><span class="line">âœ  tar  -zxvf apr-util-1.6.1.tar.gz</span><br><span class="line">âœ  <span class="built_in">cd</span> apr-util-1.6.1</span><br><span class="line">âœ  ./configure --prefix=/usr/<span class="built_in">local</span>/apr-util --with-apr=/usr/<span class="built_in">local</span>/apr</span><br><span class="line">âœ  make</span><br><span class="line">âœ  make install</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="2-2-å®‰è£…-Subversion"><a href="#2-2-å®‰è£…-Subversion" class="headerlink" title="2.2. å®‰è£… Subversion"></a>2.2. å®‰è£… Subversion</h4><p>ä¸‹è½½ã€ç¼–è¯‘ã€å®‰è£…</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  wget -c http://mirrors.shu.edu.cn/apache/subversion/subversion-1.10.2.tar.gz</span><br><span class="line">âœ  tar -zxvf subversion-1.10.2.tar.gz</span><br><span class="line">âœ  <span class="built_in">cd</span> subversion-1.10.2</span><br><span class="line">âœ  ./configure --prefix=/usr/<span class="built_in">local</span>/subversion --with-apr=/usr/<span class="built_in">local</span>/apr --with-apr-util=/usr/<span class="built_in">local</span>/apr-util --with-lz4=internal --with-utf8proc=internal</span><br><span class="line">âœ  make</span><br><span class="line">âœ  make install</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼š</p>
<ul>
<li><p><code>--with-lz4=internal</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">configure: error: Subversion requires LZ4 &gt;= r129, or use --with-lz4=internal --with-serf=/usr/local/serf</span><br></pre></td></tr></table></figure></li>
<li><p><code>--with-utf8proc=internal</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">configure: error: Subversion requires UTF8PROC</span><br></pre></td></tr></table></figure></li>
<li><p><code>--with-serf=/usr/local/serf</code> å¼€å¯ HTTP å’Œ HTTPS è®¿é—®æ”¯æŒ</p>
<p>å¯èƒ½æŠ¥é”™ï¼š<code>configure: error: Serf was explicitly enabled but an appropriate version was not found.</code></p>
<p>è§£å†³ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ scons ç¼–è¯‘ã€å®‰è£…</span></span><br><span class="line">âœ  wget https://svwh.dl.sourceforge.net/project/scons/scons/2.3.3/scons-2.3.3.tar.gz</span><br><span class="line">âœ  tar xvf scons-2.3.3.tar.gz</span><br><span class="line">âœ  <span class="built_in">cd</span> scons-2.3.3</span><br><span class="line">âœ  python setup.py install</span><br><span class="line"></span><br><span class="line">âœ  wget https://archive.apache.org/dist/serf/serf-1.3.9.tar.bz2</span><br><span class="line">âœ  tar xjvf serf-1.3.9.tar.bz2</span><br><span class="line">âœ  scons PREFIX=/usr/<span class="built_in">local</span>/serf APR=/usr/<span class="built_in">local</span>/apr APU=/usr/<span class="built_in">local</span>/apr-util</span><br><span class="line">âœ  scons install</span><br><span class="line">âœ  scons -c</span><br></pre></td></tr></table></figure>

<p>æŠ¥é”™ï¼š<code>svn: error while loading shared libraries: libserf-1.so.1: cannot open shared object file: No such file or directory</code></p>
<p>è§£å†³ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/subversion/lib</span><br><span class="line">âœ  cp /usr/<span class="built_in">local</span>/serf/lib/libserf-1.so.1 ./</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="2-3-æ·»åŠ ç¯å¢ƒå˜é‡"><a href="#2-3-æ·»åŠ ç¯å¢ƒå˜é‡" class="headerlink" title="2.3. æ·»åŠ ç¯å¢ƒå˜é‡"></a>2.3. æ·»åŠ ç¯å¢ƒå˜é‡</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">echo</span> <span class="string">&quot;export PATH=/usr/local/subversion/bin:<span class="variable">$PATH</span>&quot;</span> &gt;&gt; /etc/profile</span><br><span class="line">âœ  <span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure>

<h4 id="2-4-éªŒè¯å®‰è£…"><a href="#2-4-éªŒè¯å®‰è£…" class="headerlink" title="2.4. éªŒè¯å®‰è£…"></a>2.4. éªŒè¯å®‰è£…</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn --version</span><br><span class="line">âœ  svnserve --version</span><br></pre></td></tr></table></figure>

<p>å½“é‡åˆ°ä¸‹é¢çš„é—®é¢˜æ—¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  svn --version</span><br><span class="line">svn: warning: cannot <span class="built_in">set</span> LC_CTYPE locale</span><br><span class="line">svn: warning: environment variable LC_CTYPE is UTF-8</span><br><span class="line">svn: warning: please check that your locale name is correct</span><br></pre></td></tr></table></figure>

<p>ä¿®å¤</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">echo</span> <span class="string">&#x27;export LC_ALL=C&#x27;</span> &gt;&gt; /etc/profile</span><br><span class="line">âœ  <span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>å¼€å‘å·¥å…·</category>
      </categories>
      <tags>
        <tag>å¼€å‘å·¥å…·</tag>
        <tag>ç‰ˆæœ¬ç®¡ç†</tag>
        <tag>svn</tag>
        <tag>Subversion</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQL int(M) ä¸­ M çš„ä½œç”¨</title>
    <url>/post/1100143026.html</url>
    <content><![CDATA[<p>åœ¨æ•°æ®åº“è®¾è®¡æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šè¿™æ ·è®¾ç½® <strong>int(M)</strong></p>
<p>âš ï¸ <strong>è¯¯åŒº</strong>ï¼š<em>å¤§éƒ¨åˆ†äººæŠŠè¿™ä¸ª M å½“åšèƒ½å¤Ÿå­˜å‚¨å¤šå°‘ä½çš„æ•°æ®ï¼Œå…¶å®ä¸ç„¶ï¼Œè¿™ä¸ªMè¡¨ç¤ºçš„æ˜¯â€œæ˜¾ç¤ºå®½åº¦â€ã€‚</em></p>
<p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šåœ¨å‰ç«¯çš„è¦æ˜¾ç¤ºä¸€ä¸ª <code>integer</code> ç±»å‹çš„æ•°æ®ï¼Œæ•°æ®åº“é‡Œè®¾ç½®å¯¹åº”çš„æ•°æ®ç±»å‹ <code>int(4)</code>ï¼Œä½†æ˜¯å†™å…¥çš„æ•°æ®ä¸è¶³ <code>4</code> ä½æ—¶ï¼Œé‚£ä¹ˆå°±ä¼šåœ¨å·¦ä¾§å¡«å……ç©ºæ ¼ï¼ˆå¦‚æœå¼€å¯ <code>zerofill</code>ï¼Œåˆ™å¡«å…… <code>0</code>ï¼‰ï¼Œä»¥ä¿è¯å¤Ÿ <code>4</code> ä½ï¼Œé‚£ä¹ˆåœ¨å‰ç«¯æ˜¾ç¤ºçš„æ—¶å€™å°±æ˜¯å¯¹åº” <code>4</code> ä¸ªå®½åº¦çš„è¦æ±‚äº†ã€‚</p>
<span id="more"></span>

<p><img data-src="https://static.sqiang.net/image%2Fpost%2Fmysql_int_m.png"></p>
<blockquote>
<p>å®˜æ–¹å¼ºè°ƒï¼Œç”¨ä¸ç”¨è¿™ä¸ª <code>M</code> ä¸»è¦å–å†³äºä½ ç¨‹åºçš„éœ€è¦ ï¼ˆ <code>Whether it is used or not is up to the application</code>ï¼‰ï¼Œå› ä¸ºè¿™ä¸ªâ€œ<strong>æ˜¾ç¤ºå®½åº¦</strong>â€å¹¶ä¸é™åˆ¶å¯ä»¥å­˜å‚¨åœ¨åˆ—ä¸­çš„å€¼çš„èŒƒå›´ã€‚</p>
</blockquote>
<p>ä»¥ä¸Šæ˜¯æ ¹æ®ä¸Šé¢å®˜æ–¹æˆªå›¾çš„ç†è§£ï¼Œè¯¦è§ï¼š<a href="http://dev.mysql.com/doc/refman/5.6/en/numeric-type-attributes.html">http://dev.mysql.com/doc/refman/5.6/en/numeric-type-attributes.html</a></p>
]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
        <tag>æ•°æ®åº“</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQL å¯¼å…¥æ•°æ®æ—¶æŸ¥çœ‹å®æ—¶è¿›åº¦</title>
    <url>/post/2437365066.html</url>
    <content><![CDATA[<h3 id="1-å®‰è£…-pv-å·¥å…·"><a href="#1-å®‰è£…-pv-å·¥å…·" class="headerlink" title="1. å®‰è£… pv å·¥å…·"></a>1. å®‰è£… pv å·¥å…·</h3><p>pv å…¨åä¸º Pipe Viewerï¼Œåˆ©ç”¨å®ƒæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹åˆ°å‘½ä»¤æ‰§è¡Œçš„è¿›åº¦ï¼Œæ›´å¤šåŠŸèƒ½è¯¦è§å…¶å‚æ•° <code>pv --help</code>ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># CentOS</span></span><br><span class="line">âœ  yum install pv</span><br><span class="line"></span><br><span class="line"><span class="comment"># Ubuntu</span></span><br><span class="line">âœ  sudo apt-get install pv</span><br></pre></td></tr></table></figure>

<h3 id="2-å¯¼å‡º"><a href="#2-å¯¼å‡º" class="headerlink" title="2. å¯¼å‡º"></a>2. å¯¼å‡º</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  pv -t -p back_20181109_020001.sql | mysql -uroot -p123123 -D dbname1</span><br><span class="line">Warning: Using a password on the <span class="built_in">command</span> line interface can be insecure.</span><br><span class="line">0:02:28 [======================================================================================================================&gt;] 100%</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
        <tag>æ•°æ®åº“</tag>
        <tag>pv</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQLä¸­ç´¢å¼•çš„ä½¿ç”¨</title>
    <url>/post/3209749235.html</url>
    <content><![CDATA[<h3 id="1-å…³äºç´¢å¼•"><a href="#1-å…³äºç´¢å¼•" class="headerlink" title="1. å…³äºç´¢å¼•"></a>1. å…³äºç´¢å¼•</h3><blockquote>
<p>åœ¨ MySQL ä¸­ï¼Œç´¢å¼•åœ¨å­˜å‚¨å¼•æ“å±‚å®ç°</p>
</blockquote>
<h4 id="1-1-ä½¿ç”¨ç´¢å¼•çš„å¥½å¤„"><a href="#1-1-ä½¿ç”¨ç´¢å¼•çš„å¥½å¤„" class="headerlink" title="1.1. ä½¿ç”¨ç´¢å¼•çš„å¥½å¤„"></a>1.1. ä½¿ç”¨ç´¢å¼•çš„å¥½å¤„</h4><ul>
<li>å¤§å¤§å‡å°‘å­˜å‚¨å¼•æ“éœ€è¦æ‰«æçš„æ•°æ®é‡</li>
<li>å¸®åŠ©æˆ‘ä»¬è¿›è¡Œæ’åºï¼Œä»¥é¿å…ä½¿ç”¨ä¸´æ—¶è¡¨</li>
<li>å¯ä»¥æŠŠéšæœº I/O æ”¹ä¸ºé¡ºåº I/O</li>
</ul>
<h4 id="1-2-å»ºç«‹åŸåˆ™"><a href="#1-2-å»ºç«‹åŸåˆ™" class="headerlink" title="1.2. å»ºç«‹åŸåˆ™"></a>1.2. å»ºç«‹åŸåˆ™</h4><ul>
<li><strong>é€‚é‡ï¼Œä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼ï¼ï¼</strong></li>
<li>è¿‡å¤šç´¢å¼•çš„å½±å“<ul>
<li>å¢åŠ å†™æ“ä½œçš„æˆæœ¬</li>
<li>å¢åŠ æŸ¥è¯¢ä¼˜åŒ–å™¨çš„é€‰æ‹©æ—¶é—´</li>
</ul>
</li>
</ul>
<span id="more"></span>

<h3 id="2-ç´¢å¼•æ–¹å¼"><a href="#2-ç´¢å¼•æ–¹å¼" class="headerlink" title="2. ç´¢å¼•æ–¹å¼"></a>2. ç´¢å¼•æ–¹å¼</h3><h4 id="2-1-BTREE"><a href="#2-1-BTREE" class="headerlink" title="2.1. BTREE"></a>2.1. BTREE</h4><ul>
<li><p>ç‰¹ç‚¹</p>
<ul>
<li>ä»¥ <code>B+</code> çš„ç»“æ„å­˜å‚¨æ•°æ®</li>
<li>åŠ å¿«æ•°æ®çš„æŸ¥è¯¢é€Ÿåº¦</li>
<li>æ›´é€‚åˆè¿›è¡ŒèŒƒå›´æŸ¥æ‰¾</li>
</ul>
</li>
<li><p>é€‚ç”¨åœºæ™¯</p>
<ul>
<li>å…¨å€¼åŒ¹é…çš„æŸ¥è¯¢</li>
<li>åŒ¹é…æœ€å·¦å‰ç¼€çš„æŸ¥è¯¢</li>
<li>åŒ¹é…åˆ—å‰ç¼€æŸ¥è¯¢</li>
<li>åŒ¹é…èŒƒå›´å€¼çš„æŸ¥è¯¢</li>
<li>ç²¾ç¡®åŒ¹é…å·¦å‰åˆ—å¹¶èŒƒå›´åŒ¹é…å¦å¤–ä¸€åˆ—</li>
<li>åªè®¿é—®ç´¢å¼•çš„æŸ¥è¯¢</li>
</ul>
</li>
<li><p>é™åˆ¶</p>
<ul>
<li>å¦‚æœä¸æ˜¯æŒ‰ç…§ç´¢å¼•æœ€å·¦åˆ—å¼€å§‹æŸ¥æ‰¾ï¼Œåˆ™æ— æ³•ä½¿ç”¨ç´¢å¼•</li>
<li>ä½¿ç”¨ç´¢å¼•æ—¶ä¸èƒ½è·³è¿‡ç´¢å¼•ä¸­çš„åˆ—</li>
<li><code>NOT IN</code> å’Œ <code>&lt;&gt;</code> æ“ä½œæ— æ³•ä½¿ç”¨ç´¢å¼•</li>
<li>å¦‚æœæŸ¥è¯¢ä¸­æœ‰æŸä¸ªåˆ—çš„èŒƒå›´æŸ¥è¯¢ï¼Œåˆ™å³è¾¹æ‰€æœ‰åˆ—éƒ½æ— æ³•ä½¿ç”¨ç´¢å¼•</li>
</ul>
</li>
</ul>
<h4 id="2-2-HASH"><a href="#2-2-HASH" class="headerlink" title="2.2. HASH"></a>2.2. HASH</h4><ul>
<li><p>ç‰¹ç‚¹</p>
<ul>
<li>åŸºäº Hash è¡¨å®ç°</li>
<li>åªæœ‰æŸ¥è¯¢è°ƒä»·ç²¾ç¡®åŒ¹é… Hash ç´¢å¼•ä¸­çš„æ‰€æœ‰åˆ—æ—¶ï¼Œæ‰èƒ½å¤Ÿä½¿ç”¨åˆ° Hash ç´¢å¼•</li>
<li>å¯¹äº Hash ç´¢å¼•ä¸­çš„æ‰€æœ‰åˆ—ï¼Œå­˜å‚¨å¼•æ“éƒ½ä¼šä¸ºæ¯ä¸€è¡Œè®¡ç®—ä¸€ä¸ª Hash ç ï¼ŒHash ç´¢å¼•ä¸­å­˜å‚¨çš„å°±æ˜¯ Hash ç ã€‚</li>
</ul>
</li>
<li><p>é€‚ç”¨åœºæ™¯</p>
</li>
<li><p>é™åˆ¶</p>
<ul>
<li>å¿…é¡»è¿›è¡ŒäºŒæ¬¡æŸ¥æ‰¾ï¼šå…ˆ Hash ç å®šä½åˆ°è¡Œï¼Œå†æ‰¾åˆ°å…·ä½“æ•°æ®</li>
<li>æ— æ³•ç”¨äºæ’åº</li>
<li>ä¸æ”¯æŒéƒ¨åˆ†ç´¢å¼•æŸ¥æ‰¾ã€ä¹Ÿä¸æ”¯æŒèŒƒå›´æŸ¥æ‰¾</li>
<li>Hash ç çš„è®¡ç®—å¯èƒ½å­˜åœ¨ Hash å†²çª</li>
</ul>
</li>
</ul>
<h4 id="3-å»ºè®®"><a href="#3-å»ºè®®" class="headerlink" title="3. å»ºè®®"></a>3. å»ºè®®</h4><ul>
<li>ç´¢å¼•åˆ—ä¸Šä¸èƒ½ä½¿ç”¨è¡¨è¾¾å¼æˆ–å‡½æ•°</li>
<li>å»ºç«‹è”åˆç´¢å¼•æ—¶å¦‚ä½•é€‰æ‹©ç´¢å¼•åˆ—çš„é¡ºåº<ul>
<li>ç»å¸¸è¢«ä½¿ç”¨åˆ°çš„åˆ—ä¼˜å…ˆ</li>
<li>é€‰æ‹©æ€§é«˜çš„åˆ—ä¼˜å…ˆ</li>
<li>å®½åº¦å°çš„åˆ—ä¼˜å…ˆ</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
        <tag>æ•°æ®åº“</tag>
        <tag>ç´¢å¼•</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQLä¹‹æ•°æ®åº“ç»“æ„è®¾è®¡</title>
    <url>/post/2048329622.html</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡ä¸»è¦ä»‹ç»äº†åœ¨æ•°æ®åº“ç»“æ„è®¾è®¡è¿‡ç¨‹ä¸­éœ€è¦è€ƒè™‘çš„ä¸€äº›é—®é¢˜ï¼Œæ¥æºäºä»¥å¾€å·¥ä½œã€é¡¹ç›®ç»å†ä»¥åŠç½‘ç»œèµ„æ–™ç­‰ï¼Œå¦‚æœæœ‰ä¸å‡†ç¡®çš„åœ°æ–¹ï¼Œæ¬¢è¿æŒ‡æ­£äº¤æµã€‚</p>
</blockquote>
<p>åœ¨æ•°æ®åº“ç»“æ„çš„è®¾è®¡è¿‡ç¨‹ä¸­ï¼ŒåŠ¡å¿…æ³¨æ„ä»¥ä¸‹ä¸¤ç‚¹ï¼š</p>
<ul>
<li>å‡å°‘æ•°æ®å†—ä½™ï¼ŒèŠ‚çº¦æ•°æ®åº“å­˜å‚¨ç©ºé—´ï¼›</li>
<li>å°½é‡é¿å…åœ¨æ•°æ®ç»´æŠ¤è¿‡ç¨‹ä¸­å‡ºç°æ›´æ–°ã€æ’å…¥ã€åˆ é™¤å¼‚å¸¸ã€‚</li>
</ul>
<p>ä¸€èˆ¬æˆ‘ä»¬æŒ‰ç…§å¦‚ä¸‹æ­¥éª¤å¼€å§‹ï¼š</p>
<ol>
<li><strong>éœ€æ±‚åˆ†æ</strong>ï¼šå…¨é¢äº†è§£äº§å“è®¾è®¡çš„å­˜å‚¨éœ€æ±‚ï¼Œä¿è¯æ•°æ®çš„å®‰å…¨æ€§å’Œå®Œæ•´æ€§</li>
<li><strong>é€»è¾‘è®¾è®¡</strong>ï¼šè®¾è®¡æ•°æ®çš„é€»è¾‘å­˜å‚¨ç»“æ„ï¼Œå¤„ç†æ•°æ®å®ä½“ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼Œè§£å†³æ•°æ®å†—ä½™å’Œæ•°æ®ç»´æŠ¤å¼‚å¸¸</li>
<li><strong>ç‰©ç†è®¾è®¡</strong>ï¼šæ ¹æ®å…·ä½“æ‰€ä½¿ç”¨æ•°æ®åº“çš„ç‰¹ç‚¹è¿›è¡Œè¡¨ç»“æ„è®¾è®¡</li>
<li><strong>ç»´æŠ¤ä¼˜åŒ–</strong>ï¼šæ ¹æ®å®é™…æƒ…å†µï¼Œå¯¹ç´¢å¼•ã€å­˜å‚¨ç»“æ„ç­‰è¿›è¡Œä¼˜åŒ–</li>
</ol>
<p>å…¶ä¸­ 1ã€2 æ˜¯ç¡®ç«‹å¤§æ–¹å‘ï¼›3 æ˜¯å¯¹ 1ã€2 çš„å…·ä½“å®æ–½ï¼ˆæœ¬æ–‡ä¼šä»‹ç»ä¸€äº›æ³¨æ„äº‹é¡¹å’Œå»ºè®®ï¼Œè¯¦è§ä¸‹æ–‡ï¼‰ï¼›4 æ˜¯åæœŸçš„è¿­ä»£ä¼˜åŒ–ã€‚</p>
<span id="more"></span>

<h3 id="1-å¦‚ä½•è¿›è¡Œç‰©ç†è®¾è®¡"><a href="#1-å¦‚ä½•è¿›è¡Œç‰©ç†è®¾è®¡" class="headerlink" title="1. å¦‚ä½•è¿›è¡Œç‰©ç†è®¾è®¡"></a>1. å¦‚ä½•è¿›è¡Œç‰©ç†è®¾è®¡</h3><h4 id="1-1-å®šä¹‰æ•°æ®åº“ã€è¡¨ã€å­—æ®µçš„å‘½åè§„èŒƒ"><a href="#1-1-å®šä¹‰æ•°æ®åº“ã€è¡¨ã€å­—æ®µçš„å‘½åè§„èŒƒ" class="headerlink" title="1.1. å®šä¹‰æ•°æ®åº“ã€è¡¨ã€å­—æ®µçš„å‘½åè§„èŒƒ"></a>1.1. å®šä¹‰æ•°æ®åº“ã€è¡¨ã€å­—æ®µçš„å‘½åè§„èŒƒ</h4><ul>
<li>å¯è¯»æ€§</li>
<li>è¡¨æ„æ€§</li>
<li>é•¿å</li>
</ul>
<h4 id="1-2-é€‰æ‹©åˆé€‚çš„å­˜å‚¨å¼•æ“"><a href="#1-2-é€‰æ‹©åˆé€‚çš„å­˜å‚¨å¼•æ“" class="headerlink" title="1.2. é€‰æ‹©åˆé€‚çš„å­˜å‚¨å¼•æ“"></a>1.2. é€‰æ‹©åˆé€‚çš„å­˜å‚¨å¼•æ“</h4><h5 id="1-2-0-å¦‚ä½•é€‰æ‹©"><a href="#1-2-0-å¦‚ä½•é€‰æ‹©" class="headerlink" title="1.2.0. å¦‚ä½•é€‰æ‹©"></a>1.2.0. å¦‚ä½•é€‰æ‹©</h5><ol>
<li>é¦–é€‰ <code>InnoDB</code>ï¼Œé€‚ç”¨äºå¤§éƒ¨åˆ†åœºæ™¯</li>
<li>å‚è€ƒå› ç´ ï¼šäº‹åŠ¡ã€å¤‡ä»½ã€å´©æºƒæ¢å¤ã€å„å­˜å‚¨å¼•æ“çš„ä¸“æœ‰ç‰¹æ€§ï¼ˆè¯¦è§ä¸‹æ–‡ï¼‰</li>
<li>æ³¨æ„ï¼š<strong>å°½é‡ä¸è¦æ··åˆä½¿ç”¨å¤šç§å­˜å‚¨å¼•æ“</strong></li>
</ol>
<h5 id="1-2-1-MyISAM"><a href="#1-2-1-MyISAM" class="headerlink" title="1.2.1. MyISAM"></a>1.2.1. MyISAM</h5><p><code>v5.5 ä¹‹å‰é»˜è®¤</code></p>
<p>æ–‡ä»¶ç»„æˆ</p>
<ul>
<li><code>.frm</code> è¡¨ç»“æ„</li>
<li><code>.MYD</code> æ•°æ®</li>
<li><code>.MYI</code> ç´¢å¼•</li>
</ul>
<p>ç‰¹æ€§</p>
<ul>
<li>è¡¨çº§é”</li>
<li>åŸºæœ¬çš„è¡¨æŸåä¿®å¤ï¼Œéäº‹åŠ¡æ€§ï¼Œä¼šé€ æˆæ•°æ®ä¸¢å¤±</li>
<li>æ”¯æŒã€Œå…¨æ–‡ç´¢å¼•ã€</li>
<li>æ”¯æŒæ•°æ®å‹ç¼©ï¼ˆ<strong>å‹ç¼©ä¹‹ååªæ”¯æŒè¯»æ“ä½œ</strong>ï¼‰</li>
</ul>
<p>é™åˆ¶</p>
<ul>
<li>å°äº v5.0 ç‰ˆæœ¬æ—¶ï¼Œå•è¡¨é»˜è®¤å¤§å° <code>4G</code></li>
<li>å¤§äº v5.0 ç‰ˆæœ¬ï¼Œå•è¡¨é»˜è®¤ <code>256TB</code></li>
</ul>
<p>é€‚ç”¨åœºæ™¯</p>
<ul>
<li>éäº‹åŠ¡å‹åº”ç”¨</li>
<li>åªè¯»ç±»åº”ç”¨ï¼ˆå¦‚ï¼šæ•°æ®æŠ¥è¡¨ï¼‰</li>
<li>ç©ºé—´ç±»åº”ç”¨ï¼ˆå¦‚ï¼šGPSï¼‰</li>
</ul>
<h5 id="1-2-2-InnoDB"><a href="#1-2-2-InnoDB" class="headerlink" title="1.2.2. InnoDB"></a>1.2.2. InnoDB</h5><p><code>v5.58 ä¹‹åé»˜è®¤</code></p>
<p>ä½¿ç”¨è¡¨ç©ºé—´è¿›è¡Œæ•°æ®å­˜å‚¨ï¼Œé€šè¿‡é…ç½®å‚æ•° <code>innodb_file_per_table</code></p>
<ul>
<li><p><code>ON</code> ç‹¬ç«‹è¡¨ç©ºé—´ï¼ˆ<code>v5.6</code> ä¹‹åé»˜è®¤ï¼‰</p>
<ul>
<li>tablename.ibd æ•°æ®</li>
<li>tablename.frm è¡¨ç»“æ„</li>
</ul>
</li>
<li><p><code>OFF</code> ç³»ç»Ÿè¡¨ç©ºé—´</p>
<ul>
<li>ibdata[1 ~ n]</li>
</ul>
</li>
</ul>
<p>ç‰¹æ€§</p>
<ul>
<li>äº‹åŠ¡æ€§å­˜å‚¨å¼•æ“</li>
<li>å®Œå…¨æ”¯æŒäº‹åŠ¡çš„ ACID ç‰¹æ€§</li>
<li>æ—¥å¿—<ul>
<li><code>Redo Log</code> å·²æäº¤çš„äº‹åŠ¡</li>
<li><code>Undo Log</code> æœªæäº¤çš„äº‹åŠ¡</li>
</ul>
</li>
<li>æ”¯æŒè¡Œçº§é”<ul>
<li>å¯ä»¥æœ€å¤§ç¨‹åº¦æ”¯æŒå¹¶å‘</li>
<li>ç”±å­˜å‚¨å¼•æ“å±‚å®ç°</li>
<li>å…³äºé”<ul>
<li>ä¸»è¦ä½œç”¨æ˜¯ç®¡ç†å…±äº«èµ„æºçš„å¹¶å‘è®¿é—®</li>
<li>ç”¨äºå®ç°äº‹åŠ¡çš„éš”ç¦»æ€§</li>
<li>å¸¸ç”¨ç±»å‹<ul>
<li>å…±äº«é”ï¼ˆè¯»é”ï¼‰</li>
<li>ç‹¬å é”ï¼ˆå†™é”ï¼‰</li>
</ul>
</li>
<li>å¸¸ç”¨é”ç²’åº¦ï¼ˆç­–ç•¥ï¼‰<ul>
<li>è¡¨çº§</li>
<li>è¡Œçº§</li>
</ul>
</li>
<li>å…¶å®ƒ<ul>
<li>é˜»å¡</li>
<li>æ­»é”</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>çŠ¶æ€æ£€æŸ¥<ul>
<li><code>show engine innodb status</code></li>
</ul>
</li>
</ul>
<h5 id="1-2-3-CSV"><a href="#1-2-3-CSV" class="headerlink" title="1.2.3. CSV"></a>1.2.3. CSV</h5><p>æ–‡ä»¶ç»„æˆ</p>
<ul>
<li><code>.CSV</code> è¡¨å†…å®¹</li>
<li><code>.CSM</code> è¡¨çš„å…ƒæ•°æ®ï¼Œå¦‚è¡¨çŠ¶æ€ã€æ•°æ®é‡</li>
<li><code>.frm</code> è¡¨ç»“æ„</li>
</ul>
<p>ç‰¹æ€§</p>
<ul>
<li>æ•°æ®ä»¥æ–‡æœ¬æ–¹å¼å­˜å‚¨åœ¨æ–‡ä»¶ä¸­</li>
<li>æ‰€æœ‰åˆ—ä¸èƒ½ä¸º NULL</li>
<li>ä¸æ”¯æŒç´¢å¼•ï¼ˆä¸é€‚åˆå¤§è¡¨ã€åœ¨çº¿å¤„ç†ï¼‰</li>
<li>å¯¹æ•°æ®æ–‡ä»¶ç›´æ¥ç¼–è¾‘</li>
</ul>
<p>é€‚ç”¨åœºæ™¯</p>
<ul>
<li>æ•°æ®äº¤äº’çš„ä¸­é—´è¡¨</li>
</ul>
<h5 id="1-2-4-ARCHIVE"><a href="#1-2-4-ARCHIVE" class="headerlink" title="1.2.4. ARCHIVE"></a>1.2.4. ARCHIVE</h5><p>ä»¥ <code>zlib</code> å¯¹è¡¨æ•°æ®è¿›è¡Œå‹ç¼©ï¼Œç£ç›˜ I/O æ›´å°‘</p>
<p>æ–‡ä»¶ç»„æˆ</p>
<ul>
<li><code>.ARZ</code> æ•°æ®</li>
<li><code>.frm</code> è¡¨ç»“æ„</li>
</ul>
<p>ç‰¹æ€§</p>
<ul>
<li>åªæ”¯æŒ insert å’Œ select æ“ä½œ</li>
<li>åªæ”¯æŒåœ¨è‡ªå¢ ID åˆ—ä¸Šæ·»åŠ ç´¢å¼•</li>
</ul>
<p>é€‚ç”¨åœºæ™¯</p>
<ul>
<li>æ—¥å¿—å’Œæ•°æ®é‡‡é›†ç±»</li>
</ul>
<h5 id="1-2-5-MEMORY"><a href="#1-2-5-MEMORY" class="headerlink" title="1.2.5. MEMORY"></a>1.2.5. MEMORY</h5><p>ä¹Ÿè¢«ç§°ä¸º <code>HEAP</code> å­˜å‚¨å¼•æ“ï¼Œæ‰€æœ‰æ•°æ®ä¿å­˜åœ¨å†…å­˜ä¸­</p>
<p>æ–‡ä»¶ç»„æˆ</p>
<ul>
<li>.frm è¡¨ç»“æ„</li>
</ul>
<p>ç‰¹æ€§</p>
<ul>
<li>æ”¯æŒçš„ç´¢å¼•ç±»å‹<ul>
<li>HASHï¼ˆé»˜è®¤ï¼Œé€‚ç”¨äºï¼šç­‰å€¼æŸ¥æ‰¾ï¼‰</li>
<li>BTreeï¼ˆé€‚ç”¨äºï¼šèŒƒå›´æŸ¥æ‰¾ï¼‰</li>
</ul>
</li>
<li>æ‰€æœ‰å­—æ®µéƒ½æ˜¯å›ºå®šé•¿åº¦</li>
<li>ä¸æ”¯æŒ <code>BLOG</code> å’Œ <code>TEXT</code> ç­‰å¤§å­—æ®µ</li>
<li>ä½¿ç”¨è¡¨çº§é”</li>
<li>å•è¡¨å¤§å°ç”±å‚æ•° <code>max_heap_table_size</code> å†³å®šï¼ˆé»˜è®¤ 16Mï¼‰</li>
</ul>
<p>é€‚ç”¨åœºæ™¯</p>
<ul>
<li>æŸ¥æ‰¾æˆ–æ˜ å°„ç±»ï¼Œå¦‚ï¼šé‚®ç¼–å’Œåœ°åŒºå¯¹åº”</li>
<li>ä¿å­˜æ•°æ®åˆ†æä¸­äº§ç”Ÿçš„ä¸­é—´è¡¨</li>
<li>ç¼“å­˜å‘¨æœŸæ€§èšåˆæ•°æ®çš„ç»“æœè¡¨</li>
</ul>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼š</p>
<ul>
<li><strong>æ•°æ®æ˜“ä¸¢å¤±ï¼Œæ‰€ä»¥è¦æ±‚æ•°æ®æ˜¯å¯å†ç”Ÿçš„</strong>ã€‚</li>
</ul>
<h5 id="1-2-6-FEDERATED-ï¼Ÿ"><a href="#1-2-6-FEDERATED-ï¼Ÿ" class="headerlink" title="1.2.6. FEDERATED ï¼Ÿ"></a>1.2.6. FEDERATED ï¼Ÿ</h5><p>é»˜è®¤ç¦æ­¢ï¼Œå¯ç”¨éœ€è¦åœ¨å¯åŠ¨æ—¶è¿½åŠ  federated å‚æ•°ï¼ˆ<code>federated=1</code>ï¼‰</p>
<p>ç‰¹æ€§</p>
<ul>
<li>æä¾›äº†è®¿é—®è¿œç¨‹ MySQL æœåŠ¡å™¨ä¸Šè¡¨çš„æ–¹æ³•</li>
<li>æœ¬åœ°ä¸å­˜å‚¨æ•°æ®ï¼Œæ•°æ®å…¨éƒ¨å­˜æ”¾åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Š</li>
<li>æœ¬åœ°éœ€è¦ä¿å­˜è¡¨ç»“æ„å’Œè¿œç¨‹æœåŠ¡å™¨çš„è¿æ¥ä¿¡æ¯</li>
</ul>
<p>é€‚ç”¨åœºæ™¯</p>
<ul>
<li>å¶å°”çš„ç»Ÿè®¡åˆ†æåŠæ‰‹å·¥æŸ¥è¯¢</li>
</ul>
<h4 id="1-3-ä¸ºè¡¨ä¸­å­—æ®µé€‰æ‹©åˆé€‚çš„æ•°æ®ç±»å‹"><a href="#1-3-ä¸ºè¡¨ä¸­å­—æ®µé€‰æ‹©åˆé€‚çš„æ•°æ®ç±»å‹" class="headerlink" title="1.3. ä¸ºè¡¨ä¸­å­—æ®µé€‰æ‹©åˆé€‚çš„æ•°æ®ç±»å‹"></a>1.3. ä¸ºè¡¨ä¸­å­—æ®µé€‰æ‹©åˆé€‚çš„æ•°æ®ç±»å‹</h4><h5 id="1-3-1-åŸºæœ¬åŸåˆ™"><a href="#1-3-1-åŸºæœ¬åŸåˆ™" class="headerlink" title="1.3.1. åŸºæœ¬åŸåˆ™"></a>1.3.1. åŸºæœ¬åŸåˆ™</h5><ul>
<li>å½“ä¸€ä¸ªåˆ—å¯ä»¥é€‰æ‹©å¤šç§æ•°æ®ç±»å‹æ—¶ï¼Œåº”è¯¥<strong>ä¼˜å…ˆé€‰æ‹©æ•°å­—ç±»å‹</strong>ï¼Œå…¶æ¬¡æ˜¯æ—¥æœŸæˆ–äºŒè¿›åˆ¶ç±»å‹ï¼Œæœ€åæ˜¯å­—ç¬¦ç±»å‹ã€‚</li>
<li>å¯¹äºç›¸åŒçº§åˆ«çš„æ•°æ®ç±»å‹ï¼Œåº”è¯¥<strong>ä¼˜å…ˆé€‰æ‹©å ç”¨ç©ºé—´å°çš„</strong>ã€‚</li>
</ul>
<h5 id="1-3-2-æ•´æ•°ç±»å‹"><a href="#1-3-2-æ•´æ•°ç±»å‹" class="headerlink" title="1.3.2. æ•´æ•°ç±»å‹"></a>1.3.2. æ•´æ•°ç±»å‹</h5><table>
<thead>
<tr>
<th>åˆ—ç±»å‹</th>
<th>å­˜å‚¨ç©ºé—´</th>
<th>å–å€¼èŒƒå›´ï¼ˆSIGNEDï¼‰</th>
<th>å–å€¼èŒƒå›´ï¼ˆUNSIGNEDï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td><strong>tinyint</strong></td>
<td>1 ä¸ªå­—èŠ‚</td>
<td><code>-128</code> ~ <code>127</code></td>
<td><code>0</code> ~ <code>255</code></td>
</tr>
<tr>
<td><strong>smallint</strong></td>
<td>2 ä¸ªå­—èŠ‚</td>
<td><code>-3276</code> ~ <code>3276</code></td>
<td><code>0</code> ~ <code>65535</code></td>
</tr>
<tr>
<td><strong>mediumint</strong></td>
<td>3 ä¸ªå­—èŠ‚</td>
<td><code>-8388608</code> ~ <code>8388607</code></td>
<td><code>0</code> ~ <code>16777215</code></td>
</tr>
<tr>
<td><strong>int</strong></td>
<td>4 ä¸ªå­—èŠ‚</td>
<td><code>-2147483648</code> ~ <code>2147483647</code></td>
<td><code>0</code> ~ <code>4294967295</code></td>
</tr>
<tr>
<td><strong>bigint</strong></td>
<td>8 ä¸ªå­—èŠ‚</td>
<td><code>-9223372036854775808</code> ~ <code>9223372036854775807</code></td>
<td><code>0    </code> ~ <code>18446744073709551615</code></td>
</tr>
</tbody></table>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼š</p>
<ul>
<li>æ•´å‹é»˜è®¤ <code>SIGNED</code> æœ‰ç¬¦å·</li>
<li>åé¢æ‹¬å·ä¸­çš„æ•°å­—ï¼Œè¡¨ç¤ºçš„æ˜¯æ˜¾ç¤ºå®½åº¦ï¼Œä¸è¡¨ç¤ºé•¿åº¦ï¼Œå‚è§è¿™ç¯‡æ–‡ç« ï¼š<a href="https://blog.sqiang.net/post/1100143026.html">MySQL int(M) ä¸­ M çš„ä½œç”¨</a></li>
</ul>
<h5 id="1-3-3-å®æ•°ç±»å‹"><a href="#1-3-3-å®æ•°ç±»å‹" class="headerlink" title="1.3.3. å®æ•°ç±»å‹"></a>1.3.3. å®æ•°ç±»å‹</h5><table>
<thead>
<tr>
<th>åˆ—ç±»å‹</th>
<th>å­˜å‚¨ç©ºé—´</th>
<th>æ˜¯å¦ç²¾ç¡®ç±»å‹</th>
</tr>
</thead>
<tbody><tr>
<td><strong>float</strong></td>
<td>4 ä¸ªå­—èŠ‚</td>
<td>å¦</td>
</tr>
<tr>
<td><strong>double</strong></td>
<td>8 ä¸ªå­—èŠ‚</td>
<td>å¦</td>
</tr>
<tr>
<td><strong>decimal</strong></td>
<td>æ¯ 4 ä¸ªå­—èŠ‚å­˜ 9 ä¸ªæ•°å­—ï¼Œå°æ•°ç‚¹å ä¸€ä¸ªå­—èŠ‚</td>
<td>æ˜¯</td>
</tr>
</tbody></table>
<h5 id="1-3-4-å­—ç¬¦ä¸²ç±»å‹"><a href="#1-3-4-å­—ç¬¦ä¸²ç±»å‹" class="headerlink" title="1.3.4. å­—ç¬¦ä¸²ç±»å‹"></a>1.3.4. å­—ç¬¦ä¸²ç±»å‹</h5><ul>
<li><strong>varchar</strong><ul>
<li><code>ç‰¹ç‚¹</code><ul>
<li>å­˜å‚¨<strong>å˜é•¿</strong>å­—ç¬¦ä¸²ï¼Œåªå ç”¨å¿…è¦çš„å­˜å‚¨ç©ºé—´</li>
<li>åˆ—çš„æœ€å¤§é•¿åº¦å°äº 255ï¼Œåˆ™åªå ç”¨ä¸€ä¸ªå­—èŠ‚ç”¨äºè®°å½•å­—ç¬¦ä¸²é•¿åº¦ã€‚</li>
<li>åˆ—çš„æœ€å¤§é•¿åº¦å¤§äº 255ï¼Œåˆ™è¦å ç”¨ä¸¤ä¸ªå­—èŠ‚ç”¨äºè®°å½•å­—ç¬¦ä¸²é•¿åº¦ã€‚</li>
</ul>
</li>
<li><code>é•¿åº¦ï¼ˆå®½åº¦ï¼‰é—®é¢˜</code><ul>
<li>ä½¿ç”¨æœ€å°çš„ç¬¦åˆéœ€æ±‚çš„é•¿åº¦ï¼ˆæ ¹æ®å®é™…æƒ…å†µï¼Œä¿ç•™ä¸€å®šçš„ç©ºé—´ï¼‰</li>
</ul>
</li>
<li><code>é€‚ç”¨åœºæ™¯</code><ul>
<li>åˆ—çš„æœ€å¤§é•¿åº¦æ¯”å¹³å‡é•¿åº¦å¤§å¾ˆå¤š</li>
<li>åˆ—å¾ˆå°‘è¢«æ›´æ–°</li>
<li>ä½¿ç”¨äº†å¤šå­—èŠ‚çš„å­—ç¬¦é›†å­˜å‚¨å­—ç¬¦ä¸²</li>
</ul>
</li>
</ul>
</li>
<li><strong>char</strong><ul>
<li><code>ç‰¹ç‚¹</code><ul>
<li><strong>å®šé•¿</strong></li>
<li>æœ«å°¾çš„ç©ºæ ¼ä¼šè¢«åˆ é™¤</li>
<li>æœ€å¤§å®½åº¦ 255</li>
</ul>
</li>
<li><code>é€‚ç”¨åœºæ™¯</code><ul>
<li>é€‚åˆå­˜å‚¨é•¿åº¦è¿‘ä¼¼çš„å€¼</li>
<li>çŸ­å°çš„å­—ç¬¦ä¸²</li>
<li>å­˜å‚¨ç»å¸¸è¢«æ›´æ–°çš„å­—ç¬¦ä¸²</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="1-3-5-æ—¥æœŸç±»å‹"><a href="#1-3-5-æ—¥æœŸç±»å‹" class="headerlink" title="1.3.5. æ—¥æœŸç±»å‹"></a>1.3.5. æ—¥æœŸç±»å‹</h5><ul>
<li><p><strong>datetime</strong></p>
<ul>
<li>ç²¾åº¦<ul>
<li><code>ç§’</code> v5.6 ä¹‹å‰</li>
<li><code>å¾®å¦™</code> v5.6 ä¹‹å datime(6)</li>
</ul>
</li>
<li>ä¸æ—¶åŒºæ— å…³</li>
<li>å ç”¨ 8 ä¸ªå­—èŠ‚å­˜å‚¨é•¿åº¦</li>
<li>æ—¶é—´èŒƒå›´ <code>1000-01-01 00:00:00 åˆ° 9999-12-31 23:59:59</code></li>
</ul>
</li>
<li><p><strong>timestamp</strong></p>
<ul>
<li>åªå ç”¨ 4 ä¸ªå­—èŠ‚</li>
<li>æ—¶é—´èŒƒå›´ <code>1970-01-01 åˆ° 2038-01-19</code></li>
<li><strong>ä¾èµ–äºæŒ‡å®šçš„æ—¶åŒº</strong></li>
<li>åœ¨è¡Œçš„æ•°æ®è¢«ä¿®æ”¹æ—¶ï¼Œå¯ä»¥è‡ªåŠ¨ä¿®æ”¹ TIMESTAMP åˆ—çš„å€¼ã€‚</li>
</ul>
</li>
<li><p>MySQL v5.6 æ–°å¢äº† <code>date</code>ï¼ˆåªéœ€è¦ 3 ä¸ªå­—èŠ‚ï¼‰ã€<code>time</code> ï¼Œå¯æ ¹æ®éœ€è¦äº†è§£ã€‚</p>
</li>
</ul>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼š</p>
<ul>
<li>ä¸è¦ä½¿ç”¨å­—ç¬¦ä¸²ç±»å‹æ¥å­˜å‚¨æ—¥æœŸæ•°æ®</li>
<li>ä½¿ç”¨ <code>int</code> å­˜å‚¨æ—¥æœŸæ—¶é—´ä¸å¦‚ç›´æ¥ä½¿ç”¨ <code>timestamp</code> ç±»å‹</li>
</ul>
<h4 id="1-4-å»ºç«‹æ•°æ®åº“ç»“æ„"><a href="#1-4-å»ºç«‹æ•°æ®åº“ç»“æ„" class="headerlink" title="1.4. å»ºç«‹æ•°æ®åº“ç»“æ„"></a>1.4. å»ºç«‹æ•°æ®åº“ç»“æ„</h4><p>æ ¹æ®å‰ 3 ç‚¹ç»™å‡ºçš„å»ºè®®å’Œæ³¨æ„äº‹é¡¹ï¼Œç»“åˆå…·ä½“ä¸šåŠ¡ï¼Œä¾æ¬¡å»ºç«‹æ¯ä¸€ä¸ªæ•°æ®è¡¨ã€‚</p>
<h3 id="2-å…³äºèŒƒå¼åŒ–"><a href="#2-å…³äºèŒƒå¼åŒ–" class="headerlink" title="2. å…³äºèŒƒå¼åŒ–"></a>2. å…³äºèŒƒå¼åŒ–</h3><h4 id="2-1-ä»€ä¹ˆæ˜¯ä¸‰èŒƒå¼"><a href="#2-1-ä»€ä¹ˆæ˜¯ä¸‰èŒƒå¼" class="headerlink" title="2.1. ä»€ä¹ˆæ˜¯ä¸‰èŒƒå¼"></a>2.1. ä»€ä¹ˆæ˜¯ä¸‰èŒƒå¼</h4><ul>
<li><strong>ç¬¬ä¸€èŒƒå¼</strong><ul>
<li>è¡¨ä¸­æ‰€æœ‰å­—æ®µéƒ½åªå…·æœ‰å•ä¸€å±æ€§</li>
<li>å•ä¸€å±æ€§çš„åˆ—ç”±åŸºæœ¬çš„æ•°æ®ç±»å‹æ‰€æ„æˆ</li>
<li>è®¾è®¡å‡ºæ¥çš„è¡¨éƒ½æ˜¯ç®€å•çš„äºŒç»´è¡¨</li>
</ul>
</li>
<li><strong>ç¬¬äºŒèŒƒå¼</strong><ul>
<li>ä»¥ã€Œç¬¬ä¸€èŒƒå¼ã€ä¸ºåŸºç¡€</li>
<li>ä¸€ä¸ªä¸šåŠ¡è¡¨ä¸­åªèƒ½æœ‰ä¸€ä¸ªä¸šåŠ¡ä¸»é”®</li>
</ul>
</li>
<li><strong>ç¬¬ä¸‰èŒƒå¼</strong><ul>
<li>ä»¥ã€Œç¬¬äºŒèŒƒå¼ã€ä¸ºåŸºç¡€</li>
<li>æ¯ä¸€ä¸ªéä¸»å±æ€§æ—¢ä¸éƒ¨åˆ†ä¾èµ–ä¹Ÿä¸ä¼ é€’ä¾èµ–äºä¸šåŠ¡ä¸»é”®</li>
</ul>
</li>
</ul>
<h4 id="2-2-ä»€ä¹ˆæ˜¯åèŒƒå¼åŒ–"><a href="#2-2-ä»€ä¹ˆæ˜¯åèŒƒå¼åŒ–" class="headerlink" title="2.2. ä»€ä¹ˆæ˜¯åèŒƒå¼åŒ–"></a>2.2. ä»€ä¹ˆæ˜¯åèŒƒå¼åŒ–</h4><p>ä»¥ç©ºé—´æ¢æ—¶é—´ï¼Œè¿›è¡Œé€‚å½“çš„å†—ä½™ï¼Œä»¥æé«˜æŸ¥è¯¢æ•ˆç‡</p>
<h4 id="2-3-å¦‚ä½•é€‰æ‹©"><a href="#2-3-å¦‚ä½•é€‰æ‹©" class="headerlink" title="2.3. å¦‚ä½•é€‰æ‹©"></a>2.3. å¦‚ä½•é€‰æ‹©</h4><p>å¯¹æ¯”ä¼˜ç¼ºç‚¹å¦‚ä¸‹ï¼Œå»ºè®®<strong>æ ¹æ®ä¸šåŠ¡éœ€è¦åˆç†çš„ç»“åˆäºŒè€…ä½¿ç”¨</strong> ğŸ‘ã€‚</p>
<p><strong>èŒƒå¼åŒ–</strong></p>
<ul>
<li><code>ä¼˜ç‚¹</code><ul>
<li>å¯ä»¥å°½é‡çš„å‡å°‘æ•°æ®å†—ä½™</li>
<li>æ›´æ–°æ“ä½œæ¯”ã€ŒåèŒƒå¼åŒ–ã€æ›´å¿«</li>
<li>æ•°æ®è¡¨é€šå¸¸æ¯”ã€ŒåèŒƒå¼åŒ–ã€çš„æ›´å°</li>
</ul>
</li>
<li><code>ç¼ºç‚¹</code><ul>
<li>æŸ¥è¯¢éœ€è¦å…³è”å¤šä¸ªè¡¨</li>
<li>ç´¢å¼•ä¼˜åŒ–å›°éš¾</li>
</ul>
</li>
</ul>
<p><strong>åèŒƒå¼åŒ–</strong></p>
<ul>
<li><code>ä¼˜ç‚¹</code><ul>
<li>å‡å°‘è¡¨çš„å…³è”</li>
<li>æ›´å¥½çš„è¿›è¡Œç´¢å¼•ä¼˜åŒ–</li>
</ul>
</li>
<li><code>ç¼ºç‚¹</code><ul>
<li>å­˜åœ¨æ•°æ®å†—ä½™åŠæ•°æ®ç»´æŠ¤å¼‚å¸¸</li>
<li>å¯¹æ•°æ®å¯¹ä¿®æ”¹éœ€è¦æ›´å¤šæˆæœ¬</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
        <tag>æ•°æ®åº“</tag>
        <tag>æ•°æ®åº“ç»“æ„</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQLå¦‚ä½•æŸ¥è¯¢æœ€æ–°å®¡æ ¸è¿‡çš„ä¸€æ¡æ•°æ®</title>
    <url>/post/1623733608.html</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡åªæ˜¯é¡¹ç›®è¿‡ç¨‹ä¸­æš‚æ—¶èƒ½æƒ³åˆ°çš„ä¸€ç§æ–¹æ³•ï¼Œå¦‚æœä½ æœ‰å…¶å®ƒå®ç°æ–¹å¼ï¼Œæ¬¢è¿ç•™è¨€ä¸æˆ‘äº¤æµã€‚</p>
</blockquote>
<p><strong>åŸå§‹æ•°æ®</strong></p>
<table>
<thead>
<tr>
<th>idï¼ˆä¸»é”®ï¼‰</th>
<th>organization_id</th>
<th>audit_timeï¼ˆå®¡æ ¸æ—¶é—´ï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td>2orejelw5td3bwfkv</td>
<td>2oo2v3mqwrd832efh</td>
<td>2021-06-02 15:23:37</td>
</tr>
<tr>
<td>2or7zo75ygc7fi2l7</td>
<td>2oo2v3mqwrd832efh</td>
<td>2021-07-02 15:23:37</td>
</tr>
<tr>
<td>2or81tr5evpean60d</td>
<td>202106171149548es5ntrhd</td>
<td>2021-06-19 11:12:16</td>
</tr>
<tr>
<td>2or81tt1m5rnw1h0o</td>
<td>202106171149548es5ntrhd</td>
<td>2021-05-19 11:57:00</td>
</tr>
<tr>
<td>2or96z2524ac1zw0v</td>
<td>202106171149548es5ntrhd</td>
<td>2021-07-09 13:31:00</td>
</tr>
</tbody></table>
<p><strong>ç›®æ ‡æè¿°</strong>ï¼šé’ˆå¯¹æ¯ä¸ª organization_idï¼Œ æ ¹æ®å®¡æ ¸æ—¶é—´ï¼Œè·å–æœ€æ–°å®¡æ ¸çš„ä¸€æ¡æ•°æ®</p>
<p><strong>é¢„æœŸç»“æœ</strong>ï¼š</p>
<table>
<thead>
<tr>
<th>idï¼ˆä¸»é”®ï¼‰</th>
<th>organization_id</th>
<th>audit_timeï¼ˆå®¡æ ¸æ—¶é—´ï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td>2or7zo75ygc7fi2l7</td>
<td>2oo2v3mqwrd832efh</td>
<td>2021-07-02 15:23:37</td>
</tr>
<tr>
<td>2or96z2524ac1zw0v</td>
<td>202106171149548es5ntrhd</td>
<td>2021-07-09 13:31:00</td>
</tr>
</tbody></table>
<p><strong>å®Œæ•´ SQL å¦‚ä¸‹:</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	SUBSTRING_INDEX(GROUP_CONCAT(id <span class="keyword">ORDER</span> <span class="keyword">BY</span> audit_time),<span class="string">&#x27;,&#x27;</span>,<span class="number">-1</span>) <span class="keyword">AS</span> id,</span><br><span class="line">	organization_id</span><br><span class="line"><span class="keyword">FROM</span> organization_auth_request</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> organization_id</span><br></pre></td></tr></table></figure>

<p><strong>å…³é”®ç‚¹è¯´æ˜:</strong></p>
<ul>
<li><code>GROUP_CONCAT(id ORDER BY audit_time)</code> åˆ†ç»„åæ‹¼æ¥çš„æ—¶å€™ï¼Œå¯ä»¥æŒ‡å®šæ’åºå­—æ®µå’Œæ’åºæ–¹å¼ï¼Œä»¥ç¡®ä¿èƒ½å¤ŸæŒ‰ç…§æŒ‡å®šé¡ºåºæ‹¼æ¥</li>
<li><code>SUBSTRING_INDEX(&#39;å¾…æˆªå–çš„å­—ç¬¦ä¸²&#39;,&#39;,&#39;,-1)</code><ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¾…æˆªå–çš„å­—ç¬¦ä¸²ï¼›</li>
<li>ç¬¬äºŒä¸ªå‚æ•°æ˜¯æˆªå–æ—¶ä»¥ä»€ä¹ˆå­—ç¬¦åˆ†ç»„ï¼Œæ¯”å¦‚è¿™é‡Œæ˜¯ä»¥ <code>,</code> åˆ†ç»„ï¼›</li>
<li>ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯æˆªå–æ–¹å‘å’Œä¸ªæ•°ï¼Œ<code>-1</code> è¡¨ç¤ºä»æœ«å°¾æˆªå–ä¸€ç»„å­—ç¬¦ï¼ˆæ­£æ•°ä»å¼€å¤´å¼€å§‹æˆªå–ï¼›è´Ÿæ•°ä»æœ«å°¾å¼€å§‹æˆªå–ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p>å…³äºè¿™ä¸¤ä¸ªå‡½æ•°çš„æ›´å¤šä½¿ç”¨æ–¹å¼ï¼Œå‚è§å®˜æ–¹æ–‡æ¡£æˆ–æœç´¢å¼•æ“ã€‚</p>
]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
        <tag>æ•°æ®åº“</tag>
        <tag>SQL</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQLè¯­æ³•é€ŸæŸ¥1ï¼šåŸºç¡€å‘½ä»¤ç¯‡</title>
    <url>/post/2913088232.html</url>
    <content><![CDATA[<h3 id="1-1-å…³äº-SQL"><a href="#1-1-å…³äº-SQL" class="headerlink" title="1.1. å…³äº SQL"></a>1.1. å…³äº SQL</h3><p>SQL æ˜¯ Structure Query Languageï¼ˆç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ï¼‰çš„ç¼©å†™ï¼Œæ˜¯å…³ç³»å‹æ•°æ®åº“çš„åŸºæœ¬è¯­è¨€ï¼Œç”± IBM åœ¨ 20 ä¸–çºª 70 å¹´ä»£å¼€å‘å‡ºæ¥ï¼Œä½œä¸º IBM å…³ç³»æ•°æ®åº“åŸå‹ System R çš„åŸå‹å…³ç³»è¯­è¨€ï¼Œå®ç°äº†å…³ç³»æ•°æ®åº“ä¸­çš„ä¿¡æ¯æ£€ç´¢ã€‚</p>
<p>20 ä¸–çºª 80 å¹´ä»£åˆï¼Œç¾å›½å›½å®¶æ ‡å‡†å±€ï¼ˆANSIï¼‰å¼€å§‹ç€æ‰‹åˆ¶ä½œ SQL æ ‡å‡†ï¼Œå¹¶äº 1986 å¹´å®Œæˆï¼Œè¢«å«åš SQL-86ã€‚</p>
<p>SQL æ ‡å‡†å‡ ç»ä¿®æ”¹ï¼Œæ—¥è¶‹å®Œå–„ï¼Œå¤§å¤šæ•°å…³ç³»å‹æ•°æ®åº“ç³»ç»Ÿéƒ½æ”¯æŒï¼Œè€Œ <strong>(My)SQL</strong> æ˜¯åœ¨æ ‡å‡† SQL çš„åŸºç¡€ä¸Šè¿›è¡Œäº†æ‰©å±•ã€‚</p>
<h3 id="1-2-SQL-åˆ†ç±»"><a href="#1-2-SQL-åˆ†ç±»" class="headerlink" title="1.2. SQL åˆ†ç±»"></a>1.2. SQL åˆ†ç±»</h3><ul>
<li>DDLï¼ˆData Definition Languageï¼‰ï¼šæ•°æ®å®šä¹‰è¯­å¥<ul>
<li>ä¸»è¦ç”¨äºæ“ä½œ<strong>æ•°æ®åº“å¯¹è±¡</strong>ï¼›</li>
<li>å¸¸ç”¨å…³é”®å­— createã€dropã€alterç­‰ï¼›</li>
</ul>
</li>
<li>DMLï¼ˆData Manipulation Languageï¼‰ï¼šæ•°æ®æ“ä½œè¯­å¥<ul>
<li>ä¸»è¦ç”¨äºæ“ä½œ<strong>æ•°æ®åº“è®°å½•</strong>;</li>
<li>å¸¸ç”¨å…³é”®å­— insertã€deleteã€updateã€selectç­‰ï¼›</li>
</ul>
</li>
<li>DCLï¼ˆData Control Languageï¼‰ï¼šæ•°æ®æ§åˆ¶è¯­å¥<ul>
<li>ä¸»è¦ç”¨äºæ§åˆ¶æ•°æ®çš„<strong>è®¿é—®æƒé™</strong>ï¼›</li>
<li>å¸¸ç”¨å…³é”®å­— grantã€revokeç­‰ã€‚</li>
</ul>
</li>
</ul>
<span id="more"></span>

<h3 id="1-3-DDL"><a href="#1-3-DDL" class="headerlink" title="1.3. DDL"></a>1.3. DDL</h3><h4 id="1-3-1-åˆ›å»ºæ•°æ®åº“"><a href="#1-3-1-åˆ›å»ºæ•°æ®åº“" class="headerlink" title="1.3.1. åˆ›å»ºæ•°æ®åº“"></a>1.3.1. åˆ›å»ºæ•°æ®åº“</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE db_name;</span><br></pre></td></tr></table></figure>

<h4 id="1-3-2-åˆ é™¤æ•°æ®åº“"><a href="#1-3-2-åˆ é™¤æ•°æ®åº“" class="headerlink" title="1.3.2. åˆ é™¤æ•°æ®åº“"></a>1.3.2. åˆ é™¤æ•°æ®åº“</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> DATABASE db_name;</span><br></pre></td></tr></table></figure>

<h4 id="1-3-3-åˆ›å»ºè¡¨"><a href="#1-3-3-åˆ›å»ºè¡¨" class="headerlink" title="1.3.3. åˆ›å»ºè¡¨"></a>1.3.3. åˆ›å»ºè¡¨</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> table_name(</span><br><span class="line">    field1_name field1_type [field1_constraints],</span><br><span class="line">    field2_name field2_type [field2_constraints],</span><br><span class="line">    field3_name field3_type [field3_constraints],</span><br><span class="line">    ...</span><br><span class="line">    [<span class="keyword">PRIMARY</span> KEY ( field1_name ),]</span><br><span class="line">    [INDEX `idx_field1_name`(`field1_name`) <span class="keyword">USING</span> BTREE COMMENT <span class="string">&#x27;&#x27;</span>,]</span><br><span class="line">    ...</span><br><span class="line">) [table_constraints];</span><br></pre></td></tr></table></figure>

<p>è¯´æ˜ï¼š</p>
<ul>
<li>field1_name å­—æ®µåï¼Œå»ºè®®ä»¥ä¸‹åˆ’çº¿åˆ†éš”å•è¯ï¼Œå¦‚ <code>update_at</code>ã€‚</li>
<li>field1_type å­—æ®µç±»å‹<ul>
<li>intã€charã€varcharã€floatã€decimalã€datatimeç­‰ã€‚</li>
<li>æ•°å€¼å‹çš„å­—æ®µåè·Ÿæ‹¬å·ï¼Œç”¨äºè®¾ç½®å­—æ®µçš„æ˜¾ç¤ºå®½åº¦ï¼Œå¦‚ <code>int(11)</code>ã€‚<ul>
<li>å¦‚æœæ‰€æ’å…¥æ•°å€¼çš„ä½æ•°å°äºæŒ‡å®šçš„å®½åº¦æ—¶ä¼šç”¨ç©ºæ ¼å¡«å……ï¼›è‹¥åŒæ—¶ä½¿ç”¨ <code>zerofill</code> çº¦æŸï¼Œåˆ™ä¼šä»¥ <strong>0</strong> æ¥å¡«å……ã€‚</li>
<li><strong>æ³¨æ„ï¼šæ˜¾ç¤ºå®½åº¦åªç”¨äºæ˜¾ç¤ºï¼Œå¹¶ä¸èƒ½é™åˆ¶å–å€¼èŒƒå›´å’Œå ç”¨ç©ºé—´ï¼Œæ¯ç§æ•°æ®ç±»å‹çš„å®é™…å–å€¼èŒƒå›´å†³å®šæ•°æ®èƒ½å¦æœ€ç»ˆæ’å…¥æ•°æ®åº“</strong>ã€‚</li>
<li>å¦‚æœæ’å…¥çš„å€¼è¶…è¿‡å­—æ®µçš„å®é™…å–å€¼èŒƒå›´ï¼Œåˆ™æç¤ºï¼š<code>1264 - Out of range value for column xxxx</code></li>
</ul>
</li>
<li>å­—ç¬¦å‹çš„å­—æ®µåè·Ÿæ‹¬å·ï¼Œç”¨äºè®¾ç½®å¯å­˜æ”¾å€¼çš„èŒƒå›´ï¼Œå¦‚ï¼š<code>varcahr(5)</code><ul>
<li>ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå¦‚æœæ’å…¥ 6 ä½å­—ç¬¦ä¸²ï¼Œåˆ™æç¤ºï¼š<code>406 - Data too long for column xxxx</code>ã€‚</li>
<li>éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå¦‚æœæ’å…¥ 6 ä½å­—ç¬¦ä¸²ï¼Œåˆ™ä¼šè¿›è¡Œæˆªå–åæˆåŠŸæ’å…¥æ•°æ®åº“ï¼Œå¹¶ä¸”æ˜¾ç¤ºä¸€ä¸ª warningã€‚</li>
</ul>
</li>
</ul>
</li>
<li>field1_constraints å­—æ®µçº¦æŸæ¡ä»¶<ul>
<li><code>NOT NULL</code> ä¸å…è®¸ä¸ºç©ºï¼Œé»˜è®¤å…è®¸ä¸ºç©ºã€‚</li>
<li><code>AUTO_INCREMENT</code> è®¾ç½®ä¸ºè‡ªå¢åˆ—ï¼Œåœ¨ MySQL ä¸­æ— è®º <strong>InnoDB</strong> å¼•æ“è¿˜æ˜¯ <strong>MyISAM</strong> å¼•æ“çš„è¡¨ï¼Œåªèƒ½æœ‰ä¸€ä¸ªè‡ªå¢åˆ—ï¼Œå¹¶ä¸”è‡ªå¢åˆ—ä¸€å®šæ˜¯ç´¢å¼•åˆ—ï¼Œæ— è®ºæ˜¯äºŒçº§ç´¢å¼•è¿˜æ˜¯ä¸»é”®ç´¢å¼•ã€‚</li>
<li><code>DEFAULT</code> é»˜è®¤å€¼ï¼Œé»˜è®¤ NULLã€‚</li>
<li><code>COMMENT &#39;æ³¨é‡Šä¿¡æ¯&#39;</code> å­—æ®µæ³¨é‡Š</li>
<li><code>unsigned</code> æ•°å€¼å‹å­—æ®µæ— ç¬¦å·ï¼Œé»˜è®¤æœ‰ç¬¦åˆã€‚</li>
<li><code>zerofill</code> å½“æ‰€æ’å…¥å­—æ®µå€¼çš„é•¿åº¦æ²¡æœ‰è¾¾åˆ°åœ¨<strong>å­—æ®µç±»å‹</strong>ä¸­è®¾ç½®çš„é•¿åº¦æ—¶ï¼Œç”¨ 0 æ¥è¡¥å…¨ã€‚</li>
<li><code>CHARACTER SET utf8mb4</code> è®¾ç½®å­—æ®µçš„å­—ç¬¦é›†ã€‚</li>
<li><code>COLLATE utf8mb4_bin</code></li>
</ul>
</li>
<li>table_constraints è¡¨çº¦æŸæ¡ä»¶<ul>
<li><code>ENGINE=InnoDB</code> è®¾ç½®è¡¨çš„å­˜å‚¨å¼•æ“ï¼Œé»˜è®¤ <strong>InnoDB</strong>ï¼ŒMySQL5.x ä»¥ä¸‹é»˜è®¤ <strong>MyISAM</strong>ã€‚<ul>
<li><strong>MyISAM</strong> æ”¯æŒå…¨æ–‡æœ¬æœç´¢</li>
<li><strong>InnoDB</strong> æ”¯æŒäº‹åŠ¡å¤„ç†</li>
<li><strong>MEMORY</strong> ç±»ä¼¼MyISAMï¼Œä½†æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œé€Ÿåº¦å¾ˆå¿«ï¼ˆç‰¹åˆ«é€‚åˆä¸´æ—¶è¡¨ï¼‰ã€‚</li>
</ul>
</li>
<li><code>DEFAULT CHARSET=utf8</code> è®¾ç½®é»˜è®¤å­—ç¬¦é›†</li>
<li><code>AUTO_INCREMENT=10</code> è®¾ç½®è‡ªå¢åˆ—çš„å¼€å§‹ä½ç½®ï¼ŒæŸ¥çœ‹è¡¨ä¸­è‡ªå¢å­—æ®µçš„ä¸‹ä¸€ä¸ªå€¼ï¼Œä½¿ç”¨ <code>SHOW TABLE STATUS LIKE &#39;table_name&#39;;</code> è·å–å­—æ®µ <strong>Auto_increment</strong> çš„å€¼ã€‚</li>
<li><code>COMMENT &#39;æ³¨é‡Šä¿¡æ¯&#39;</code> è¡¨çš„æ³¨é‡Šä¿¡æ¯</li>
</ul>
</li>
</ul>
<p>æŸ¥çœ‹è¡¨çš„å®šä¹‰</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DESC</span> table_name;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- æˆ–</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> table_name \G;</span><br></pre></td></tr></table></figure>


<h4 id="1-3-4-åˆ é™¤è¡¨"><a href="#1-3-4-åˆ é™¤è¡¨" class="headerlink" title="1.3.4. åˆ é™¤è¡¨"></a>1.3.4. åˆ é™¤è¡¨</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> table_nameï¼›</span><br><span class="line"></span><br><span class="line"><span class="comment">-- åˆ é™¤å¤šå¼ è¡¨ï¼Œå¹¶ä¸”åˆ é™¤ä¹‹å‰å…ˆåˆ¤æ–­æ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> table1_name,table2_name,.....;</span><br></pre></td></tr></table></figure>

<h4 id="1-3-5-ä¿®æ”¹è¡¨"><a href="#1-3-5-ä¿®æ”¹è¡¨" class="headerlink" title="1.3.5. ä¿®æ”¹è¡¨"></a>1.3.5. ä¿®æ”¹è¡¨</h4><blockquote>
<blockquote>
<p><strong>æ³¨æ„</strong> âš ï¸ï¼š</p>
</blockquote>
<ol>
<li><p>å…³é”®å­— <code>CHANGE</code> å’Œ <code>FIRST</code> | <code>AFTER COLUMN</code> å±äº MySQL åœ¨æ ‡å‡† SQL ä¸Šçš„æ‰©å±•ï¼Œå¹¶ä¸ä¸€å®šé€‚ç”¨äºå…¶å®ƒæ•°æ®åº“ã€‚</p>
</li>
<li><p><strong>field_definition</strong> è‡³å°‘åŒ…å«<strong>å­—æ®µå</strong>å’Œ<strong>å­—æ®µç±»å‹</strong>ã€‚</p>
</li>
</ol>
</blockquote>
<ul>
<li><p>ä¿®æ”¹è¡¨ç±»å‹</p>
  <figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table_name MODIFY [<span class="keyword">COLUMN</span>] field_definition [<span class="keyword">FIRST</span> <span class="operator">|</span> AFTER field_name];</span><br></pre></td></tr></table></figure></li>
<li><p>å¢åŠ è¡¨å­—æ®µ</p>
  <figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table_name <span class="keyword">ADD</span> [COLUMNM] field_definition [<span class="keyword">FIRST</span> <span class="operator">|</span> AFTER field_name];</span><br></pre></td></tr></table></figure></li>
<li><p>åˆ é™¤è¡¨å­—æ®µ</p>
  <figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table_name <span class="keyword">DROP</span> [<span class="keyword">COLUMN</span>] field_name;</span><br></pre></td></tr></table></figure></li>
<li><p>ä¿®æ”¹å­—æ®µå</p>
  <figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table_name CHANGE [<span class="keyword">COLUMN</span>] old_field_name field_definition [<span class="keyword">FIRST</span> <span class="operator">|</span> AFTER field_name];</span><br></pre></td></tr></table></figure></li>
<li><p>ä¿®æ”¹å­—æ®µæ’åˆ—é¡ºåº</p>
<p>  ä½¿ç”¨å‰é¢çš„å¯é€‰å‚æ•° <code>[FIRST | AFTER field_name]</code>ï¼Œå…¶ä¸­ï¼š</p>
<ul>
<li>ADD æ–°å¢çš„å­—æ®µé»˜è®¤åœ¨è¡¨çš„æœ€åä½ç½®ï¼›</li>
<li>CHANGE æˆ– MODIFY é»˜è®¤ä¸æ”¹å˜å­—æ®µçš„ä½ç½®ã€‚</li>
</ul>
</li>
<li><p>æ›´æ”¹è¡¨å</p>
  <figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table_name RENAME [<span class="keyword">TO</span>] new_table_name;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="1-3-6-ä¿®æ”¹è¡¨-å¤–é”®"><a href="#1-3-6-ä¿®æ”¹è¡¨-å¤–é”®" class="headerlink" title="1.3.6. ä¿®æ”¹è¡¨-å¤–é”®"></a>1.3.6. ä¿®æ”¹è¡¨-å¤–é”®</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æ·»åŠ </span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table1 <span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> fk_table1_table2 <span class="keyword">FOREIGN</span> KEY (table1) <span class="keyword">REFERENCES</span> table2 (id);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- åˆ é™¤</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table1 <span class="keyword">DROP</span> <span class="keyword">FOREIGN</span> KEY fk_table1_table2;</span><br></pre></td></tr></table></figure>

<h4 id="1-3-7-ä¿®æ”¹è¡¨-ç´¢å¼•"><a href="#1-3-7-ä¿®æ”¹è¡¨-ç´¢å¼•" class="headerlink" title="1.3.7. ä¿®æ”¹è¡¨-ç´¢å¼•"></a>1.3.7. ä¿®æ”¹è¡¨-ç´¢å¼•</h4><p>è¿™é‡Œåªä»‹ç»äº†é€šè¿‡ä¿®æ”¹è¡¨ç»“æ„çš„æ–¹å¼åˆ›å»ºç´¢å¼•ï¼Œæ­¤å¤–è¿˜æœ‰å…¶å®ƒä¸¤ç§æ–¹å¼ï¼ˆ<code>CREATE INDEX</code> æˆ– åœ¨ <code>CREATE TABLE</code> æ—¶æŒ‡å®š `ï¼‰ï¼Œè¯¦è§åç»­æ–‡ç« ç´¢å¼•éƒ¨åˆ†ã€‚</p>
<ul>
<li><p>æ™®é€šç´¢å¼•</p>
  <figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æ·»åŠ </span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table1 <span class="keyword">ADD</span> INDEX idx_name(field1);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- åˆ é™¤</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table1 <span class="keyword">DROP</span> INDEX idx_name;</span><br></pre></td></tr></table></figure></li>
<li><p>ä¸»é”®ç´¢å¼•</p>
  <figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æ·»åŠ </span></span><br><span class="line"><span class="comment">-- å…ˆä¿®æ”¹è¦è®¾ç½®ä¸ºä¸»é”®çš„å­—æ®µï¼šæ— ç¬¦å·ã€éç©ºã€è‡ªå¢</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table1</span><br><span class="line">MODIFY <span class="keyword">COLUMN</span> `id` <span class="type">int</span>(<span class="number">11</span>) UNSIGNED <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">PRIMARY</span> KEY (`id`);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- åˆ é™¤</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table1 <span class="keyword">DROP</span> <span class="keyword">PRIMARY</span> KEY;</span><br></pre></td></tr></table></figure></li>
<li><p>å”¯ä¸€ç´¢å¼•</p>
  <figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æ·»åŠ </span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">table</span> mytable <span class="keyword">ADD</span> <span class="keyword">UNIQUE</span> [idx_name] (field1(length))</span><br><span class="line"></span><br><span class="line"><span class="comment">-- åˆ é™¤</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table1 <span class="keyword">DROP</span> <span class="keyword">UNIQUE</span> field1;</span><br></pre></td></tr></table></figure></li>
<li><p>æŸ¥è¯¢è¡¨çš„ç´¢å¼•</p>
  <figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> INDEX <span class="keyword">FROM</span> table_name;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="1-4-DML"><a href="#1-4-DML" class="headerlink" title="1.4. DML"></a>1.4. DML</h3><h4 id="1-4-1-æ–°å¢è®°å½•ï¼ˆå¢ï¼‰"><a href="#1-4-1-æ–°å¢è®°å½•ï¼ˆå¢ï¼‰" class="headerlink" title="1.4.1. æ–°å¢è®°å½•ï¼ˆå¢ï¼‰"></a>1.4.1. æ–°å¢è®°å½•ï¼ˆå¢ï¼‰</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æ’å…¥ä¸€æ¡</span></span><br><span class="line"><span class="keyword">INSERT</span> INFO table_name(field1,field2,...,fieldn) <span class="keyword">VALUES</span>(val1,val2,...,valn);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- æ’å…¥å¤šæ¡</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table_name(field1,field2,...,fieldn)</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">(record1_val1,record1_val2,...,record1_valn),</span><br><span class="line">(record2_val1,record2_val2,...,record2_valn),</span><br><span class="line">...</span><br><span class="line">(recordn_val1,recordn_val2,...,recordn_valn);</span><br></pre></td></tr></table></figure>

<ul>
<li><code>field1,field2,...,fieldn</code> å¯ä»¥ä¸ç”¨å†™ï¼Œä½†æ˜¯åé¢ <code>VALUES</code> é‡Œå€¼çš„é¡ºåºéœ€è¦ä¸è¡¨ä¸­çš„å­—æ®µé¡ºåºä¿æŒä¸€è‡´ï¼›</li>
<li>å¦‚æœå¾…æ’å…¥çš„æ•°æ®ï¼Œä¸åŒ…å«ä»¥ä¸‹ç±»å‹çš„å­—æ®µï¼Œå¯ä»¥ä¸ç”¨å†™<ul>
<li>å¯ç©ºï¼šè‡ªåŠ¨è®¾ç½®ä¸º NULLï¼›</li>
<li>æœ‰é»˜è®¤å€¼ï¼šè‡ªåŠ¨è®¾ç½®ä¸ºé»˜è®¤å€¼ï¼›</li>
<li>è‡ªå¢ï¼šè‡ªåŠ¨è®¾ç½®ä¸ºä¸‹ä¸€ä¸ªè‡ªå¢å€¼ã€‚</li>
</ul>
</li>
</ul>
<h4 id="1-4-2-åˆ é™¤è®°å½•ï¼ˆåˆ ï¼‰"><a href="#1-4-2-åˆ é™¤è®°å½•ï¼ˆåˆ ï¼‰" class="headerlink" title="1.4.2. åˆ é™¤è®°å½•ï¼ˆåˆ ï¼‰"></a>1.4.2. åˆ é™¤è®°å½•ï¼ˆåˆ ï¼‰</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> table_name [<span class="keyword">WHERE</span> <span class="keyword">condition</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ä¸€æ¬¡åˆ é™¤å¤šå¼ è¡¨</span></span><br><span class="line"><span class="keyword">DELETE</span> t1,t2,... <span class="keyword">FROM</span> table1 t1,table2 t2,... [<span class="keyword">WHERE</span> <span class="keyword">condition</span>];</span><br></pre></td></tr></table></figure>

<h4 id="1-4-3-æ›´æ–°è®°å½•ï¼ˆæ”¹ï¼‰"><a href="#1-4-3-æ›´æ–°è®°å½•ï¼ˆæ”¹ï¼‰" class="headerlink" title="1.4.3. æ›´æ–°è®°å½•ï¼ˆæ”¹ï¼‰"></a>1.4.3. æ›´æ–°è®°å½•ï¼ˆæ”¹ï¼‰</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">UPDATE table_name <span class="keyword">SET</span> field1<span class="operator">=</span>val1,field2<span class="operator">=</span>val2,...,fieldn<span class="operator">=</span>valn [<span class="keyword">WHERE</span> <span class="keyword">condition</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ä¸€æ¬¡æ›´æ–°å¤šä¸ªè¡¨</span></span><br><span class="line">UPDATE table1 a,table2 b, tablen n <span class="keyword">SET</span> a.field1<span class="operator">=</span>val1,...,n.fieldn<span class="operator">=</span>valn [<span class="keyword">WHERE</span> <span class="keyword">condition</span>];</span><br></pre></td></tr></table></figure>

<h4 id="1-4-4-æŸ¥è¯¢è®°å½•ï¼ˆæŸ¥ï¼‰"><a href="#1-4-4-æŸ¥è¯¢è®°å½•ï¼ˆæŸ¥ï¼‰" class="headerlink" title="1.4.4. æŸ¥è¯¢è®°å½•ï¼ˆæŸ¥ï¼‰"></a>1.4.4. æŸ¥è¯¢è®°å½•ï¼ˆæŸ¥ï¼‰</h4><ul>
<li><p>åŸºæœ¬</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT * FROM table_name</span><br><span class="line">[WHERE condition]</span><br><span class="line">[ORDER BY field1 [DESC|ASC], field2 [DESC|ASC], ...]</span><br><span class="line">[LIMIT offset_start,row_count];</span><br></pre></td></tr></table></figure>

<p>  è¯´æ˜ï¼š</p>
<ul>
<li><code>[WHERE condition]</code> è¿‡æ»¤æ¡ä»¶</li>
<li><code>[ORDER BY field1 [DESC|ASC], field2 [DESC|ASC], ...]</code> æ’åº<ul>
<li>ASC å‡åºï¼ˆé»˜è®¤ï¼‰</li>
<li>DESC é™åº</li>
</ul>
</li>
<li><code>[LIMIT offset_start,row_count]</code> é™åˆ¶</li>
</ul>
</li>
<li><p>å»é‡æŸ¥è¯¢</p>
  <figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">distinct</span> field1 <span class="keyword">FROM</span> table_name [<span class="keyword">WHERE</span> <span class="keyword">condition</span>];</span><br></pre></td></tr></table></figure></li>
<li><p>èšåˆï¼ˆæ±‡æ€»ç»Ÿè®¡ï¼‰</p>
  <figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> [field1,field2,...] func_name <span class="keyword">FROM</span> table_name</span><br><span class="line">[<span class="keyword">WHERE</span> <span class="keyword">condition</span>]</span><br><span class="line">[<span class="keyword">GROUP</span> <span class="keyword">BY</span> field1,field2,...]</span><br><span class="line">[<span class="keyword">WITH</span> ROLLUIP]</span><br><span class="line">[<span class="keyword">HAVING</span> <span class="keyword">condition</span>]</span><br></pre></td></tr></table></figure>

<p>  è¯´æ˜ï¼š</p>
<ul>
<li><code>func_name</code> èšåˆå‡½æ•°ï¼Œå¸¸ç”¨ï¼šsum æ±‚å’Œã€count(*) è®°å½•æ•°ã€max æœ€å¤§å€¼ã€min æœ€å°å€¼ã€‚</li>
<li><code>[WHERE condition]</code> èšåˆå‰æŒ‰æ¡ä»¶å¯¹ç»“æœè¿›è¡Œè¿‡æ»¤ï¼Œ<strong>åº”å°½é‡ä½¿ç”¨æ­¤è¿‡æ»¤ä»¥å‡å°‘å¾…èšåˆçš„ç»“æœé›†ï¼Œæé«˜èšåˆæ•ˆç‡</strong>ã€‚</li>
<li><code>[GROUP BY field1,field2,...]</code> åˆ†ç±»èšåˆå­—æ®µ</li>
<li><code>[WITH ROLLUIP]</code> æ˜¯å¦å¯¹åˆ†ç±»èšåˆåçš„ç»“æœè¿›è¡Œå†æ±‡æ€»ã€‚</li>
<li><code>[HAVING condition]</code> å¯¹èšåˆåçš„ç»“æœå†è¿›è¡Œæ¡ä»¶è¿‡æ»¤ã€‚</li>
</ul>
</li>
<li><p>å†…è¿æ¥</p>
<p>  ä»…è·å–ä¸¤å¼ è¡¨ä¸­äº’ç›¸åŒ¹é…çš„è®°å½•</p>
  <figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> field1,field2 <span class="keyword">FROM</span> table1 t1,table2 t2</span><br><span class="line"><span class="keyword">WHERE</span> t1.outid<span class="operator">=</span>t2.outid</span><br></pre></td></tr></table></figure>

<p>  å…¶ä¸­ <code>field1,field2,...</code> åˆ†åˆ«å­˜å‚¨åœ¨ä¸¤å¼ è¡¨ä¸­ã€‚</p>
</li>
<li><p>å¤–è¿æ¥</p>
<ul>
<li><p>å·¦è¿æ¥</p>
<p>  åŒ…å«æ‰€æœ‰å·¦è¾¹è¡¨ä¸­çš„è®°å½•ï¼Œç”šè‡³æ˜¯å³è¾¹è¡¨ä¸­æ²¡æœ‰å’Œå®ƒåŒ¹é…çš„è®°å½•ã€‚</p>
  <figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> field1,field2,... <span class="keyword">FROM</span> table1 t1</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> table2 t2 <span class="keyword">ON</span> t2.outid<span class="operator">=</span>t1.outid</span><br></pre></td></tr></table></figure></li>
<li><p>å³è¿æ¥</p>
<p>  åŒ…å«æ‰€æœ‰å³è¾¹è¡¨ä¸­çš„è®°å½•ï¼Œç”šè‡³æ˜¯å³è¾¹è¡¨ä¸­æ²¡æœ‰å’Œå®ƒåŒ¹é…çš„è®°å½•ã€‚</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT field1,field2,... FROM table1 t1</span><br><span class="line">RIGHT JOIN table2 t2 ON t2.outid=t1.outid</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>å­æŸ¥è¯¢</p>
<p>  å½“è¿›è¡ŒæŸ¥è¯¢æ—¶ï¼Œéœ€è¦çš„æ¡ä»¶æ˜¯å¦ä¸€ä¸ª select è¯­å¥çš„ç»“æœæ—¶å°†ç”¨åˆ°å­æŸ¥è¯¢åŠŸèƒ½ã€‚</p>
  <figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> field1,field2,... <span class="keyword">FROM</span> table1 <span class="keyword">WHERE</span> outid <span class="keyword">IN</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> outid <span class="keyword">FROM</span> table2</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>  é™¤äº† INï¼Œç”¨äºå­æŸ¥è¯¢çš„å…³é”®å­—è¿˜æœ‰ï¼š<code>NOT IN</code>ã€<code>=</code>ã€<code>!=</code>ã€<code>EXISTS</code>ã€<code>NOT EXISTS</code>ç­‰ã€‚</p>
<p>  MySQL4.1 ä»¥å‰çš„ç‰ˆæœ¬ä¸æ”¯æŒå­æŸ¥è¯¢ï¼Œéœ€è¦ç”¨è¡¨è¿æ¥æ¥å®ç°ï¼Œå¦‚ï¼š</p>
  <figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> t1.<span class="operator">*</span> <span class="keyword">FROM</span> table1 t1,table2 t2</span><br><span class="line"><span class="keyword">WHERE</span> t1.outid<span class="operator">=</span>t2.outid</span><br></pre></td></tr></table></figure></li>
<li><p>è”åˆï¼ˆåˆå¹¶ç»“æœé›†ï¼‰</p>
  <figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> table1</span><br><span class="line"><span class="keyword">UNION</span> <span class="operator">|</span> <span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> table2</span><br><span class="line">...</span><br><span class="line"><span class="keyword">UNION</span> <span class="operator">|</span> <span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> tablen</span><br></pre></td></tr></table></figure>

<p>  è¯´æ˜ï¼š</p>
<ul>
<li><code>UNION ALL</code> æŠŠç»“æœé›†ç›´æ¥åˆå¹¶åœ¨ä¸€èµ·ã€‚</li>
<li><code>UNION</code> æ˜¯å°† <code>UNION ALL</code> çš„ç»“æœé›†æ‰§è¡Œä¸€æ¬¡ <code>DISTINCT</code>ï¼Œå»é™¤é‡å¤è®°å½•åçš„ç»“æœã€‚</li>
</ul>
</li>
</ul>
<h3 id="1-5-DCL"><a href="#1-5-DCL" class="headerlink" title="1.5. DCL"></a>1.5. DCL</h3><h4 id="1-5-1-æˆäºˆæƒé™"><a href="#1-5-1-æˆäºˆæƒé™" class="headerlink" title="1.5.1. æˆäºˆæƒé™"></a>1.5.1. æˆäºˆæƒé™</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">select</span>,<span class="keyword">insert</span> <span class="keyword">ON</span> db1.<span class="operator">*</span> <span class="keyword">TO</span> <span class="string">&#x27;user1&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;123&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="1-5-2-æ”¶å›æƒé™"><a href="#1-5-2-æ”¶å›æƒé™" class="headerlink" title="1.5.2. æ”¶å›æƒé™"></a>1.5.2. æ”¶å›æƒé™</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">REVOKE</span> <span class="keyword">insert</span> <span class="keyword">ON</span> db1.<span class="operator">*</span> <span class="keyword">FROM</span> <span class="string">&#x27;user1&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="1-6-é™„å½•"><a href="#1-6-é™„å½•" class="headerlink" title="1.6. é™„å½•"></a>1.6. é™„å½•</h3><h4 id="1-6-1-è¿æ¥æ•°æ®åº“"><a href="#1-6-1-è¿æ¥æ•°æ®åº“" class="headerlink" title="1.6.1. è¿æ¥æ•°æ®åº“"></a>1.6.1. è¿æ¥æ•°æ®åº“</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql [-h127.0.0.1] [-P3306] -uroot -p[password]</span><br></pre></td></tr></table></figure>

<p>å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li><code>-h</code> å¯é€‰ï¼Œæ•°æ®åº“åœ°å€ï¼ˆIPæˆ–åŸŸåï¼‰ï¼Œé»˜è®¤ 127.0.0.1ã€‚</li>
<li><code>-P</code> å¯é€‰ï¼Œæ•°æ®åº“ç«¯å£å·ï¼Œé»˜è®¤ 3306.</li>
<li><code>-u</code> æ•°æ®åº“ç™»å½•ç”¨æˆ·</li>
<li><code>-p</code> æ•°æ®åº“ç™»å½•ç”¨æˆ·å¯¹åº”çš„å¯†ç </li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ mysql -uroot -p</span><br><span class="line">Enter password:</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 4</span><br><span class="line">Server version: 5.7.24-log MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.</span><br><span class="line"></span><br><span class="line">MySQL [(none)]&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">+--------------------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">MySQL [(none)]&gt; exit</span><br><span class="line">Bye</span><br></pre></td></tr></table></figure>

<h4 id="1-6-2-å¦‚ä½•ä½¿ç”¨ç³»ç»Ÿå¸®åŠ©"><a href="#1-6-2-å¦‚ä½•ä½¿ç”¨ç³»ç»Ÿå¸®åŠ©" class="headerlink" title="1.6.2. å¦‚ä½•ä½¿ç”¨ç³»ç»Ÿå¸®åŠ©"></a>1.6.2. å¦‚ä½•ä½¿ç”¨ç³»ç»Ÿå¸®åŠ©</h4><p>åœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸‹ï¼Œä½¿ç”¨ <code>? contents</code> å‘½ä»¤æŸ¥çœ‹å¯¹åº”åˆ†ç±»çš„å¸®åŠ©ä¿¡æ¯ã€‚</p>
<p>å¦‚ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æŸ¥çœ‹ show ç›¸å…³çš„æ‰€æœ‰å‘½ä»¤ç­‰</span></span><br><span class="line">mysql<span class="operator">&gt;</span> ? <span class="keyword">show</span></span><br></pre></td></tr></table></figure>

<h4 id="1-6-3-ä»€ä¹ˆæ˜¯å…ƒæ•°æ®ä¿¡æ¯"><a href="#1-6-3-ä»€ä¹ˆæ˜¯å…ƒæ•°æ®ä¿¡æ¯" class="headerlink" title="1.6.3. ä»€ä¹ˆæ˜¯å…ƒæ•°æ®ä¿¡æ¯"></a>1.6.3. ä»€ä¹ˆæ˜¯å…ƒæ•°æ®ä¿¡æ¯</h4><p>å…ƒæ•°æ®æŒ‡æ•°æ®çš„æ•°æ®ï¼Œæ¯”å¦‚è¡¨åã€åˆ—åã€åˆ—ç±»å‹ã€ç´¢å¼•åç­‰è¡¨çš„å„ç§å±æ€§åç§°ã€‚<strong>MySQL 5.0</strong> ä¹‹åæä¾›æ¥ä¸€ä¸ªæ–°çš„æ•°æ®åº“ <code>information_schema</code>ï¼Œç”¨æ¥è®°å½• MySQL ä¸­çš„å…ƒæ•°æ®ä¿¡æ¯ã€‚</p>
<ul>
<li>è¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„æ•°æ®åº“ï¼Œå®ƒåœ¨ç‰©ç†ä¸Šå¹¶ä¸å­˜åœ¨ç›¸å…³çš„ç›®å½•å’Œæ–‡ä»¶ï¼›</li>
<li>å¯¹åº”æ•°æ®åº“é‡Œä½¿ç”¨ <code>show tables</code> æ˜¾ç¤ºçš„å„ç§â€œè¡¨â€ä¹Ÿå¹¶ä¸æ˜¯å®é™…å­˜åœ¨çš„ç‰©ç†è¡¨ï¼Œè€Œå…¨éƒ¨æ˜¯è§†å›¾ã€‚</li>
</ul>
<p>å¸¸ç”¨çš„è§†å›¾å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>SCHEMATA</code> æä¾›å½“å‰ MySQL å®ä¾‹ä¸­æ‰€æœ‰çš„æ•°æ®åº“ä¿¡æ¯ï¼Œå¯¹åº” <code>show  databases;</code> çš„ç»“æœã€‚</li>
<li><code>TABLES</code> æä¾›å…³äºæ•°æ®åº“ä¸­çš„è¡¨ä¿¡æ¯ï¼ˆåŒ…æ‹¬è§†å›¾ï¼‰ï¼Œè¯¦ç»†è¡¨è¿°é‡ŒæŸä¸ªè¡¨å±äºé‚£ä¸ª schemaã€è¡¨ç±»å‹ã€è¡¨å¼•æ“ã€åˆ›å»ºæ—¶é—´ç­‰ï¼Œå¯¹åº” <code>show tables from schemaname;</code> çš„ç»“æœã€‚</li>
<li><code>COLUMNS</code> æä¾›æ‰€æœ‰è¡¨ä¸­çš„åˆ—ä¿¡æ¯ï¼Œå¯¹åº” <code>show columns from schemaname.tablename;</code> çš„ç»“æœã€‚</li>
<li><code>STATISTICS</code> æä¾›å…³äºè¡¨ç´¢å¼•çš„ä¿¡æ¯ï¼Œå¯¹åº” <code>show index from schemaname.tablename;</code> çš„ç»“æœã€‚</li>
</ul>
]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
        <tag>æ•°æ®åº“</tag>
        <tag>SQL</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis ä¸ Memcache çš„åŒºåˆ«</title>
    <url>/post/3127178255.html</url>
    <content><![CDATA[<h4 id="MemCache"><a href="#MemCache" class="headerlink" title="MemCache"></a>MemCache</h4><ul>
<li>å¤šçº¿ç¨‹ã€å¼‚æ­¥I/Oï¼Œå¯ä»¥å……åˆ†åˆ©ç”¨å¤šæ ¸ CPU çš„ä¼˜åŠ¿ï¼Œæ€§èƒ½ä¼˜ç§€</li>
<li>åŠŸèƒ½ç®€å•ï¼Œä½¿ç”¨å†…å­˜å­˜å‚¨æ•°æ®</li>
<li>é™åˆ¶<ul>
<li>key å°äº 250B</li>
<li>value å°äº 1M</li>
<li>key æœ€å¤§å¤±æ•ˆæ—¶é—´å°äº 30 å¤©</li>
<li>åªæ”¯æŒ K-V ç»“æ„ï¼Œä¸æ”¯æŒæŒä¹…åŒ–å’Œä¸»ä»åŒæ­¥</li>
</ul>
</li>
</ul>
<h4 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h4><ul>
<li>å•çº¿ç¨‹ï¼ˆå¯ä»¥å€ŸåŠ©å¤šè¿›ç¨‹ï¼Œä»¥æ›´å¥½çš„å‘æŒ¥å•æœºæ€§èƒ½ï¼‰<ul>
<li>å¼‚æ­¥éé˜»å¡I/Oï¼ˆå¤šè·¯å¤ç”¨ï¼‰<ul>
<li>å¤šè·¯ï¼šå¤šä¸ªç½‘ç»œè¿æ¥</li>
<li>å¤ç”¨ï¼šå¤ç”¨åŒä¸€ä¸ªçº¿ç¨‹</li>
</ul>
</li>
<li>é¿å…å¤šçº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„ä»£ä»·</li>
<li>é¿å…å¤šçº¿ç¨‹é€ æˆå„ç§é”çš„é—®é¢˜</li>
</ul>
</li>
<li>æ•°æ®åœ¨å†…å­˜å­˜å‚¨ï¼Œæ”¯æŒæŒä¹…åŒ–</li>
<li>æ”¯æŒæ›´å¤šçš„æ•°æ®ç±»å‹ï¼Œlistã€hashã€setç­‰</li>
<li>ä¸»ä» Sentinel +é›†ç¾¤ Clusterï¼Œèƒ½å¤Ÿæä¾›é«˜å¯ç”¨æœåŠ¡</li>
</ul>
]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>Redis</tag>
        <tag>æ•°æ®åº“</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis çš„åŸºæœ¬ç‰¹æ€§å’Œ 5 ä¸ªå¸¸ç”¨æ•°æ®ç»“æ„</title>
    <url>/post/2119054721.html</url>
    <content><![CDATA[<h3 id="1-åŸºæœ¬ç‰¹æ€§"><a href="#1-åŸºæœ¬ç‰¹æ€§" class="headerlink" title="1. åŸºæœ¬ç‰¹æ€§"></a>1. åŸºæœ¬ç‰¹æ€§</h3><ul>
<li><p>é€Ÿåº¦å¿«</p>
<ul>
<li>åŸºäº C è¯­è¨€å¼€å‘ï¼Œæºç çŸ­å°ç²¾æ‚</li>
<li>æ•°æ®å­˜åœ¨å†…å­˜ä¸­</li>
<li>å•çº¿ç¨‹ï¼ˆé«˜æ€§èƒ½ï¼Œ<strong>å› ä¸º Redis ä¸€æ¬¡åªä¼šè¿è¡Œä¸€æ¡å‘½ä»¤ï¼Œåº”é¿å…åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨æ¯”è¾ƒè€—æ—¶çš„å‘½ä»¤</strong>ã€‚ï¼‰</li>
</ul>
</li>
<li><p>æ”¯æŒæ•°æ®æŒä¹…åŒ–ï¼Œå¼‚æ­¥ä¿å­˜åˆ°ç£ç›˜</p>
</li>
<li><p>ä¸°å¯Œçš„æ•°æ®ç»“æ„ï¼ˆkey-valueï¼‰ï¼šstringã€listã€hashã€setã€zset</p>
</li>
<li><p>å¤šè¯­è¨€å®¢æˆ·ç«¯</p>
</li>
<li><p>åŠŸèƒ½ä¸°å¯Œï¼šå‘å¸ƒè®¢é˜…ï¼›Lua è„šæœ¬ï¼›ç­‰</p>
</li>
<li><p>ç®€å•</p>
<ul>
<li>æ ¸å¿ƒä»£ç é‡å°</li>
<li>ä¸ä¾èµ–å¤–éƒ¨åº“</li>
<li>å•çº¿ç¨‹æ¨¡å‹</li>
</ul>
</li>
<li><p>æ”¯æŒä¸»ä»å¤åˆ¶</p>
</li>
<li><p>åŸç”Ÿé«˜å¯ç”¨å’Œåˆ†å¸ƒå¼è§£å†³æ–¹æ¡ˆ</p>
<ul>
<li><code>Redis-Sentinel</code> é«˜å¯ç”¨ <code>v2.8+</code></li>
<li><code>Redis-Cluster</code> åˆ†å¸ƒå¼ <code>v3.0+</code></li>
</ul>
</li>
</ul>
<span id="more"></span>

<h3 id="2-å¸¸ç”¨æ•°æ®ç»“æ„"><a href="#2-å¸¸ç”¨æ•°æ®ç»“æ„" class="headerlink" title="2. å¸¸ç”¨æ•°æ®ç»“æ„"></a>2. å¸¸ç”¨æ•°æ®ç»“æ„</h3><p><img data-src="https://static.sqiang.net/image/post/redis-data-structure-types.jpeg"></p>
<p>ä¸‹é¢æ˜¯ä¸€äº›é€šç”¨çš„ APIï¼ˆä¸ä¾èµ–å…·ä½“æ•°æ®ç±»å‹ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŒ‰ç…§è§„åˆ™éå†æ‰€æœ‰ key</span></span><br><span class="line"><span class="comment"># âš ï¸ æ³¨æ„ï¼šç”Ÿäº§ç¯å¢ƒç¦ç”¨ï¼Œå¯ä»¥ç”¨ scan æ›¿ä»£ï¼Œæˆ–åªåœ¨ä»èŠ‚ç‚¹æ‰§è¡Œ</span></span><br><span class="line">&gt; keys [patern]</span><br><span class="line">&gt; scan cursor [MATCH pattern] [COUNT count]</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿”å› key çš„æ•°æ®ç±»å‹</span></span><br><span class="line">&gt; <span class="built_in">type</span> key</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥ key æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">&gt; exists key [key ...]</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤</span></span><br><span class="line">&gt; del key [key ...]</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»Ÿè®¡ key çš„æ•°é‡</span></span><br><span class="line"><span class="comment"># æ—¶é—´å¤æ‚åº¦ O(1)ï¼Œé€šè¿‡å†…éƒ¨è®¡æ•°å™¨ä½¿ç”¨</span></span><br><span class="line">&gt; dbsize</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®è¿‡æœŸæ—¶é—´ï¼ˆå•ä½ï¼šç§’ï¼‰ï¼Œåˆ°æœŸåè‡ªåŠ¨åˆ é™¤</span></span><br><span class="line">&gt; expire key seconds</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ key çš„å‰©ä½™è¿‡æœŸæ—¶é—´</span></span><br><span class="line"><span class="comment"># &gt; 0 å‰©ä½™æ—¶é—´</span></span><br><span class="line"><span class="comment"># -1 key å­˜åœ¨ï¼Œä½†æ²¡æœ‰è®¾ç½®è¿‡æœŸæ—¶é—´</span></span><br><span class="line"><span class="comment"># -2 key è¿‡æœŸåè¢«è‡ªåŠ¨åˆ é™¤</span></span><br><span class="line">&gt; ttl key</span><br><span class="line"></span><br><span class="line"><span class="comment"># å»é™¤ key çš„è¿‡æœŸæ—¶é—´</span></span><br><span class="line">&gt; persist key</span><br></pre></td></tr></table></figure>

<h4 id="2-1-sting-å­—ç¬¦ä¸²"><a href="#2-1-sting-å­—ç¬¦ä¸²" class="headerlink" title="2.1. sting å­—ç¬¦ä¸²"></a>2.1. sting å­—ç¬¦ä¸²</h4><h5 id="2-1-1-ç»“æ„"><a href="#2-1-1-ç»“æ„" class="headerlink" title="2.1.1. ç»“æ„"></a>2.1.1. ç»“æ„</h5><ul>
<li>key</li>
<li>value</li>
</ul>
<h5 id="2-1-2-åœºæ™¯"><a href="#2-1-2-åœºæ™¯" class="headerlink" title="2.1.2. åœºæ™¯"></a>2.1.2. åœºæ™¯</h5><ul>
<li>ç¼“å­˜</li>
<li>è®¡æ•°å™¨</li>
<li>åˆ†å¸ƒå¼é”</li>
<li>â€¦â€¦</li>
</ul>
<h5 id="2-1-3-ä¸“æœ‰-API"><a href="#2-1-3-ä¸“æœ‰-API" class="headerlink" title="2.1.3. ä¸“æœ‰ API"></a>2.1.3. ä¸“æœ‰ API</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># key ä¸ç®¡æ˜¯å¦å­˜åœ¨ï¼Œéƒ½è®¾ç½®ï¼šå­˜åœ¨åˆ™æ›´æ–°ï¼Œä¸å­˜åœ¨åˆ™æ–°å¢</span></span><br><span class="line">&gt; <span class="built_in">set</span> key value</span><br><span class="line"></span><br><span class="line"><span class="comment"># key ä¸å­˜åœ¨æ‰è®¾ç½® &lt;==&gt; æ–°å¢</span></span><br><span class="line">&gt; setnx key value</span><br><span class="line"></span><br><span class="line"><span class="comment"># key å­˜åœ¨æ‰è®¾ç½® &lt;==&gt; æ›´æ–°</span></span><br><span class="line">&gt; <span class="built_in">set</span> key value xx</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æŒ‡å®š key çš„ value</span></span><br><span class="line">&gt; get key</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰¹é‡è®¾ç½®</span></span><br><span class="line">&gt; mset key value [key value ...]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰¹é‡è·å–</span></span><br><span class="line">&gt; mget key [ key ...]</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–å­—ç¬¦ä¸²é•¿åº¦</span></span><br><span class="line">&gt; strlen key</span><br></pre></td></tr></table></figure>

<p>å­ä¸²</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿½åŠ å­ä¸²</span></span><br><span class="line"><span class="comment"># è¿”å›è¿½åŠ æˆåŠŸçš„å­—ç¬¦ä¸²é•¿åº¦</span></span><br><span class="line">&gt; append key value</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–å­ä¸²</span></span><br><span class="line">&gt; getrange key start end</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¦†ç›–å­ä¸²</span></span><br><span class="line">&gt; setrange key offset value</span><br></pre></td></tr></table></figure>

<p>è®¡æ•°å™¨</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é€’å¢</span></span><br><span class="line"><span class="comment"># ä¸èƒ½è¶…è¿‡ Long.Max 9223372036854775807</span></span><br><span class="line">&gt; incr key</span><br><span class="line">&gt; incrby key increment</span><br><span class="line"></span><br><span class="line"><span class="comment"># é€’å‡</span></span><br><span class="line"><span class="comment"># ä¸èƒ½ä½äº Long.Min -9223372036854775808</span></span><br><span class="line">&gt; decr key</span><br><span class="line">&gt; decrby key decrement</span><br></pre></td></tr></table></figure>

<h4 id="2-2-hash-å“ˆå¸Œ"><a href="#2-2-hash-å“ˆå¸Œ" class="headerlink" title="2.2. hash å“ˆå¸Œ"></a>2.2. hash å“ˆå¸Œ</h4><h5 id="2-2-1-ç»“æ„"><a href="#2-2-1-ç»“æ„" class="headerlink" title="2.2.1. ç»“æ„"></a>2.2.1. ç»“æ„</h5><ul>
<li><p>key</p>
</li>
<li><p>value</p>
<ul>
<li><p>field ä¸èƒ½ç›¸åŒ</p>
</li>
<li><p>value å¯ä»¥ç›¸åŒ</p>
</li>
</ul>
</li>
</ul>
<h5 id="2-2-3-ä¸“æœ‰-API"><a href="#2-2-3-ä¸“æœ‰-API" class="headerlink" title="2.2.3. ä¸“æœ‰ API"></a>2.2.3. ä¸“æœ‰ API</h5><p>åŸºæœ¬æ“ä½œ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸º key å¢åŠ ä¸€ä¸ªé”®å€¼å¯¹</span></span><br><span class="line"><span class="comment"># field å­˜åœ¨åˆ™ä¿®æ”¹ï¼Œä¸å­˜åœ¨ï¼Œåˆ™æ–°å¢</span></span><br><span class="line">&gt; hset key field value</span><br><span class="line"></span><br><span class="line"><span class="comment"># field ä¸å­˜åœ¨æ‰è®¾ç½® &lt;==&gt; æ–°å¢</span></span><br><span class="line">&gt; hsetnx key field value</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸º key å¢åŠ å¤šä¸ªé”®å€¼å¯¹</span></span><br><span class="line">&gt; hmset key field value [field value ...]</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤ key ä¸­æŒ‡å®šçš„é”®</span></span><br><span class="line">&gt; hdel key field [field ...]</span><br><span class="line"></span><br><span class="line"><span class="comment"># é€’å¢</span></span><br><span class="line">&gt; hincrby key field increment</span><br><span class="line">&gt; hincrbyfloat key field increment</span><br></pre></td></tr></table></figure>

<p>æŸ¥è¯¢</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è·å– key çš„ä¸€ä¸ªé”®çš„å€¼</span></span><br><span class="line">&gt; hget key field</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å– key çš„å¤šä¸ªé”®çš„å€¼</span></span><br><span class="line">&gt; hmget key field [field ...]</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å– key çš„æ‰€æœ‰ field å’Œ value</span></span><br><span class="line">&gt; hgetall key</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿”å›æ‰€æœ‰ field</span></span><br><span class="line">&gt; hkeys key</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿”å›æ‰€æœ‰ value</span></span><br><span class="line">&gt; hvals key</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ¤æ–­ hash ä¸­çš„ä¸€ä¸ª field æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">&gt; hexists key field</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ¤æ–­ hash ä¸­æ‰€æœ‰ field çš„æ•°é‡</span></span><br><span class="line">&gt; hlen key</span><br></pre></td></tr></table></figure>

<h4 id="2-3-list-åˆ—è¡¨"><a href="#2-3-list-åˆ—è¡¨" class="headerlink" title="2.3.  list åˆ—è¡¨"></a>2.3.  list åˆ—è¡¨</h4><h5 id="2-3-1-ç‰¹ç‚¹"><a href="#2-3-1-ç‰¹ç‚¹" class="headerlink" title="2.3.1. ç‰¹ç‚¹"></a>2.3.1. ç‰¹ç‚¹</h5><ul>
<li>æœ‰åº</li>
<li>å¯é‡å¤</li>
<li>å·¦å³ä¸¤ç«¯æ’å…¥ã€å¼¹å‡º</li>
</ul>
<h5 id="2-3-2-åœºæ™¯"><a href="#2-3-2-åœºæ™¯" class="headerlink" title="2.3.2. åœºæ™¯"></a>2.3.2. åœºæ™¯</h5><ul>
<li><p>Stack æ ˆ <code>lpush</code> + <code>lpop</code></p>
</li>
<li><p>Queue é˜Ÿåˆ— <code>lpush</code> + <code>rpop</code></p>
</li>
<li><p>Capped Collection æœ‰é™é˜Ÿåˆ—é›†åˆï¼ˆå›ºå®šæ•°é‡ï¼‰ <code>lpush</code> + <code>ltrim</code></p>
</li>
<li><p>Message Queue æ¶ˆæ¯é˜Ÿåˆ— <code>lpush</code> + <code>brpop</code></p>
</li>
</ul>
<h5 id="2-3-3-ä¸“æœ‰-API"><a href="#2-3-3-ä¸“æœ‰-API" class="headerlink" title="2.3.3. ä¸“æœ‰ API"></a>2.3.3. ä¸“æœ‰ API</h5><p>å¢ï¼ˆ<strong>å…¥</strong>ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä»åˆ—è¡¨å·¦è¾¹æ·»åŠ </span></span><br><span class="line">&gt; lpush key value [value ...]</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»åˆ—è¡¨å³è¾¹æ·»åŠ </span></span><br><span class="line">&gt; rpush key value [value ...]</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨åˆ—è¡¨å…ƒç´  pivot çš„å‰é¢æˆ–åé¢æ’å…¥ä¸€ä¸ªæ–°å…ƒç´ </span></span><br><span class="line">&gt; linsert key BEFORE|AFTER pivot newValue</span><br></pre></td></tr></table></figure>

<p>åˆ ï¼ˆ<strong>å‡º</strong>ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä»åˆ—è¡¨å·¦è¾¹å¼¹å‡ºä¸€ä¸ª value</span></span><br><span class="line">&gt; lpop key</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»åˆ—è¡¨å³è¾¹å¼¹å‡ºä¸€ä¸ª value</span></span><br><span class="line">&gt; rpop key</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤æ‰€æœ‰ value ç›¸ç­‰çš„é¡¹</span></span><br><span class="line">&gt; lrem key count value</span><br><span class="line"><span class="comment"># count = 0 åˆ é™¤æ‰€æœ‰ value ç›¸ç­‰çš„é¡¹</span></span><br><span class="line"><span class="comment"># count &gt; 0 ä»å·¦åˆ°å³ï¼Œåˆ é™¤æœ€å¤š count ä¸ª value ç›¸ç­‰çš„é¡¹</span></span><br><span class="line"><span class="comment"># count &lt; 0 ä»å³åˆ°å·¦ï¼Œåˆ é™¤æœ€å¤š Math.abs(count) ä¸ª value ç›¸ç­‰çš„é¡¹</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‰ç…§ç´¢å¼•èŒƒå›´ä¿®å‰ªåˆ—è¡¨</span></span><br><span class="line">&gt; ltrim key start stop</span><br></pre></td></tr></table></figure>

<p>æ”¹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¿®æ”¹æŒ‡å®šä¸‹æ ‡çš„å…ƒç´ </span></span><br><span class="line">&gt; lset key index newValue</span><br></pre></td></tr></table></figure>

<p>æŸ¥</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è·å–æŒ‡å®šç´¢å¼•èŒƒå›´çš„æ‰€æœ‰é¡¹ï¼ˆåŒ…å« stop çš„é¡¹ï¼‰</span></span><br><span class="line">&gt; lrange key start stop</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥è¯¢ä¸€ä¸ª key ä¸‹çš„æ‰€æœ‰é¡¹</span></span><br><span class="line">&gt; lrange key 0 -1</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æŒ‡å®šä¸‹æ ‡çš„é¡¹</span></span><br><span class="line">&gt; lindex key index</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–åˆ—è¡¨é•¿åº¦</span></span><br><span class="line">&gt; llen key</span><br></pre></td></tr></table></figure>

<p>å…¶å®ƒ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç§»å‡ºå¹¶è·å–åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œ å¦‚æœåˆ—è¡¨æ²¡æœ‰å…ƒç´ ä¼šé˜»å¡åˆ—è¡¨ç›´åˆ°ç­‰å¾…è¶…æ—¶æˆ–å‘ç°å¯å¼¹å‡ºå…ƒç´ ä¸ºæ­¢</span></span><br><span class="line"><span class="comment"># timeout å•ä½ï¼šç§’</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># lpop çš„é˜»å¡ç‰ˆæœ¬</span></span><br><span class="line">&gt; blpop key [key ...] timeout</span><br><span class="line"></span><br><span class="line"><span class="comment"># rpop çš„é˜»å¡ç‰ˆæœ¬</span></span><br><span class="line">&gt; brpop key [key ...] timeout</span><br></pre></td></tr></table></figure>

<h4 id="2-4-set-é›†åˆ"><a href="#2-4-set-é›†åˆ" class="headerlink" title="2.4. set é›†åˆ"></a>2.4. set é›†åˆ</h4><h5 id="2-4-1-ç‰¹ç‚¹"><a href="#2-4-1-ç‰¹ç‚¹" class="headerlink" title="2.4.1. ç‰¹ç‚¹"></a>2.4.1. ç‰¹ç‚¹</h5><ul>
<li>æ— åº</li>
<li>ä¸å¯ä»¥é‡å¤</li>
<li>é›†åˆä¹‹é—´çš„æ“ä½œ</li>
</ul>
<h5 id="2-4-2-åœºæ™¯"><a href="#2-4-2-åœºæ™¯" class="headerlink" title="2.4.2. åœºæ™¯"></a>2.4.2. åœºæ™¯</h5><ul>
<li><p>Tagging æ ‡ç­¾åŒ– <code>sadd</code></p>
</li>
<li><p>Random Item éšæœºå…ƒç´  <code>srandmember</code> æˆ– <code>spop</code></p>
</li>
<li><p>Social Graph ç¤¾äº¤å›¾è°± <code>sadd</code> + <code>sinter</code></p>
</li>
</ul>
<h5 id="2-4-3-ä¸“æœ‰-API"><a href="#2-4-3-ä¸“æœ‰-API" class="headerlink" title="2.4.3. ä¸“æœ‰ API"></a>2.4.3. ä¸“æœ‰ API</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ å…ƒç´ åˆ°é›†åˆä¸­ï¼ˆé‡å¤çš„å…ƒç´ ä¼šè¢«å¿½ç•¥ï¼‰</span></span><br><span class="line">&gt; sadd key member [member ...]</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»é›†åˆä¸­åˆ é™¤å…ƒç´ </span></span><br><span class="line">&gt; srem key member [member ...]</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¡ç®—é›†åˆä¸­å…ƒç´ ä¸ªæ•°</span></span><br><span class="line">&gt; scard key</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥é›†åˆä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„å…ƒç´ </span></span><br><span class="line">&gt; sismember key member</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»é›†åˆä¸­éšæœºå–å‡º count ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="comment"># ä¸ä¼šç ´åé›†åˆ</span></span><br><span class="line">&gt; srandmember key [count]</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä»é›†åˆä¸­éšæœºå¼¹å‡º count ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="comment">#ä¼šç ´åé›†åˆï¼ˆå…ƒç´ çš„é¡ºåºï¼‰</span></span><br><span class="line">&gt; spop key [count]</span><br><span class="line"></span><br><span class="line"><span class="comment"># å–å‡ºé›†åˆä¸­æ‰€æœ‰å…ƒç´ </span></span><br><span class="line">&gt; smembers key</span><br><span class="line"><span class="comment"># æ³¨æ„ï¼š1. è·å–åˆ°çš„å…ƒç´ æ˜¯æ— åºçš„ï¼›2. å…ƒç´ è¾ƒå¤šæ—¶ä¼šé˜»å¡å…¶å®ƒæ“ä½œ</span></span><br><span class="line"><span class="comment"># æ›¿ä»£ï¼šsscan ?</span></span><br></pre></td></tr></table></figure>

<p>é›†åˆé—´</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è·å–ä¸€ä¸ªé›†åˆä¸å…¶å®ƒé›†åˆçš„å·®é›†</span></span><br><span class="line">&gt; sdiff key [key ...]</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–ä¸€ä¸ªé›†åˆä¸å…¶å®ƒé›†åˆçš„äº¤é›†</span></span><br><span class="line">&gt; sinter key [key ...]</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–ä¸€ä¸ªé›†åˆä¸å…¶å®ƒé›†åˆçš„å¹¶é›†</span></span><br><span class="line">&gt; sunion key [key ...]</span><br></pre></td></tr></table></figure>

<h4 id="2-5-zset-æœ‰åºé›†åˆ"><a href="#2-5-zset-æœ‰åºé›†åˆ" class="headerlink" title="2.5. zset æœ‰åºé›†åˆ"></a>2.5. zset æœ‰åºé›†åˆ</h4><h5 id="2-5-1-ç‰¹ç‚¹"><a href="#2-5-1-ç‰¹ç‚¹" class="headerlink" title="2.5.1. ç‰¹ç‚¹"></a>2.5.1. ç‰¹ç‚¹</h5><ul>
<li>æœ‰åº</li>
<li>ä¸å¯ä»¥é‡å¤</li>
<li>å…ƒç´ å¤šä¸€ä¸ª score ç”¨äºæ’åº</li>
</ul>
<h5 id="2-5-2-åœºæ™¯"><a href="#2-5-2-åœºæ™¯" class="headerlink" title="2.5.2. åœºæ™¯"></a>2.5.2. åœºæ™¯</h5><ul>
<li>æ’è¡Œæ¦œ</li>
</ul>
<h5 id="2-5-3-ä¸“æœ‰-API"><a href="#2-5-3-ä¸“æœ‰-API" class="headerlink" title="2.5.3. ä¸“æœ‰ API"></a>2.5.3. ä¸“æœ‰ API</h5><p>åŸºæœ¬æ“ä½œ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ å…ƒç´ </span></span><br><span class="line"><span class="comment"># score å¯é‡å¤ï¼Œmember ä¸å¯ä»¥é‡å¤</span></span><br><span class="line">&gt; zadd key score member [score member ...]</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤å…ƒç´ </span></span><br><span class="line">&gt; zrem key member [member ...]</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¢åŠ æˆ–å‡å°‘å…ƒç´ çš„åˆ†æ•°ï¼ˆscoreï¼‰</span></span><br><span class="line"><span class="comment"># increment ä¼ è´Ÿæ•°è¡¨ç¤ºå‡å°‘</span></span><br><span class="line">&gt; zincrby key increment member</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿”å›å…ƒç´ æ€»ä¸ªæ•°</span></span><br><span class="line">&gt; zcard key</span><br></pre></td></tr></table></figure>

<p>æ’åå’Œåˆ†æ•°</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿”å›å…ƒç´ åˆ†æ•°ï¼ˆscoreï¼‰</span></span><br><span class="line">&gt; zscore key member</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–å…ƒç´ çš„å‡åºï¼ˆscore ä»å°åˆ°å¤§ï¼‰æ’å</span></span><br><span class="line">&gt; zrank key member</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–å…ƒç´ çš„é™åºï¼ˆscore ä»å¤§åˆ°å°ï¼‰æ’å</span></span><br><span class="line">&gt; zrevrank key member</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æŒ‡å®šåˆ†æ•°é—´çš„æˆå‘˜æ•°é‡</span></span><br><span class="line">&gt; zcount</span><br></pre></td></tr></table></figure>

<p>æ ¹æ®èŒƒå›´è·å–å…ƒç´ </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è·å–æŒ‡å®šç´¢å¼•èŒƒå›´å†…çš„å‡åºï¼ˆscore ä»å°åˆ°å¤§ï¼‰å…ƒç´ [åˆ†æ•°]</span></span><br><span class="line"><span class="comment"># star 0 ç¬¬ä¸€æ¡ï¼›stop -1 æœ€åä¸€æ¡</span></span><br><span class="line">zrange key start stop [withscores]</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æŒ‡å®šç´¢å¼•èŒƒå›´å†…çš„é™åºï¼ˆscore ä»å¤§åˆ°å°ï¼‰å…ƒç´ [åˆ†æ•°]</span></span><br><span class="line">zrevrange key start stop [withscores]</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿”å›æŒ‡å®šåˆ†æ•°ï¼ˆscoreï¼‰èŒƒå›´å†…çš„å‡åºå…ƒç´ [åˆ†æ•°]</span></span><br><span class="line">&gt; zrangebyscore key min max [withscores]</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿”å›æŒ‡å®šåˆ†æ•°ï¼ˆscoreï¼‰èŒƒå›´å†…çš„é™åºå…ƒç´ [åˆ†æ•°]</span></span><br><span class="line">&gt; zrevrangebyscore key max min [withscores]</span><br></pre></td></tr></table></figure>

<p>æ ¹æ®èŒƒå›´ç§»é™¤å…ƒç´ </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ é™¤æŒ‡å®šæ’åèŒƒå›´å†…çš„å…ƒç´ </span></span><br><span class="line">&gt; zremrangebyrank key start stop</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤æŒ‡å®šåˆ†æ•°èŒƒå›´å†…çš„å…ƒç´ </span></span><br><span class="line">&gt; zremrangebyscore key min max</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>Redis</tag>
        <tag>æ•°æ®åº“</tag>
      </tags>
  </entry>
</search>
